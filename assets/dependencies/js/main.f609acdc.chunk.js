(this["webpackJsonpvideo-frontend"]=this["webpackJsonpvideo-frontend"]||[]).push([[0],{272:function(e,t,n){},416:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(60),i=n.n(r),s=(n(272),n(12)),o=n.n(s),l=n(17),j=n(4),d=n(242),b=n(498),h=n(27),u=n(24),x=n(30),O=n(499),p=n(140),m=n(500),f=n(491),g=n(501),v=n(503),y=n(219),w=n.n(y),k=n(63),S=n(0),C=function(e){var t,n=e.children,a=e.sx,c=void 0===a?{}:a;Object(k.a)(e,["children","sx"]);return t=Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},c),Object(S.jsx)(O.a,{sx:t,children:n})},T=function(e){var t=e.space,n=void 0===t?10:t;return Object(S.jsx)("div",{style:{margin:"".concat(n,"px 0")}})},N=n(19),E=n(20),W=n(90),I=n.n(W);function z(e){console.warn("In test mode"),e.token&&window.localStorage.setItem("jwt",e.token)}var B=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"http://localhost:1337",headers:{"Content-Type":"application/json"}})}return Object(E.a)(e,[{key:"logout",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/logout",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"allVideos",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.get("/videos");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"becomeCreator",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/api/creator/become",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"me",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/api/me",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/signup",t);case 2:return z((n=e.sent).data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/login",t);case 2:return z((n=e.sent).data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function _(){var e;return e||(e=new B),e}var A=[{image:"/images/create.png",header:"Create Magic",description:"Create wonderful and amazing videos that you want to show to the world"},{image:"/images/upload.png",header:"Upload to Ereder",description:"Showcase the world from your perspective by uploading your videos to Ereder"},{image:"/images/share.png",header:"Sharing is Caring",description:"You can share your Ereder videos with your close friends, paying viewers or the world"},{image:"/images/earn.png",header:"Earn Money",description:"Ereder is like OnlyFans but without the 18+ content"}],D=Object(d.a)({palette:{primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}});var L=function(){var e=_(),t=c.a.useState(1e3),n=Object(j.a)(t,2),a=n[0],r=n[1],i=c.a.useRef();return c.a.useEffect((function(){return i.current=setInterval((function(){r(a+1)}),500),function(){clearInterval(i.current)}})),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.a,{sx:{backgroundColor:"primary.main",marginBottom:"1em",paddingTop:"1em"},children:Object(S.jsx)(O.a,{sx:{maxWidth:500,width:"90%",margin:"0 auto",color:"white",display:"flex",alignItems:"center",padding:"3em 0"},children:Object(S.jsxs)("div",{children:[Object(S.jsxs)(p.a,{variant:"h3",fontWeight:"bold",children:["An"," ",Object(S.jsx)("code",{style:{color:D.palette.secondary.main},children:"upcoming"})," ","video sharing platform"]}),Object(S.jsxs)(p.a,{sx:{margin:"1em 0"},children:["Join over"," ",Object(S.jsx)("strong",{style:{fontSize:18},children:a})," users who share videos everyday with viewers around the world"]}),Object(S.jsx)(m.a,{variant:"contained",sx:{backgroundColor:"secondary.main",color:"white",marginRight:"10px",":hover":{backgroundColor:"secondary.main"}},onClick:function(){e.me().then(console.log).catch(console.log)},children:"Get Started"}),Object(S.jsx)(u.b,{to:"/explore",style:{textDecoration:"none",color:"white"},children:Object(S.jsx)(m.a,{color:"inherit",endIcon:Object(S.jsx)(w.a,{}),variant:"text",children:"Explore"})})]})})}),Object(S.jsx)(f.a,{container:!0,sx:{width:"100vw"},children:A.map((function(e,t){return Object(S.jsx)(f.a,{item:!0,sx:{padding:"10px"},md:3,sm:6,children:Object(S.jsxs)(g.a,{elevation:0,sx:{borderRadius:4,minHeight:{md:300,sm:250}},children:[Object(S.jsx)(C,{children:Object(S.jsx)("img",{src:e.image,alt:"create",style:{maxWidth:200,marginBottom:10}})}),Object(S.jsx)(p.a,{variant:"h6",align:"center",children:e.header}),Object(S.jsx)(C,{sx:{padding:"0 1em",margin:".5em 0"},children:Object(S.jsx)(p.a,{fontSize:".85rem",align:"center",children:e.description})})]})},"card"+t)}))}),Object(S.jsx)(T,{space:30}),Object(S.jsx)(O.a,{sx:{backgroundColor:"#b9b9dd",padding:"2em 0"},children:Object(S.jsx)(v.a,{children:Object(S.jsxs)(f.a,{container:!0,children:[Object(S.jsxs)(f.a,{item:!0,md:6,sm:12,sx:{padding:"0 20px"},children:[Object(S.jsxs)(p.a,{children:["Ereder has allowed me to view the works of other content creators and also showcase my new material, What I love most about the platform is that has so many features"," "]}),Object(S.jsx)(p.a,{variant:"h4",children:"Kenechukwu Rhema "}),Object(S.jsx)(p.a,{color:"white",fontStyle:"italic",children:"Lead Creative Director at KRC Entertainent"})]}),Object(S.jsxs)(f.a,{item:!0,md:6,sm:12,sx:{padding:"0 20px"},children:[Object(S.jsx)(p.a,{children:"Investing in Ereder has been one of the best decisions I have made. From modest beginnings, the platform is beginning to make some big moves in the Nigerian Tech Industry"}),Object(S.jsx)(p.a,{variant:"h4",children:"Christopher Okeke "}),Object(S.jsx)(p.a,{color:"white",fontStyle:"italic",children:"CEO, Akaokeke Investment Fund, Africa"})]})]})})}),Object(S.jsx)(T,{space:100})]})},P=n(3),V=n(6),F=n(417),H=n(524),U=n(525),q=n(510),G=n(42),M=n(487),R=n(509),K=n(244),Y=n(222),J=n.n(Y),X=n(105),Z=n.n(X),Q=n(490),$=n(162),ee=n.n($),te=n(104),ne=n.n(te),ae=n(130),ce=n.n(ae),re=n(479),ie=n(492),se=n(504),oe=n(508),le=n(506),je=n(507),de=n(505),be=n(15),he=function(e){var t=e.to,n=e.children,a=e.sx,c=e.style,r=e.doNotUseButton,i=void 0!==r&&r,s=Object(k.a)(e,["to","children","sx","style","doNotUseButton"]),o=Object.assign({textDecoration:"none",color:"inherit"},c);return Object(S.jsx)(u.b,Object(be.a)(Object(be.a)({to:t,style:o},s),{},{children:i?n:Object(S.jsx)(m.a,{sx:a,children:n})}))},ue=Object(V.a)("div")((function(e){var t=e.theme;return Object(P.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(F.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(F.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),xe=Object(V.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),Oe=Object(V.a)(G.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(P.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));function pe(){var e=Object(x.c)((function(e){return e.auth.user})),t=a.useState(null),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(x.b)(),s=a.useState(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],b=a.useState(null),h=Object(j.a)(b,2),f=h[0],g=h[1],v=a.useState(null),y=Object(j.a)(v,2),w=y[0],k=y[1],C=Boolean(c),T=Boolean(w),N=Boolean(f),E=a.useState(!1),W=Object(j.a)(E,2),I=W[0],z=W[1],B=function(){z(!1)},A=function(e){r(e.currentTarget)},D=function(){g(null)},L=function(){r(null),D(),P()},P=function(){k(null)},V=function(e){k(e.currentTarget)},F="primary-search-account-menu",G=Object(S.jsxs)(se.a,{open:I,onClose:B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(de.a,{id:"alert-dialog-title",children:"Logout?"}),Object(S.jsx)(le.a,{children:Object(S.jsx)(je.a,{id:"alert-dialog-description",children:"Are you sure you want to log out"})}),Object(S.jsxs)(oe.a,{children:[Object(S.jsx)(m.a,{onClick:B,children:"Cancel"}),Object(S.jsx)(m.a,{onClick:function(){_().logout().then((function(){i({type:"logout"}),window.location.pathname="/login"}))},autoFocus:!0,children:"Continue"})]})]}),Y=Object(S.jsx)(K.a,{anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"right"},id:"settings-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:T,onClose:P,children:Object(S.jsxs)(R.a,{onClick:function(){d(!l)},children:[Object(S.jsx)(Q.a,{checked:l,size:"small"})," ",Object(S.jsx)("span",{children:" Dark Mode "})]})}),X=Object(S.jsxs)(K.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:F,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:L,children:[Object(S.jsx)(u.b,{style:{textDecoration:"none",color:"inherit"},to:"/main/my-dashboard",children:Object(S.jsx)(R.a,{onClick:L,children:"My Dashboard"})}),(null===e||void 0===e?void 0:e.isCreator)&&Object(S.jsx)(u.b,{style:{textDecoration:"none",color:"inherit"},to:"/creator/dashboard",children:Object(S.jsx)(R.a,{onClick:L,children:"Creator Dashboard"})}),Object(S.jsx)(R.a,{onClick:L,children:"Settings"}),Object(S.jsx)(R.a,{onClick:function(){z(!0)},children:"Logout"})]}),$="primary-search-account-menu-mobile",te=Object(S.jsxs)(K.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:D,children:[Object(S.jsx)(he,{to:(null===e||void 0===e?void 0:e.isCreator)?"/creator/add-video":"/main/become-creator",doNotUseButton:!0,children:Object(S.jsxs)(R.a,{onClick:L,children:[Object(S.jsx)(q.a,{size:"large",color:"inherit",children:Object(S.jsx)(ne.a,{})}),Object(S.jsx)("p",{children:"Add Video"})]})}),Object(S.jsxs)(R.a,{children:[Object(S.jsx)(q.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:Object(S.jsx)(M.a,{badgeContent:17,color:"error",children:Object(S.jsx)(ee.a,{})})}),Object(S.jsx)("p",{children:"Notifications"})]}),Object(S.jsxs)(R.a,{onClick:A,children:[Object(S.jsx)(q.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(S.jsx)(ie.a,{sx:{width:24,height:24},alt:null===e||void 0===e?void 0:e.fullName,src:null===e||void 0===e?void 0:e.profilePic})}),Object(S.jsx)("p",{children:"Profile"})]}),Object(S.jsxs)(R.a,{onClick:V,children:[Object(S.jsx)(q.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(Z.a,{})}),Object(S.jsx)("p",{children:"Settings"})]})]});return Object(S.jsxs)(O.a,{sx:{flexGrow:1},children:[Object(S.jsx)(H.a,{color:"default",elevation:0,position:"fixed",style:{top:0},children:Object(S.jsxs)(U.a,{children:[Object(S.jsx)(he,{to:"/main",doNotUseButton:!0,children:Object(S.jsx)(p.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Ereder"})}),Object(S.jsxs)(ue,{children:[Object(S.jsx)(xe,{children:Object(S.jsx)(J.a,{})}),Object(S.jsx)(Oe,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),Object(S.jsx)(O.a,{sx:{flexGrow:1}}),Object(S.jsxs)(O.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(S.jsx)(he,{to:(null===e||void 0===e?void 0:e.isCreator)?"/creator/add-video":"/main/become-creator",doNotUseButton:!0,children:Object(S.jsx)(re.a,{title:"Add a video",children:Object(S.jsx)(q.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(ne.a,{})})})}),Object(S.jsx)(q.a,{size:"large","aria-label":"show 17 new notifications",title:"lion",color:"inherit",children:Object(S.jsx)(M.a,{badgeContent:17,color:"error",children:Object(S.jsx)(ee.a,{})})}),Object(S.jsx)(q.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":F,"aria-haspopup":"true",onClick:A,color:"inherit",children:Object(S.jsx)(ie.a,{sx:{width:30,height:30},alt:null===e||void 0===e?void 0:e.fullName,src:null===e||void 0===e?void 0:e.profilePic})}),Object(S.jsx)(re.a,{title:"Settings",children:Object(S.jsx)(q.a,{onClick:V,size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(Z.a,{})})})]}),Object(S.jsx)(O.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(S.jsx)(q.a,{size:"large","aria-label":"show more","aria-controls":$,"aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:Object(S.jsx)(ce.a,{})})})]})}),te,X,Y,G]})}var me=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"layout",children:[Object(S.jsx)(pe,{}),t,Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},fe=function(e){var t,n=e.children,a=e.sx,c=void 0===a?{}:a;Object(k.a)(e,["children","sx"]);return t=Object.assign({width:{sm:"100%",md:"85%"},margin:"0 auto"},c),Object(S.jsx)(O.a,{sx:t,children:n})},ge=n(223),ve=n.n(ge),ye=n(526),we=n(511),ke=n(527),Se=n(92),Ce=n.n(Se),Te=n(496),Ne=function(e){var t=e.props,n=t.text,a=t.length,c=void 0===a?10:a,r=Object(k.a)(t,["text","length"]);return Object(S.jsx)(p.a,Object(be.a)(Object(be.a)({},r),{},{children:t.text.length>c?n.slice(0,c)+"...":n}))},Ee={user_id:"1",id:"1",name:"Allison Kosy",short_description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Doloremque, assumenda.",logo:"/images/me.jpeg",follower_count:234,about:"When the App Store launched in 2008, YouVersion was one of the first 200 free apps available. That first weekend, 83,000 people installed the Bible on their device. But now, a Community that started with 83,000 downloads in one weekend has nearly reached half a billion.",like_count:4022,video_count:25},We=n(29),Ie=n.n(We),ze=n(483),Be=function(e){var t=e.request,n=e.setLoading,r=e.onLoad,i=e.data,s=e.onFail,d=void 0===s?console.log:s,b=Object(a.useState)(""),h=Object(j.a)(b,2),u=h[0],x=h[1],O=Object(a.useState)(!1),p=Object(j.a)(O,2),f=p[0],g=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(i);case 3:a=e.sent,r(a),e.next=27;break;case 7:if(e.prev=7,e.t0=e.catch(0),c="An Error Occured",!e.t0.response){e.next=26;break}n(!1),console.log(e.t0.response),e.t1=e.t0.response.status,e.next=400===e.t1?16:404===e.t1?18:500===e.t1?20:22;break;case 16:case 18:case 20:case 22:return y(e.t0.response.data.problems||c),e.abrupt("break",24);case 24:return y(c),e.abrupt("return");case 26:y(c);case 27:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(i);case 3:a=e.sent,r(a),e.next=27;break;case 7:if(e.prev=7,e.t0=e.catch(0),c="An Error Occured",!e.t0.response){e.next=26;break}n(!1),console.log(e.t0.response),e.t1=e.t0.response.status,e.next=400===e.t1?16:404===e.t1?18:500===e.t1?20:22;break;case 16:case 18:case 20:case 22:return y(e.t0.response.data.problems||c),e.abrupt("break",24);case 24:return y(c),e.abrupt("return");case 26:y(c);case 27:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(e){x(e),g(!0),n(!1),d(e)},w=function(){x(""),g(!1)},k=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:function(){v(),g(!1)},children:"Retry"}),Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:w,children:Object(S.jsx)(Ie.a,{fontSize:"small"})})]});return Object(S.jsx)(ze.a,{open:f,autoHideDuration:6e3,onClose:w,message:u,action:k})};Ce.a.extend(ve.a);var _e=function(e){var t=e.videoPlaceholderCount,n=void 0===t?6:t,r=e.loggedIn,i=void 0!==r&&r,s=e.xs,d=void 0===s?12:s,b=e.sm,h=void 0===b?6:b,u=e.md,x=void 0===u?4:u,O=e.lg,m=void 0===O?3:O,v=e.prefix,y=void 0===v?"/open":v,w=Object(a.useState)([]),k=Object(j.a)(w,2),T=k[0],N=k[1],E=new Array(n).fill(0),W=Object(a.useState)(!1),I=Object(j.a)(W,2),z=I[0],B=I[1],A=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(T.length>0)){e.next=3;break}return B(!0),e.abrupt("return");case 3:return t=_(),e.next=6,t.allVideos();case 6:return n=e.sent,N(n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(T),B(T.length>0)}),[T]);return Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(f.a,{container:!0,children:z?Object(S.jsx)(S.Fragment,{children:T.map((function(e,t){var n=Ee;return"string"!==typeof e.channel&&(n=e.channel),Object(S.jsx)(f.a,{item:!0,lg:m,md:x,sm:h,xs:d,style:{minWidth:"260px"},children:Object(S.jsx)(C,{children:Object(S.jsxs)(g.a,{sx:{maxWidth:455,m:2},children:[Object(S.jsx)(ye.a,{style:{textDecoration:"none",fontSize:"0.9em"},avatar:Object(S.jsx)("a",{style:{textDecoration:"none",fontSize:"0.9em"},href:"/channel/".concat(n.id),children:Object(S.jsx)(ie.a,{alt:"Intresting Channel",src:n.logo})}),action:i&&Object(S.jsx)(q.a,{"aria-label":"settings",children:Object(S.jsx)(ce.a,{})}),title:n.name,subheader:Ce()(e.createdAt).fromNow()}),Object(S.jsx)("a",{style:{textDecoration:"none",minHeight:"140px",display:"block",width:"100%"},href:"".concat(y,"/watch/").concat(e.id),children:Object(S.jsx)(ke.a,{component:"img",image:e.thumbnail,alt:e.thumbnail,sx:{fontSize:"12px",width:"100%"}})}),Object(S.jsxs)(we.a,{children:[Object(S.jsx)(Ne,{defaultComponent:"span",props:{color:"text.secondary",variant:"body2",component:"p",text:e.title,length:60}}),Object(S.jsx)(p.a,{children:e.viewCount})]})]})})},"video"+t)}))}):Object(S.jsx)(S.Fragment,{children:E.map((function(e,t){return Object(S.jsx)(f.a,{item:!0,lg:3,md:4,sm:6,xs:12,children:Object(S.jsxs)(g.a,{sx:{maxWidth:345,m:2},children:[Object(S.jsx)(ye.a,{avatar:Object(S.jsx)(Te.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(S.jsx)(Te.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(S.jsx)(Te.a,{animation:"wave",height:10,width:"40%"})}),Object(S.jsx)(Te.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(S.jsx)(we.a,{children:Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(Te.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(S.jsx)(Te.a,{animation:"wave",height:10,width:"80%"})]})})]})},"video"+t)}))})}),Object(S.jsx)(Be,{setLoading:function(e){return B(e)},request:A,onFail:function(e){console.log("In grid"),B(!0)},onLoad:function(e){console.log(T),console.log(e),N(e)}})]})},Ae=function(){return Object(S.jsx)(O.a,{sx:{marginTop:"8em"},children:Object(S.jsx)(fe,{children:Object(S.jsx)(_e,{})})})},De=n(243),Le={},Pe={darkMode:!1,autoPlay:!1,volume:80};var Ve=Object(De.a)({reducer:{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case"login":(n=Object(be.a)({},e)).user=t.user;break;case"logout":window.localStorage.removeItem("jwt"),n=Le;break;case"become_creator":n=Object(be.a)({},e);var a=Object(be.a)(Object(be.a)({},n.user),{},{isCreator:!0});console.log(t),n.user=a;break;default:console.warn("unknown action "+t.type)}return null==n?e:n},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case"change-autoplay":case"change-theme":(n=Object(be.a)({},e)).darkMode=t.value;break;case"change-volume":(n=Object(be.a)({},e)).volume=t.value;break;default:console.warn("unknown action "+t.type)}return null===n?e:n}},middleware:[function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}}]}),Fe=n(131),He=n.n(Fe),Ue=n(488),qe=n(512),Ge=n(513),Me=n(32),Re=n(74),Ke=n(33),Ye=Ke.a({emailAddress:Ke.b().email().required(),password:Ke.b().min(4).required()}).required(),Je=function(){var e,t,n,c=_(),r=Object(h.g)(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),x=b[0],O=b[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),y=v[0],w=v[1];r.search&&(n=r.search.slice(1),n=He.a.parse(n).rediirectTo,console.log(n));var k=Object(Me.d)({resolver:Object(Re.a)(Ye)}),N=k.register,E=k.handleSubmit,W=k.formState.errors,I=function(e){O(e),w(!0)},z=function(){O(""),w(!1)},B=Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:z,children:Object(S.jsx)(Ie.a,{fontSize:"small"})});return Object(S.jsx)(C,{sx:{height:"100vh",flexDirection:"column",padding:"1em 0"},children:Object(S.jsxs)(g.a,{sx:{maxWidth:"500px",width:"60%",minWidth:"300px",padding:0},children:[o&&Object(S.jsx)(qe.a,{}),Object(S.jsxs)(we.a,{sx:{padding:"3em 2em"},children:[Object(S.jsx)(p.a,{variant:"h6",align:"center",children:"Log In"}),Object(S.jsx)(T,{space:10}),Object(S.jsxs)("form",{onSubmit:E((function(e){l(!0),c.logIn(e).then((function(){window.location.pathname=n||"/"})).catch((function(e){if(e.response)switch(l(!1),console.log(e.response),e.response.status){case 400:I("Email or Password Incorrect");break;case 404:I("Email cannot be found");break;case 500:I("Server Error");break;default:I("Unknown Error")}else I(e.message||"Unknown Error")}))})),children:[Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({helperText:null===(e=W.email)||void 0===e?void 0:e.message,id:"email",error:!!W.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},N("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({id:"password",error:!!W.password,helperText:null===(t=W.password)||void 0===t?void 0:t.message},N("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"}),Object(S.jsx)(u.b,{to:"/signup",style:{marginLeft:30,textDecoration:"none"},children:Object(S.jsx)(m.a,{children:"Sign up"})})," ",Object(S.jsx)(T,{space:20})]})]}),"   ",Object(S.jsx)(ze.a,{open:y,autoHideDuration:6e3,onClose:z,message:x,action:B})]})})},Xe=n(489),Ze=n(482),Qe=[{value:"nigeria",title:"Nigeria"},{value:"civ",title:"Cote'ivore"},{value:"ghana",title:"Ghana"},{value:"the_gambia",title:"The Gambia"}],$e=Ke.a({emailAddress:Ke.b().email().required(),password:Ke.b().min(4).required(),fullName:Ke.b().min(3).required(),dob:Ke.b().length(10).required()}).required(),et=function(){var e,t,n,c,r=Object(h.g)(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),x=b[0],O=b[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),y=v[0],w=v[1],k=Object(a.useState)(Qe[0].value),N=Object(j.a)(k,2),E=N[0],W=N[1],I=Object(a.useState)(),z=Object(j.a)(I,2),B=z[0],A=z[1],D=_();r.search&&(c=r.search.slice(1),c=He.a.parse(c).rediirectTo,console.log(c));var L=function(e){O(e),w(!0)},P=function(){O(""),w(!1)},V=Object(Me.d)({resolver:Object(Re.a)($e)}),F=V.register,H=V.handleSubmit,U=V.formState.errors,G=Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:P,children:Object(S.jsx)(Ie.a,{fontSize:"small"})});return Object(S.jsxs)(C,{sx:{minHeight:"100vh",flexDirection:"column",padding:"1em 0",marginTop:20},children:[Object(S.jsxs)(g.a,{sx:{maxWidth:"500px",width:"60%",minWidth:"300px",padding:0},children:[o&&Object(S.jsx)(qe.a,{}),Object(S.jsxs)(we.a,{sx:{padding:"3em 2em"},children:[Object(S.jsx)(p.a,{variant:"h6",align:"center",children:"Sign Up"}),Object(S.jsx)(T,{space:10}),Object(S.jsxs)("form",{onSubmit:H((function(e){console.log(e),l(!0),D.signIn(e).then((function(){window.location.pathname=c||"/"})).catch((function(e){if(e.response)switch(l(!1),console.log(e.response),e.response.status){case 400:L("Email or Password Incorrect");break;case 500:L("Server Error");break;default:L("Unknown Error")}else L(e.message||"Unknown Error")}))})),children:[Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({helperText:null===(e=U.fullName)||void 0===e?void 0:e.message,id:"fullName",error:!!U.fullName,label:"Full Name",variant:"outlined",InputProps:{type:"fullName"}},F("fullName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({helperText:null===(t=U.email)||void 0===t?void 0:t.message,id:"email",error:!!U.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},F("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({id:"password",error:!!U.password,helperText:null===(n=U.password)||void 0===n?void 0:n.message},F("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({variant:"filled"},F("dob")),{},{type:"date",InputProps:{inputProps:{max:"12-12-2021"}},onChange:function(e){A(new Date(e.target.value))}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Xe.a,{id:"demo-simple-select-label",children:"Country"}),Object(S.jsxs)(Ge.a,{fullWidth:!0,children:["  ",Object(S.jsx)(Ze.a,Object(be.a)(Object(be.a)({},F("country")),{},{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"Country",onChange:function(e){W(e.target.value),console.log(B)},children:Qe.map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(R.a,{value:n,children:a},"country"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"}),Object(S.jsx)(u.b,{to:"/login",style:{marginLeft:30,textDecoration:"none"},children:Object(S.jsx)(m.a,{children:"Log In"})})," ",Object(S.jsx)(T,{space:20}),Object(S.jsx)(p.a,{component:"small",variant:"subtitle2",align:"center",color:"red",children:x})]})]})]}),Object(S.jsx)(ze.a,{open:y,autoHideDuration:6e3,onClose:P,message:x,action:G})]})},tt=n(502),nt=n(514),at=function(e){var t=e.height,n=void 0===t?"100vh":t;return Object(S.jsx)(C,{sx:{height:n},children:Object(S.jsxs)(O.a,{children:[" ",Object(S.jsx)(nt.a,{}),Object(S.jsx)("p",{children:"Loading"})]})})};function ct(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function rt(e){var t=Math.floor(e);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}var it=function(e){var t={id:e.id,user_id:e.user,name:e.name,about:e.about,short_description:e.shortDescription,logo:e.logo,banner:e.banner,follower_count:e.followerCount,like_count:e.likeCount,video_count:e.videoCount,total_views:e.totalViews};return t},st=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"http://localhost:1337/api/user",headers:{"Content-Type":"application/json"}})}return Object(E.a)(e,[{key:"addCard",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/card",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"purchases",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/paid-videos",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"viewHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/history",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/subscribe/".concat(t),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return(a=e.sent).data.channel=it(a.data.channel),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unSubscribe",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/subscribe/".concat(t,"?unsubscribe=true"),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/update",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowing",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/following",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,a=n.data.map((function(e){return Object(be.a)(Object(be.a)({},e),{},{channel:it(e.channel)})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ot(){var e;return e||(e=new st),e}var lt=function(e){var t=e.height,n=void 0===t?"100vh":t,a=Object(k.a)(e,["height"]);return Object(S.jsx)(C,{sx:{height:n},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{variant:"h6",children:"Error"}),Object(S.jsx)(p.a,{color:"error",children:a.errorMessage}),Object(S.jsx)(m.a,{variant:"contained",onClick:a.retry,children:"Retry"})]})})},jt=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],h=d[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),g=f[0],v=f[1];return Object(a.useEffect)((function(){ot().getFollowing().then((function(e){c(e.map((function(e){return e.channel}))),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),h(!0),o(!1)):(v("An error occured "+e.message),h(!0),o(!1))}))}),[]),s?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(at,{height:"80vh"})}):b?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(lt,{errorMessage:g,retry:function(){n.length>0||ot().getFollowing().then((function(e){c(e.map((function(e){return e.channel}))),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),h(!0),o(!1)):(v("An error occured "+e.message),h(!0),o(!1))}))},height:"80vh"})}):Object(S.jsxs)(O.a,{sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},style:{padding:"1em 0 0"},children:[Object(S.jsxs)(p.a,{fontWeight:"bold",component:"span",style:{marginLeft:15},children:["Following (",n.length,")"]})," ",Object(S.jsx)(he,{sx:{ml:.2},to:"/main/my-dashboard#channel",children:"View All"}),Object(S.jsx)(tt.a,{elevation:0,style:{height:"95%",overflowY:"scroll"},children:(n.length>20?n.slice(0,19):n).map((function(e,t){return Object(S.jsx)(u.b,{to:"#/creator/"+t,style:{display:"block",textDecoration:"none",color:"inherit",marginBottom:10},children:Object(S.jsxs)(m.a,{style:{textTransform:"none",display:"flex",width:"100%",justifyContent:"flex-start",color:"inherit"},children:[Object(S.jsx)(ie.a,{alt:e.name,src:e.logo}),Object(S.jsx)(p.a,{style:{marginLeft:15},children:e.name})]})},"creator"+t)}))})]})},dt=function(){return Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.a,{style:{maxHeight:"calc(100vh )",overflow:"hidden",marginTop:"64px"},sx:{position:"relative",display:{sm:"block",md:"flex"}},children:[Object(S.jsx)(O.a,{style:{overflowY:"scroll",height:"100vh"},flex:1,children:Object(S.jsx)(fe,{children:Object(S.jsx)(_e,{videoPlaceholderCount:24,prefix:"/main"})})}),Object(S.jsx)(jt,{})]})})},bt=n(234),ht=n.n(bt),ut=n(235),xt=n.n(ut),Ot=n(475),pt=n(227),mt=n.n(pt),ft=n(245),gt=n(230),vt=n.n(gt),yt=n(231),wt=n.n(yt),kt=n(233),St=n.n(kt),Ct=n(232),Tt=n.n(Ct),Nt=n(485);var Et=n(229),Wt=n.n(Et),It=n(228),zt=n.n(It);var Bt=function(e){var t=e.url,n=c.a.useRef(),r=c.a.useRef(),i=c.a.useRef(0),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=Object(a.useState)(t),r=Object(j.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){var t=function(){return s(!0)},a=function(){return setTimeout((function(){return s(!1)}),n)},c=e.current;if(c)return c.addEventListener("mouseover",t),c.addEventListener("mouseleave",a),function(){var e=c;e&&(e.removeEventListener("mouseover",t),e.removeEventListener("mouseleave",a))}}),[e]),i}(r),o=Object(a.useState)(!1),l=Object(j.a)(o,2),d=l[0],b=l[1],h=Object(a.useState)("00:00"),u=Object(j.a)(h,2),x=u[0],m=u[1],f=Object(a.useState)(0),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(0),k=Object(j.a)(w,2),T=k[0],N=k[1],E=Object(a.useState)(0),W=Object(j.a)(E,2),I=W[0],z=W[1],B=Object(a.useState)("00:00"),_=Object(j.a)(B,2),A=_[0],D=_[1],L=Object(a.useState)(!1),P=Object(j.a)(L,2),V=P[0],F=P[1],H=Object(ft.a)(!1,1e3),U=Object(j.a)(H,2),G=U[0],M=U[1],R=Object(a.useState)(!1),K=Object(j.a)(R,2),Y=K[0],J=K[1],X=Object(a.useState)(!1),Z=Object(j.a)(X,2),Q=Z[0],$=Z[1],ee=c.a.useState(!0),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ce=function(e,t){"clickaway"!==t&&ae(!1)};Object(a.useEffect)((function(){var e=function(e){document.fullscreenElement?console.log("Element: ".concat(document.fullscreenElement.id," entered full-screen mode.")):Q&&$(!1)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}));var re=function(){var e=Object(a.useState)({width:640,height:100}),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c({width:window.outerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}();Object(a.useEffect)((function(){r.current&&Q?r.current.requestFullscreen():Q||document.fullscreenElement&&document.exitFullscreen().catch(console.log)}),[Q]);Object(a.useEffect)((function(){return M(V),function(){}}),[V,M]),Object(a.useEffect)((function(){return console.log("sending request"),function(){}}),[G]),Object(a.useEffect)((function(){return 0!==i.current&&clearTimeout(i.current),i.current=window.setTimeout((function(){J(!1),i.current=0}),2e3),function(){0!==i.current&&clearTimeout(i.current)}}),[Y]),Object(a.useEffect)((function(){return D(rt(I)),function(){}}),[I]),Object(a.useEffect)((function(){return m(rt(v)),function(){}}),[v]);var ie=Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:ce,children:Object(S.jsx)(Ie.a,{fontSize:"small"})});return Object(S.jsxs)(fe,{sx:{paddingTop:"1em",maxWidth:"640px"},children:[" ",Object(S.jsxs)("div",{onClick:function(){J(!0),b(!d)},style:{position:"relative"},ref:r,children:[Object(S.jsx)(mt.a,{ref:n,onProgress:function(e){N(e.played),y(e.playedSeconds)},height:Q?"100%":"auto",width:Q?window.innerWidth+"px":re.width&&re.width<640?re.width+"px":"640px",onDuration:z,playing:d,url:t}),Object(S.jsx)(O.a,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:{xs:Y?"block":"none",sm:Y?"block":"none",md:Q?Y?"block":"none":s?"block":"none"}},children:Object(S.jsx)(C,{sx:{marginTop:"1em"},children:Object(S.jsxs)(O.a,{sx:{width:"85%",backgroundColor:"#000000ad",p:1},children:[Object(S.jsxs)(O.a,{alignItems:"center",justifyContent:"space-between",display:"flex",sx:{alignItems:"center"},children:[Object(S.jsx)(q.a,{onClick:function(){return $(!Q)},style:{color:"white"},"aria-label":"next",children:Q?Object(S.jsx)(zt.a,{}):Object(S.jsx)(Wt.a,{})}),Object(S.jsxs)(O.a,{alignItems:"center",display:"flex",sx:{alignItems:"center"},children:[Object(S.jsx)(q.a,{style:{color:"white"},"aria-label":"previous",children:Object(S.jsx)(vt.a,{})}),Object(S.jsx)(q.a,{onClick:function(){return b(!d)},sx:{margin:"0 0.5em",color:"white"},"aria-label":"play/pause",children:d?Object(S.jsx)(Tt.a,{sx:{height:30,width:30}}):Object(S.jsx)(wt.a,{sx:{height:30,width:30}})}),Object(S.jsx)(q.a,{style:{color:"white"},"aria-label":"next",children:Object(S.jsx)(St.a,{})})]}),Object(S.jsxs)(p.a,{id:"seek",sx:{color:"white"},children:[x,"/",A]})]}),Object(S.jsx)(O.a,{sx:{width:"100%"},children:Object(S.jsx)(Nt.a,{size:"small",value:100*T,"aria-label":"Small",valueLabelDisplay:"off",color:"secondary",onChange:function(e,t){if(n.current){var a=Array.isArray(t)?t[0]:t;N(a/100),n.current.seekTo(a/100,"fraction")}}})})]})})})]}),Object(S.jsxs)(O.a,{display:"flex",marginTop:1,children:[Object(S.jsxs)(O.a,{display:"flex",padding:"0 2em 0 0",color:"primary",alignItems:"center",children:[" ",Object(S.jsx)(ht.a,{color:"primary"})," ",Object(S.jsxs)(p.a,{color:"primary",variant:"subtitle1",component:"span",children:[" ","1203 views"]})]}),Object(S.jsx)(Ot.a,{orientation:"vertical",flexItem:!0}),Object(S.jsxs)(O.a,{display:"flex",padding:"0 0 0 2em",alignItems:"center",children:[" ",Object(S.jsxs)(q.a,{onClick:function(){F(!V)},color:V?"error":"default",children:[" ",Object(S.jsx)(xt.a,{color:"inherit"})," "]})," ",Object(S.jsxs)(p.a,{color:"secondary",variant:"subtitle1",component:"span",children:[" ","1203 views"]})]})]}),Object(S.jsx)(ze.a,{open:ne,autoHideDuration:6e3,onClose:ce,message:"Tap Video to play or pause",action:ie})]})},_t=function(){return Object(S.jsx)(O.a,{style:{marginTop:"4em"},children:Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:8,sm:12,children:Object(S.jsx)(Bt,{url:"/videos/video.mp4"})}),Object(S.jsx)(f.a,{item:!0,md:4,sm:12,children:Object(S.jsxs)(O.a,{padding:2,children:[Object(S.jsx)(p.a,{variant:"caption",children:"Video Creator"}),Object(S.jsx)(p.a,{variant:"h4",children:"Video Title "}),Object(S.jsx)(p.a,{variant:"body2",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vitae unde provident quae praesentium, non sint. Rerum, ex error distinctio ut blanditiis magni voluptates numquam cumque. Dolor itaque cupiditate repellendus a."}),Object(S.jsx)(p.a,{variant:"caption",children:"5 hours ago"})]})})]})})},At=n(480),Dt=n(515),Lt=n(133),Pt=n(84),Vt=n.n(Pt),Ft=n(81),Ht=[{value:"nigeria",title:"Nigeria"},{value:"civ",title:"Cote'ivore"},{value:"ghana",title:"Ghana"},{value:"the_gambia",title:"The Gambia"}],Ut=function(e){var t=e.user,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1];return i?t.has_billing_card?Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Card Details"}),Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1,maxWidth:"200px"},alignItems:"center",children:["    ",Object(S.jsxs)(p.a,{style:{flex:1},children:[t.billing_card_brand||"none"," ","->"," ",t.billing_card_last4," "]}),Object(S.jsx)(he,{to:"/main/update-billing",children:"Update"})]}),Object(S.jsx)(m.a,{onClick:function(){return s(!1)},children:"Hide Card Details "})]}):Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1,maxWidth:"200px"},alignItems:"center",children:["    ",Object(S.jsx)(p.a,{style:{flex:1},children:"No Card Details "}),Object(S.jsx)(he,{to:"/main/update-billing",children:"Add"})]}):Object(S.jsx)(m.a,{variant:"contained",onClick:function(){return s(!0)},children:"Show Card Details "})},qt=function(e){var t=e.user,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)(!1),h=Object(j.a)(b,2),u=h[0],x=h[1],f=function(e){d(e),i(!0)},g=function(e,t){"clickaway"!==t&&i(!1)},y=Object(Ft.a)(),w=Object(Me.d)({}),k=w.register,C=w.handleSubmit,N=Object(a.useState)(Ht[0].value),E=Object(j.a)(N,1)[0],W=ot(),I=Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:g,children:Object(S.jsx)(Ie.a,{fontSize:"small"})});return Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Profile Picture"}),Object(S.jsxs)(O.a,{sx:{mt:2},children:[Object(S.jsx)(M.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(S.jsx)(q.a,{style:{backgroundColor:y.palette.primary.main},children:Object(S.jsx)(Vt.a,{htmlColor:"white"})}),children:Object(S.jsx)(ie.a,{alt:(null===t||void 0===t?void 0:t.fullName)||"None",src:(null===t||void 0===t?void 0:t.profilePic)||"/images/me.jpeg",sx:{width:100,height:100}})}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ot.a,{variant:"middle"})," ",Object(S.jsx)(T,{space:20}),Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:C((function(e){x(!0);for(var n=Object.keys(e),a=Object(be.a)({},t),c=0,r=n;c<r.length;c++){var i=r[c];(!e[i]||a&&e[i]===a[i])&&delete e[i]}W.updateDetails(e).then((function(){x(!1),f("Details Updated successfully")})).catch((function(e){console.log(e),x(!1),f("An error occured while trying to update")}))})),children:[u&&Object(S.jsx)(qe.a,{}),Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Contact Details"}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({defaultValue:null===t||void 0===t?void 0:t.fullName,id:"fullName",label:"Full Name",variant:"outlined",InputProps:{type:"text"}},k("fullName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({id:"email",defaultValue:null===t||void 0===t?void 0:t.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},k("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({variant:"filled",type:"date",defaultValue:null===t||void 0===t?void 0:t.birthdate,InputProps:{inputProps:{max:"12-12-2021"}}},k("dob")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Xe.a,{id:"demo-simple-select-label",children:"Country"}),Object(S.jsxs)(Ge.a,{fullWidth:!0,children:[" ",Object(S.jsx)(Ze.a,Object(be.a)(Object(be.a)({labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"Country"},k("country")),{},{children:Ht.map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(R.a,{value:n,children:a},"country"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Update Details"})]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ot.a,{variant:"middle"})," ",Object(S.jsx)(T,{space:20}),t&&Object(S.jsx)(Ut,{user:t})]}),Object(S.jsx)(ze.a,{open:r,autoHideDuration:6e3,onClose:g,message:l,action:I})]})},Gt=n(16),Mt=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!0),l=Object(j.a)(o,2),d=l[0],b=l[1],h=Object(a.useState)(!1),u=Object(j.a)(h,2),x=u[0],f=u[1],g=Object(a.useState)(!1),y=Object(j.a)(g,2),w=y[0],k=y[1],T=Object(a.useState)(""),N=Object(j.a)(T,2),E=N[0],W=N[1],I=Object(a.useState)([]),z=Object(j.a)(I,2),B=z[0],_=z[1],A=Object(a.useState)(null),D=Object(j.a)(A,2),L=D[0],P=D[1];Object(a.useEffect)((function(){!i&&t&&(console.log("request two"),s(!0),ot().getFollowing().then((function(e){_(e.map((function(e){return e.channel}))),b(!1)})).catch((function(e){k(!0),W(e.message),b(!1)})))}),[i,t]);var V=function(e,t){"clickaway"!==t&&("undo"!==t&&console.log("unfollowed "+(null===L||void 0===L?void 0:L.name)),k(!1),P(null))},F=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:function(e){if(null!==L){if(x)return;var t=ot();f(!0),t.subscribe(L.id).then((function(e){_([e.channel].concat(Object(Gt.a)(B))),P(null),W("Subscribed to "+e.channel.name),f(!1),k(!0)})).catch((function(e){f(!1),W("An error occured"),k(!0)}))}},children:"UNDO"}),Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:Object(S.jsx)(Ie.a,{fontSize:"small"})})]});return d&&0===B.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"sm",style:{paddingTop:"2em"},children:[B.map((function(e,t){return Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1},children:[Object(S.jsxs)(he,{to:"/main/channel/"+e.id,style:{marginBottom:10,flex:1,display:"flex"},sx:{textTransform:"none",display:"flex",width:"100%",justifyContent:"flex-start",color:"inherit"},children:[Object(S.jsx)(ie.a,{alt:e.name,src:e.logo}),Object(S.jsxs)(O.a,{padding:"0 0 0 1em",children:[Object(S.jsx)(p.a,{fontWeight:"bold",sx:{color:"text.primary"},children:e.name}),Object(S.jsx)(p.a,{component:"p",variant:"subtitle2",color:"GrayText",align:"left",children:e.follower_count+(1===e.follower_count?" follower":" followers")})]})]}),Object(S.jsx)(m.a,{style:{display:"inline"},onClick:function(){return function(e){if(!x){var t=ot();f(!0),t.unSubscribe(e.id).then((function(t){console.log(t),W("unfollowed "+e.name),P(e),_(B.filter((function(t){return t.id!==e.id}))),f(!1),k(!0)})).catch((function(e){f(!1),W("An error occured"),k(!0)}))}}(e)},children:"Unfollow"})]},"channel-"+t)})),Object(S.jsx)(ze.a,{open:w,autoHideDuration:6e3,onClose:V,message:E,action:F})]})},Rt=n(494),Kt=function(e){var t=e.showing,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!0),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)([]),h=Object(j.a)(b,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){!r&&t&&(console.log("request three"),ot().viewHistory().then((function(e){d(!1),m(e)})).catch((function(){d(!1)})),i(!0))}),[r,t]),l&&0===x.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(T,{space:30}),x.map((function(e,t){var n=e.video,a=e.channel,c="restricted"===n.videoType?"filled":"outlined";return Object(S.jsxs)(O.a,{sx:{mb:1},display:"flex",alignItems:"center",children:[Object(S.jsx)("div",{style:{width:"40%",maxWidth:"230px"},children:Object(S.jsx)(u.b,{to:"/main/watch/"+n.id,children:Object(S.jsx)("img",{style:{display:"block",width:"100%"},src:n.thumbnail,alt:n.title})})}),Object(S.jsxs)(O.a,{flex:1,padding:"1em",children:[Object(S.jsx)(p.a,{fontWeight:"bold",sx:{color:"text.primary"},children:n.title}),Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontSize:".85rem",children:ct(n.description||"No description",100)}),Object(S.jsx)(he,{to:"/main/channel/"+a.id,sx:{mt:1,textTransform:"none",padding:0},children:Object(S.jsx)(p.a,{sx:{color:"text.primary"},variant:"subtitle2",children:a.name})}),Object(S.jsx)("div",{style:{marginTop:"0.5em"},children:Object(S.jsx)(Rt.a,{variant:c,label:n.videoType,size:"small"})})]})]},"view-history-"+t)}))]})},Yt=function(e){var t=e.showing,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!0),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)([]),h=Object(j.a)(b,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){!r&&t&&(console.log("request four"),ot().purchases().then((function(e){d(!1),m(e)})).catch((function(){d(!1)})),i(!0))}),[r,t]),l&&0===x.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(T,{space:30}),x.map((function(e,t){var n=e.videoPurchased,a=e.amountPaid,c=e.channel;return Object(S.jsxs)(O.a,{sx:{mb:1},display:"flex",alignItems:"center",children:[Object(S.jsx)("div",{style:{width:"40%",maxWidth:"230px"},children:Object(S.jsx)(u.b,{to:"/watch/"+n.id,children:Object(S.jsx)("img",{style:{display:"block",width:"100%"},src:n.thumbnail,alt:n.title})})}),Object(S.jsxs)(O.a,{flex:1,padding:"1em",children:[Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontWeight:"bold",children:n.title}),Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontSize:".85rem",children:ct(n.description,80)}),Object(S.jsx)(he,{to:"/main/channel/"+c.id,sx:{mt:1,textTransform:"none",padding:0},children:Object(S.jsx)(p.a,{variant:"subtitle2",children:c.name})}),Object(S.jsxs)(p.a,{sx:{color:"success.main"},fontWeight:"bold",component:"p",variant:"caption",children:[a,"(NGN)"]})]})]},"view-history-"+t)}))]})},Jt=function(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(a.useState)(0),n=Object(j.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){var e=window.location.hash.slice(1);if(e){var t={};["Profile","Channels","History","Purchases"].forEach((function(e,n){t[e.toLocaleLowerCase()]=n})),t.channel=1;var n=t[e];n&&r(n)}}),[]);return Object(S.jsxs)(O.a,{style:{marginTop:"4em",position:"relative"},children:[Object(S.jsx)(Lt.a,{children:Object(S.jsx)("title",{children:(null===e||void 0===e?void 0:e.fullName)+" / "+["Profile","Channels","History","Purchases"][c]})}),Object(S.jsx)(tt.a,{style:{padding:"1em 0 0",border:"none",boxShadow:"none"},elevation:0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(p.a,{variant:"h5",children:(null===e||void 0===e?void 0:e.fullName)||"None"})})}),Object(S.jsx)(tt.a,{style:{position:"sticky",top:64,left:0,zIndex:99,borderTop:"none"},square:!0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper",position:"sticky",top:64,left:0,zIndex:99},children:Object(S.jsxs)(At.a,{variant:"scrollable",scrollButtons:"auto",value:c,onChange:function(e,t){r(t)},children:[Object(S.jsx)(Dt.a,{href:"#profile",label:"Profile"}),Object(S.jsx)(Dt.a,{href:"#channel",label:"Channels"}),Object(S.jsx)(Dt.a,{href:"#history",label:"History"}),Object(S.jsx)(Dt.a,{href:"#purchases",label:"Purchases"})]})})})}),Object(S.jsx)(O.a,{style:{display:0===c?"block":"none"},children:Object(S.jsx)(qt,{user:e})}),Object(S.jsx)(O.a,{style:{display:1===c?"block":"none"},children:Object(S.jsx)(Mt,{showing:1===c})}),Object(S.jsx)(O.a,{style:{display:2===c?"block":"none"},children:Object(S.jsx)(Kt,{showing:2===c})}),Object(S.jsx)(O.a,{style:{display:3===c?"block":"none"},children:Object(S.jsx)(Yt,{showing:3===c})}),Object(S.jsx)(T,{space:30})]})},Xt=n(476);function Zt(e){var t=e.children,n=e.window,c=Object(Xt.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return a.cloneElement(t,{elevation:c?4:0})}function Qt(e){return Object(S.jsx)(O.a,{sx:{flexGrow:1},children:Object(S.jsx)(Zt,Object(be.a)(Object(be.a)({},e.props),{},{children:Object(S.jsx)(H.a,{children:Object(S.jsxs)(U.a,{children:[Object(S.jsx)(u.b,{to:"/",style:{display:"block",textDecoration:"none",color:"white",flex:1},children:Object(S.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Ereder"})}),Object(S.jsx)(u.b,{to:"/login",style:{display:"block",textDecoration:"none",color:"white"},children:Object(S.jsx)(m.a,{color:"inherit",children:"Login"})})]})})}))})}var $t=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"layout",children:[Object(S.jsx)(Qt,{}),t,Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},en=function(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),u=b[0],f=b[1],g=Object(x.b)(),y=_(),w=function(){l(!1)},k=Object(S.jsxs)(se.a,{open:o,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(de.a,{id:"alert-dialog-title",children:"Failed"}),Object(S.jsx)(le.a,{children:Object(S.jsx)(je.a,{id:"alert-dialog-description",children:u})}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(m.a,{onClick:w,autoFocus:!0,children:"Close"})})]});return Object(S.jsxs)(O.a,{style:{marginTop:"4em",height:"calc(100vh - 64px)"},children:[(null===e||void 0===e?void 0:e.isCreator)&&Object(S.jsx)(h.a,{to:"/creator/dashboard"}),Object(S.jsxs)(v.a,{maxWidth:"sm",style:{height:"100%"},children:[Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(tt.a,{style:{padding:"2em",textAlign:"center"},elevation:3,children:[Object(S.jsx)("img",{style:{width:"100%",maxWidth:350},alt:"Become a creator",src:"/images/share.png"}),Object(S.jsx)(p.a,{align:"center",sx:{mt:2,mb:2},variant:"h4",children:"Become a Creator"}),Object(S.jsxs)(p.a,{align:"center",sx:{mt:2,mb:2},children:["Join over ",Object(S.jsx)(p.a,{component:"span",color:"#e770de",children:" 1000"})," creators who create everyday on Ereder"]}),Object(S.jsxs)(p.a,{fontSize:".9em",color:"GrayText",align:"center",sx:{mt:2,mb:2},children:["By becoming a creator you are required to comply with our ",Object(S.jsx)("a",{href:"/content-policy",children:"content policy"})," and follow all the ",Object(S.jsx)("a",{href:"/community-guidelines",children:"Community Guidelines"})]}),Object(S.jsx)(m.a,{onClick:function(){r(!0),y.becomeCreator().then((function(e){e.isCreator?g({type:"become_creator"}):(f("Failed to make you a creator"),l(!0))})).catch((function(e){f("Request Could not be completed at this time"),l(!0)}))},variant:"contained",style:{minWidth:103},children:c?Object(S.jsx)(nt.a,{size:30,color:"inherit"}):"Continue"})]})}),k]})]})},tn=n(138),nn=n.n(tn),an=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"http://localhost:1337/api/creator",headers:{"Content-Type":"application/json"}})}return Object(E.a)(e,[{key:"uploadVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/video/".concat(t),n,{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"analytics",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,r,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/analytics/".concat(t),r=[],n&&r.push("populate="+n),a&&r.push("since="+a.getTime()),r.length>0&&(i="?"+(r.length>1?r.join("&"):r[0]),c+=i),s={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=8,this._api.get(c,{headers:{authorization:"Bearer ".concat(s.token)}});case 8:return l=e.sent,e.abrupt("return",l.data);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateBankDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/bank-details",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editChannel",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/channel",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/channel",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBankDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/bank-details",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cn(){var e;return e||(e=new an),e}var rn=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(),l=Object(j.a)(o,2),d=l[0],b=l[1],h=Object(a.useState)(!0),u=Object(j.a)(h,2),x=u[0],m=u[1];return Object(a.useEffect)((function(){if(!i&&t){if(console.log("load details"),d)return;cn().getBankDetails().then((function(e){b(e),m(!1)})).catch((function(e){console.log(e),m(!1)})),s(!0)}}),[i,t,d]),t?x&&!d?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):d?Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Account Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:d.bankAccountName}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Account Number"}),Object(S.jsx)(p.a,{fontSize:".9em",sx:{mb:1},children:d.bankAccountNumber}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:d.bankName})]}):Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(he,{to:"/",doNotUseButton:!0,children:"Go Back"})]})}):Object(S.jsx)(c.a.Fragment,{})},sn=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!0),s=Object(j.a)(i,2),o=s[0],l=s[1],d=c.a.useState(!1),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(a.useState)(!1),g=Object(j.a)(x,2),y=g[0],w=g[1],k=Object(a.useState)(""),T=Object(j.a)(k,2),N=T[0],E=T[1],W=Object(a.useState)(""),I=Object(j.a)(W,2),z=I[0],B=I[1],_=Object(a.useState)(""),A=Object(j.a)(_,2),D=A[0],L=A[1];Object(a.useEffect)((function(){var e=cn();n?l(!1):e.getChannel().then((function(e){r(e),l(!1)})).catch((function(e){if(e.response){switch(l(!1),console.log(e.response),e.response.status){case 404:L(e.response.data.message);break;case 500:L("Server Error");break;default:L("Unknown Error")}l(!1)}else L(e.message),l(!1)}))}),[n]);var P=function(){u(!0)},V=function(){u(!1)},F=Object(S.jsxs)(se.a,{open:h,onClose:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(de.a,{id:"alert-dialog-title",children:N}),Object(S.jsx)(le.a,{children:Object(S.jsx)(je.a,{id:"alert-dialog-description",children:z})}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(m.a,{onClick:V,autoFocus:!0,children:"Close"})})]});return o?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(at,{})}):n?Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Channel Dashboard"}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(tt.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Channel Information"}),Object(S.jsx)(q.a,{color:"info",onClick:function(){E("Channel Info Help"),B("These Details would be displayed when someone navigates to your Channel page.\nPlease Note that the details here must comply with our Community Guidelines"),P()},children:Object(S.jsx)(nn.a,{})})]}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:n.name}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel Description"}),Object(S.jsx)(p.a,{fontSize:".9em",sx:{mb:1},children:n.short_description||"No description provided"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel About Section"}),Object(S.jsx)(p.a,{paragraph:!0,fontSize:".9em",sx:{mb:1},children:n.about||"No about provided"}),Object(S.jsx)(he,{to:"/creator/edit-channel",children:"Edit Channel Info"})]})})}),Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(tt.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Channel Analytics"}),Object(S.jsx)(q.a,{color:"info",onClick:function(){E("Channel Analytics Help"),B("Analtytics on your Channel based on user interaction. \nYou can view a full summary of analytics by going to the Analytics section in the sidebar"),P()},children:Object(S.jsx)(nn.a,{})})]}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Total Followers"}),Object(S.jsx)(p.a,{variant:"h5",component:"p",sx:{mb:1},children:n.follower_count}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Videos"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:n.video_count||"Unavailable"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Views"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:n.total_views||"Unavailable"})]})})}),Object(S.jsx)(f.a,{item:!0,sm:12,md:6,children:Object(S.jsx)(tt.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Bank Information"}),Object(S.jsx)(q.a,{color:"info",onClick:function(){E("Bank Info Help"),B("Information that we would use to pay your withdrawal requests"),P()},children:Object(S.jsx)(nn.a,{})})]}),Object(S.jsx)(rn,{showing:y}),Object(S.jsxs)("div",{style:{display:"flex",maxWidth:300},children:[Object(S.jsxs)(m.a,{onClick:function(){w(!y)},children:[" ",y?"Hide Bank Details":"Show Bank Details"]}),Object(S.jsx)("div",{style:{flexGrow:1}}),Object(S.jsx)(he,{to:"/creator/edit-bank-account",children:"Edit Details "})]})]})})})]}),F]}):Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(p.a,{children:["An error occured ",D]})})})},on=n(497),ln=n(523),jn=n(486),dn=n(477),bn=n(478),hn=n(237),un=n.n(hn),xn=n(238),On=n.n(xn),pn=n(241),mn=n.n(pn),fn=n(164),gn=n.n(fn),vn=n(239),yn=n.n(vn),wn=n(240),kn=n.n(wn),Sn=200,Cn=[{title:"Dashboard",url:"/dashboard",Icon:un.a},{title:"Create Video",url:"/add-video",Icon:On.a},{title:"Edit Channel",url:"/edit-channel",Icon:gn.a},{title:"Bank Account",url:"/edit-bank-account",Icon:gn.a},{title:"Analytics",url:"/analytics",Icon:yn.a}];function Tn(e){var t=Object(h.g)(),n=Object(x.b)(),c=a.useState(!1),r=Object(j.a)(c,2),i=r[0],s=r[1],o=e.window,l=a.useState(!1),d=Object(j.a)(l,2),b=d[0],u=d[1],m=a.useState(null),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Boolean(g),w=Object(S.jsx)(K.a,{anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},id:"settings-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:function(){v(null)},children:Object(S.jsxs)(R.a,{onClick:function(){n({type:"change-theme",value:!i}),s(!i)},children:[Object(S.jsx)(Q.a,{checked:i,size:"small"})," ",Object(S.jsx)("span",{children:" Dark Mode "})]})}),k=function(){u(!b)},C=Object(S.jsxs)("div",{children:[Object(S.jsx)(O.a,{padding:"0 1em"}),Object(S.jsx)(Ot.a,{}),Object(S.jsxs)(ln.a,{children:[Cn.map((function(e,n){var a="/creator"+e.url,c=a===t.pathname;return Object(S.jsx)(he,{to:a,doNotUseButton:!0,children:Object(S.jsxs)(jn.a,{selected:c,button:!0,children:[Object(S.jsx)(dn.a,{children:Object(S.jsx)(e.Icon,{})}),Object(S.jsx)(bn.a,{primary:e.title})]})},"ereder-drawer-item"+n)})),Object(S.jsx)(he,{to:"/",doNotUseButton:!0,children:Object(S.jsxs)(jn.a,{button:!0,children:[Object(S.jsx)(dn.a,{children:Object(S.jsx)(kn.a,{})}),Object(S.jsx)(bn.a,{primary:"Home"})]})})]})]}),T=void 0!==o?function(){return o().document.body}:void 0;return Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsxs)(H.a,{color:"default",elevation:0,position:"fixed",style:{top:0},sx:{width:{md:"calc(100% - ".concat(Sn,"px)")},ml:{md:"".concat(Sn,"px")}},children:[Object(S.jsxs)(U.a,{children:[Object(S.jsx)(q.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,sx:{mr:2,display:{md:"none"}},children:Object(S.jsx)(mn.a,{})}),Object(S.jsx)(p.a,{variant:"h6",noWrap:!0,component:"div",children:"Ereder Creator"}),Object(S.jsx)(O.a,{sx:{flexGrow:1}}),Object(S.jsx)(he,{to:"/creator/add-video",doNotUseButton:!0,children:Object(S.jsx)(re.a,{title:"Create Video",children:Object(S.jsx)(q.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(ne.a,{})})})}),Object(S.jsx)(re.a,{title:"Settings",children:Object(S.jsx)(q.a,{onClick:function(e){v(e.currentTarget)},size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(Z.a,{})})})]}),w]}),Object(S.jsxs)(O.a,{component:"nav",sx:{width:{sm:Sn},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(S.jsx)(on.a,{container:T,variant:"temporary",open:b,onClose:k,ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Sn}},children:C}),Object(S.jsx)(on.a,{variant:"permanent",sx:{display:{sm:"none",xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Sn}},open:!0,children:C})]}),Object(S.jsx)(O.a,{component:"main",sx:{flexGrow:1,p:3,pt:0,width:{sm:"calc(100% - ".concat(Sn,"px)")}}})]})}var Nn=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"layout",children:[Object(S.jsx)(Tn,{}),t,Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},En=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(Ft.a)(),d=Object(a.useState)(""),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(Me.d)(),O=x.register,g=x.handleSubmit;Object(a.useEffect)((function(){var e=cn();n?o(!1):e.getChannel().then((function(e){c(e),o(!1)})).catch((function(e){if(e.response){switch(o(!1),console.log(e.response),e.response.status){case 404:u(e.response.data.message);break;case 500:u("Server Error");break;default:u("Unknown Error")}o(!1)}else u(e.message),o(!1)}))}),[n]);return s?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(at,{})}):n?Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Edit Channel"}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsxs)(tt.a,{style:{padding:"1em 1.2em",minWidth:"300px"},children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Edit Channel Logo"}),Object(S.jsx)(M.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(S.jsx)(q.a,{style:{backgroundColor:l.palette.primary.main},children:Object(S.jsx)(Vt.a,{htmlColor:"white"})}),children:Object(S.jsx)(ie.a,{alt:n.name,src:n.logo,sx:{width:100,height:100}})})]})}),Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsx)(tt.a,{style:{padding:"1em 1.2em"},children:Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:g((function(e){console.log(e),o(!0),cn().editChannel(e).then((function(e){c(e),o(!1),console.log(e)})).catch((function(){alert("an error occured"),o(!1)}))})),children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Edit Channel Details"}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({defaultValue:n.name,id:"name",label:"Channel Name",variant:"outlined"},O("name")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({defaultValue:n.name||"",id:"short_description"},O("shortDescription")),{},{label:"Channel Name",variant:"outlined",multiline:!0,rows:3}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({id:"about",label:"Channel About",defaultValue:n.about||"No About",multiline:!0},O("about")),{},{rows:6,variant:"standard"}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"})]})})})]}),Object(S.jsx)(T,{space:20})]}):Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(p.a,{children:["An error occured ",h]})})})},Wn=Ke.a({billingCardNumber:Ke.b().max(16).min(10).required(),cvv:Ke.b().length(3).required()}).required(),In=function(){var e,t,n=Object(x.c)((function(e){return e.auth.user})),c=Object(x.b)(),r=Object(a.useState)(""),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],h=d[1],u=Object(a.useState)(!0),f=Object(j.a)(u,2),g=f[0],y=f[1],w=Object(Me.d)({resolver:Object(Re.a)(Wn)}),k=w.register,N=w.handleSubmit,E=w.formState.errors;return b?Object(S.jsx)(at,{}):n?Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:N((function(e){if(console.log(e),s.length<5)y(!1);else{var t=s.split("/").map((function(e){return parseInt(e)}));console.log(t);var a=t.some((function(e){return isNaN(e)}));if(a||(a=t[0]>12||t[0]<1),!a){var r=new Date,i=parseInt(r.getFullYear().toString().slice(2));a=t[1]<i}if(a)return void y(!1);h(!0);var o=ot();e=Object(be.a)(Object(be.a)({},e),{},{billingCardBrand:"visa",billingCardExpMonth:t[0].toString(),billingCardExpYear:t[1].toString()}),o.addCard(e).then((function(e){if(console.log(e),n){var t=Object(be.a)(Object(be.a)({},n),{},{billing_card_last4:e.billingCardLast4,billing_card_brand:e.billingCardBrand});c({type:"login",user:t})}h(!1)})).catch((function(e){console.log(e),h(!1)})),console.log(e)}})),children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Billing Details"}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({placeholder:n.has_billing_card?"************"+n.billing_card_last4:"'************XXXX",id:"cardNumber",label:"Card Number",helperText:null===(e=E.billingCardNumber)||void 0===e?void 0:e.message,error:!!E.billingCardNumber,variant:"outlined",InputProps:{type:"number"}},k("billingCardNumber")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,{error:!g,helperText:g?"The expiry MM/YY on your card":"Invalid card number",value:s,id:"cardExpiry",label:"Card Expiry",variant:"outlined",InputProps:{type:"text"},name:"CardExpiry",onChange:function(e){g||y(!0);var t=e.target.value;if(!/[a-zA-Z]/.test(t)){var n=t.length;if(n<s.length)o(t);else if(!(n>=6))switch(n){case 2:o(t+"/");break;default:o(t)}}}})}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({id:"cvv",label:"CVV",helperText:null===(t=E.cvv)||void 0===t?void 0:t.message,error:!!E.billingCardNumber,variant:"outlined",InputProps:{type:"number"}},k("cvv")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Update Details"})]})})}):Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(he,{to:"/",doNotUseButton:!0,children:"Go Back"})]})})},zn=Ke.a({bankAccountName:Ke.b().required(),bankName:Ke.b().required(),bankAccountNumber:Ke.b().length(10).required(),password:Ke.b().min(4).required()}).required(),Bn=function(){var e,t,n,c,r=Object(a.useState)(!1),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],h=d[1],u=Object(a.useState)(""),x=Object(j.a)(u,2),f=x[0],g=x[1],y=Object(Me.d)({resolver:Object(Re.a)(zn)}),w=y.register,k=y.handleSubmit,N=y.formState.errors,E=Object(a.useState)(),W=Object(j.a)(E,2),I=W[0],z=W[1];Object(a.useEffect)((function(){var e=cn();o(!0),e.getBankDetails().then((function(e){z(e),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]);var B=function(){g(""),h(!1)},_=Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:B,children:Object(S.jsx)(Ie.a,{fontSize:"small"})});return s&&!I?Object(S.jsx)(at,{}):I?Object(S.jsxs)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:[Object(S.jsxs)(v.a,{maxWidth:"md",sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[s&&Object(S.jsx)(qe.a,{}),Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:k((function(e){console.log(e),o(!0),h(!1),cn().updateBankDetails(e).then((function(e){z(e),g("Updated"),h(!0),o(!1)})).catch((function(e){if(console.log(e),e.response){switch(console.log(e.response),e.response.status){case 400:h(!0),g(e.response.data.problems)}o(!1)}else h(!0),g(e.message),o(!1)}))})),children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Billing Details"}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({defaultValue:I.bankAccountName,id:"bankAccountNamer",label:"Bank Account Name",helperText:null===(e=N.bankAccountName)||void 0===e?void 0:e.message,error:!!N.bankAccountName,variant:"outlined",InputProps:{type:"text"}},w("bankAccountName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({placeholder:I.bankAccountNumber,id:"bankAccountNamer",label:"Bank Account Number",helperText:null===(t=N.bankAccountNumber)||void 0===t?void 0:t.message,error:!!N.bankAccountNumber,variant:"outlined",InputProps:{type:"number"}},w("bankAccountNumber")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({defaultValue:I.bankName,id:"bankNamer",label:"Bank Name",helperText:null===(n=N.bankName)||void 0===n?void 0:n.message,error:!!N.bankName,variant:"outlined",InputProps:{type:"text"}},w("bankName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({id:"password",error:!!N.password,helperText:null===(c=N.password)||void 0===c?void 0:c.message},w("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{disabled:s,type:"submit",variant:"contained",children:"Update Details"})]})]}),Object(S.jsx)(ze.a,{open:b,autoHideDuration:6e3,onClose:B,message:f,action:_})]}):Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(he,{to:"/",doNotUseButton:!0,children:"Go Back"})]})})},_n=n(517),An=n(521),Dn=n(520),Ln=n(516),Pn=n(518),Vn=n(519),Fn=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],d=Object(a.useState)(!0),b=Object(j.a)(d,2),h=b[0],x=b[1],f=Object(a.useState)([]),g=Object(j.a)(f,2),y=g[0],w=g[1],k=Object(a.useState)(""),T=Object(j.a)(k,2),N=T[0],E=T[1],W=Object(a.useState)(!1),I=Object(j.a)(W,2),z=I[0],B=I[1],_=Object(a.useState)(0),A=Object(j.a)(_,2),D=A[0],L=A[1],P=function(){L(D+1),s(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),i||!t){e.next=16;break}return console.log("here"),n=cn(),e.prev=4,e.next=7,n.analytics("video");case 7:a=e.sent,w(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),V(e.t0.message||"An error occured");case 14:x(!1),s(!0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();y.length>0||e()}),[D,t,i,y]);var V=function(e){E(e),B(!0),x(!1)},F=function(){E(""),B(!1)},H=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:P,children:"Retry"}),Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:F,children:Object(S.jsx)(Ie.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[h&&0===y.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===y.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"No Views Found"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:P,children:"ReLoad"})]})})}):Object(S.jsx)(v.a,{maxWidth:"md",style:{padding:"1em"},children:Object(S.jsxs)(tt.a,{style:{padding:"1em 0"},children:[Object(S.jsxs)(p.a,{variant:"h5",sx:{mb:1},children:[" Total: ",y.length]}),y.map((function(e,t){var n="restricted"===e.videoType?"filled":"outlined";return Object(S.jsxs)(O.a,{sx:{mb:1},display:"flex",alignItems:"center",children:[Object(S.jsx)("div",{style:{width:"40%",maxWidth:"230px"},children:Object(S.jsx)(u.b,{to:"/creator/edit-view/"+e.id,children:Object(S.jsx)("img",{style:{display:"block",width:"100%"},src:e.thumbnail,alt:e.title})})}),Object(S.jsxs)(O.a,{flex:1,padding:"1em",children:[Object(S.jsx)(p.a,{fontWeight:"bold",sx:{color:"text.primary"},children:e.title}),Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontSize:".85rem",children:ct(e.description||"No description",100)}),Object(S.jsx)("div",{style:{marginTop:"0.5em"},children:Object(S.jsx)(Rt.a,{variant:n,label:e.videoType,size:"small"})}),Object(S.jsx)(he,{to:"/creator/edit-video?video="+e.id,sx:{mt:1},children:"Edit "})]})]},"video-"+t)}))]})}),Object(S.jsx)(ze.a,{open:z,autoHideDuration:6e3,onClose:F,message:N,action:H})]})},Hn=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],d=Object(a.useState)(!0),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(a.useState)([]),f=Object(j.a)(x,2),g=f[0],y=f[1],w=Object(a.useState)(""),k=Object(j.a)(w,2),T=k[0],N=k[1],E=Object(a.useState)(!1),W=Object(j.a)(E,2),I=W[0],z=W[1],B=Object(a.useState)(0),_=Object(j.a)(B,2),A=_[0],D=_[1],L=function(){D(A+1),s(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!t){e.next=14;break}return n=cn(),e.prev=2,e.next=5,n.analytics("purchase","videoPurchased");case 5:a=e.sent,y(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),P(e.t0.message||"An error occured");case 12:u(!1),s(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();g.length>0||e()}),[A,t,i,g]);var P=function(e){N(e),z(!0),u(!1)},V=function(){N(""),z(!1)},F=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"Retry"}),Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:Object(S.jsx)(Ie.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[h&&0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"Nothing Found Here"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"ReLoad"})]})})}):Object(S.jsxs)(O.a,{children:[Object(S.jsxs)(p.a,{variant:"h5",children:[" Total: ",g.length]}),Object(S.jsx)(Ln.a,{component:tt.a,style:{minHeight:"60vh"},children:Object(S.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(Pn.a,{children:Object(S.jsxs)(Vn.a,{children:[Object(S.jsx)(Dn.a,{children:"Video"}),Object(S.jsx)(Dn.a,{align:"right",children:"Amount Paid"}),Object(S.jsx)(Dn.a,{align:"right",children:"Date"})]})}),Object(S.jsx)(An.a,{children:g.map((function(e,t){var n=e.videoPurchased,a=e.amountPaid,c=e.createdAt;return Object(S.jsxs)(Vn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(S.jsx)(Dn.a,{component:"th",scope:"row",children:Object(S.jsxs)(he,{doNotUseButton:!0,to:"/creator/watch/"+n.id,children:[Object(S.jsxs)(p.a,{color:"primary.main",fontWeight:"bold",children:[" ",n.title]})," "]})}),Object(S.jsxs)(Dn.a,{align:"right",children:[Object(S.jsxs)(p.a,{children:["NGN",a]})," "]}),Object(S.jsx)(Dn.a,{align:"right",children:Object(S.jsx)(p.a,{children:Ce()(c).format("DD/MM/YYYY")})})]},"purchase-"+t)}))})]})})]}),Object(S.jsx)(ze.a,{open:I,autoHideDuration:6e3,onClose:V,message:T,action:F})]})},Un=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],d=Object(a.useState)(!0),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(a.useState)([]),f=Object(j.a)(x,2),g=f[0],y=f[1],w=Object(a.useState)(""),k=Object(j.a)(w,2),T=k[0],N=k[1],E=Object(a.useState)(!1),W=Object(j.a)(E,2),I=W[0],z=W[1],B=Object(a.useState)(0),_=Object(j.a)(B,2),A=_[0],D=_[1],L=function(){D(A+1),s(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!t){e.next=14;break}return n=cn(),e.prev=2,e.next=5,n.analytics("view","video");case 5:a=e.sent,y(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),P(e.t0.message||"An error occured");case 12:u(!1),s(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();g.length>0||e()}),[A,t,i,g]);var P=function(e){N(e),z(!0),u(!1)},V=function(){N(""),z(!1)},F=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"Retry"}),Object(S.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:Object(S.jsx)(Ie.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[h&&0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(nt.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"No Views Found"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"ReLoad"})]})})}):Object(S.jsxs)(O.a,{children:[Object(S.jsxs)(p.a,{variant:"h5",children:[" Total: ",g.length]}),Object(S.jsx)(Ln.a,{component:tt.a,style:{minHeight:"60vh"},children:Object(S.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(Pn.a,{children:Object(S.jsxs)(Vn.a,{children:[Object(S.jsx)(Dn.a,{children:"Video"}),Object(S.jsx)(Dn.a,{align:"right",children:"Duration"}),Object(S.jsx)(Dn.a,{align:"right",children:"isPayedView"}),Object(S.jsx)(Dn.a,{align:"right",children:"Date"})]})}),Object(S.jsx)(An.a,{children:g.map((function(e,t){var n=e.video,a=e.duration,c=e.isPayedView,r=e.createdAt;return Object(S.jsxs)(Vn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(S.jsx)(Dn.a,{component:"th",scope:"row",children:Object(S.jsxs)(he,{doNotUseButton:!0,to:"/creator/watch/"+n.id,children:[Object(S.jsxs)(p.a,{color:"primary.main",fontWeight:"bold",children:[" ",n.title]})," "]})}),Object(S.jsxs)(Dn.a,{align:"right",children:[Object(S.jsx)(p.a,{children:rt(a/1e3)})," "]}),Object(S.jsx)(Dn.a,{align:"right",children:Object(S.jsx)(p.a,{children:c.toString()})}),Object(S.jsx)(Dn.a,{align:"right",children:Object(S.jsx)(p.a,{children:Ce()(r).format("DD/MM/YYYY")})})]},"view-history"+t)}))})]})})]}),Object(S.jsx)(ze.a,{open:I,autoHideDuration:6e3,onClose:V,message:T,action:F})]})},qn=function(e){var t=e.channel;return Object(S.jsx)(f.a,{container:!0,spacing:2,children:Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(tt.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Total Followers"}),Object(S.jsx)(p.a,{variant:"h5",component:"p",sx:{mb:1},children:t.follower_count}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Videos"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:t.video_count||"Unavailable"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Views"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:t.total_views||"Unavailable"})]})})})})},Gn=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],d=i[1],b=Object(x.c)((function(e){return e.auth.user})),h=["Overview","Views","Videos","Purchases"],u=Object(a.useState)(0),m=Object(j.a)(u,2),f=m[0],g=m[1],y=function(e,t){g(t)};Object(a.useEffect)((function(){var e=window.location.hash.slice(1);if(e){var t={};["Overview","Views","Videos","Purchases"].forEach((function(e,n){t[e.toLocaleLowerCase()]=n}));var n=t[e];n&&g(n)}}),[]);var w=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=cn(),e.next=3,t.getChannel();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(O.a,{style:{marginTop:"4em",position:"relative",height:"100vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[s?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(at,{})}):n?Object(S.jsxs)(S.Fragment,{children:["   ",Object(S.jsx)(Lt.a,{children:Object(S.jsxs)("title",{children:[n.name||"None"," "]})}),Object(S.jsx)(tt.a,{style:{padding:"1em 0 0",border:"none",boxShadow:"none"},elevation:0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsxs)(p.a,{variant:"h5",children:[(null===b||void 0===b?void 0:b.fullName)||"None"," / ",n.name]})})}),Object(S.jsx)(tt.a,{style:{position:"sticky",top:64,left:0,zIndex:99,borderTop:"none"},square:!0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper",position:"sticky",top:64,left:0,zIndex:99},children:Object(S.jsx)(At.a,{variant:"scrollable",scrollButtons:"auto",value:f,onChange:y,children:h.map((function(e,t){return Object(S.jsx)(Dt.a,{href:"#"+e.toLocaleLowerCase(),label:e},"ereder-tab"+t)}))})})})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:0===f?"block":"none"},children:Object(S.jsx)(qn,{channel:n})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:1===f?"block":"none"},children:Object(S.jsx)(Un,{showing:1===f})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:2===f?"block":"none"},children:Object(S.jsx)(Fn,{showing:2===f})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:3===f?"block":"none"},children:Object(S.jsx)(Hn,{showing:3===f})})]}):Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsx)(p.a,{children:"An error occured "})})}),Object(S.jsx)(Be,{setLoading:d,request:w,onLoad:function(e){console.log(e),c(e),d(!1)}})]})},Mn=n(493),Rn=n(522),Kn=function(){var e=Object(a.useState)("public"),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=(i[0],i[1],Object(a.useState)(0)),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)(),h=Object(j.a)(b,2),u=h[0],x=h[1],g=Object(a.useState)(""),y=Object(j.a)(g,2),w=y[0],k=y[1],C=(Object(Ft.a)(),Object(a.useState)("")),N=Object(j.a)(C,2),E=(N[0],N[1],Object(a.useState)(0)),W=Object(j.a)(E,2),I=W[0],z=W[1],B=Object(Me.d)(),_=B.register,A=B.handleSubmit,D=function(e){var t=e.target.files[0];x(t),console.log(t);var n=document.getElementById("video-temp");if(t&&n){var a=t.type;if(n.canPlayType(a)){var c=URL.createObjectURL(t);n.src=c}else alert("cannot play video")}},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u){if(!n){console.log("Uploding");var a=document.getElementById("video-temp"),c=Math.floor(a.duration);z(1e3*c)}var r=new window.XMLHttpRequest;r.open("POST",e),r.setRequestHeader("authorization","Bearer ".concat(window.localStorage.getItem("jwt")||"None")),r.upload.addEventListener("progress",(function(e){var t=e.loaded,n=e.total,a=Math.ceil(t/n*100);d(a)}));var i=new FormData;i.append(t,u),r.send(i),r.addEventListener("readystatechange",(function(e){if(e&&e.target&&4===e.target.readyState&&!n){var t=JSON.parse(r.response).up;console.log(t),k(t.id),x(void 0)}}))}};return w?Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Add Video "}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsx)(tt.a,{style:{padding:"1em 1.2em"},children:Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:A((function(e){console.log(e);var t=cn();e.duration=I,t.uploadVideo(w,e).then((function(e){console.log(e),k(e.id)})).catch(console.log)})),children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Video Details"}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({id:"title",label:"Video Title",variant:"outlined"},_("title")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)(Object(be.a)({id:"description"},_("description")),{},{label:"Video Description",variant:"outlined",multiline:!0,rows:4}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Xe.a,{id:"demo-simple-select-label",children:"Video Type"}),Object(S.jsxs)(Ge.a,{fullWidth:!0,children:["  ",Object(S.jsx)(Ze.a,Object(be.a)(Object(be.a)({},_("videoType")),{},{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"Video Type",onChange:function(e){c(e.target.value)},children:[{title:"Public Video",value:"public"},{title:"Restricted Video",value:"restricted"}].map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(R.a,{value:n,children:a},"video-type"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ge.a,{fullWidth:!0,children:Object(S.jsx)(Ue.a,Object(be.a)({id:"price",label:"Video Price",disabled:"public"===n,variant:"outlined",InputProps:{type:"number"}},_("price")))}),Object(S.jsx)(T,{space:20}),"        ",Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"})]})})}),Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsxs)(tt.a,{style:{padding:"1em 1.2em",minWidth:"300px"},children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Video Files"}),!w&&Object(S.jsx)(p.a,{component:"small",fontSize:14,color:"GrayText",children:" You must submit video details first"}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Xe.a,{id:"video-thumbnail",children:"Video Thumbnail"}),Object(S.jsx)(O.a,{display:"flex",children:Object(S.jsx)(Mn.a,{id:"file-input",type:"file",disabled:!w,inputProps:{accept:"image/png, image/jpeg"},onChange:D,startAdornment:Object(S.jsx)(Rn.a,{position:"start",children:Object(S.jsx)(q.a,{disabled:!w,onClick:function(){L("http://localhost:1337/api/creator/thumbnail/"+w,"thumb",!0)},children:Object(S.jsx)(Vt.a,{})})}),endAdornment:Object(S.jsx)(Rn.a,{position:"end",children:Object(S.jsx)(q.a,{onClick:function(){var e=document.getElementById("file-input");x(null),e&&(e.value="")},children:Object(S.jsx)(Ie.a,{})})})})})]})})]}),Object(S.jsx)(T,{space:20})]}):Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Upload Video "}),Object(S.jsx)(O.a,{padding:"1em",children:Object(S.jsxs)(tt.a,{style:{display:"flex",alignItems:"center"},children:[Object(S.jsx)(Mn.a,{id:"file-input",type:"file",inputProps:{accept:"video/mp4, video/ogg"},onChange:D,startAdornment:Object(S.jsx)(Rn.a,{position:"start",children:Object(S.jsx)(q.a,{onClick:function(){return L("http://localhost:1337/api/creator/upload","video")},children:Object(S.jsx)(Vt.a,{})})}),endAdornment:Object(S.jsx)(Rn.a,{position:"end",children:Object(S.jsx)(q.a,{onClick:function(){var e=document.getElementById("file-input");x(null),e&&(e.value="")},children:Object(S.jsx)(Ie.a,{})})})}),Object(S.jsx)("video",{id:"video-temp",style:{display:"none"}}),Object(S.jsxs)(p.a,{id:"loaded",variant:"h5",color:"success.main",style:{flex:1,textAlign:"center"},children:["Uploading ",l,"%"]})]})})]})},Yn=Object(d.a)({palette:{primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}}),Jn=Object(d.a)({palette:{mode:"dark",primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}});function Xn(){var e=Object(h.h)().path;return Object(S.jsx)(Nn,{children:Object(S.jsxs)(h.d,{children:[Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/dashboard"),children:Object(S.jsx)(sn,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/edit-channel"),children:Object(S.jsx)(En,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/edit-bank-account"),children:Object(S.jsx)(Bn,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/analytics"),children:Object(S.jsx)(Gn,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/add-video"),children:Object(S.jsx)(Kn,{})})]})})}function Zn(){var e=Object(h.h)().path;return Object(S.jsx)(me,{children:Object(S.jsxs)(h.d,{children:[Object(S.jsx)(h.b,{exact:!0,path:e,children:Object(S.jsx)(dt,{})}),Object(S.jsx)(h.b,{path:"".concat(e,"/my-dashboard"),children:Object(S.jsx)(Jt,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/watch/:id"),children:Object(S.jsx)(_t,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/become-creator"),children:Object(S.jsx)(en,{})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/update-billing"),children:Object(S.jsx)(In,{})})]})})}function Qn(){var e=Object(h.h)().path;return Object(S.jsx)($t,{children:Object(S.jsxs)(h.d,{children:[Object(S.jsx)(h.b,{exact:!0,path:e,children:Object(S.jsx)("p",{children:"lion"})}),Object(S.jsx)(h.b,{exact:!0,path:"".concat(e,"/watch/:id"),children:Object(S.jsx)(_t,{})})]})})}function $n(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(x.c)((function(e){return e.settings.darkMode})),n=c.a.useState(!0),a=Object(j.a)(n,2),r=a[0],i=a[1],s=Object(x.b)(),d=Object(h.g)(),u=_(),p=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return i(!1),t.abrupt("return");case 3:return t.next=5,u.me();case 5:(n=t.sent)&&n.email&&s({type:"login",user:n}),i(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(console.log("darkMode"),e&&("/login"===d.pathname||"/"===d.pathname||"/signup"===d.pathname||"/explore"===d.pathname))return console.log(d.pathname),Object(S.jsx)(h.a,{to:"/main"});if(!e&&!r&&(d.pathname.startsWith("/main")||d.pathname.startsWith("/creator")))return Object(S.jsx)(h.a,{to:"/login"});var m=Object(S.jsx)("div",{children:Object(S.jsxs)(h.d,{children:[Object(S.jsx)(h.b,{exact:!0,path:"/",children:Object(S.jsx)($t,{children:Object(S.jsx)(L,{})})}),Object(S.jsx)(h.b,{exact:!0,path:"/login",children:Object(S.jsx)(Je,{})}),Object(S.jsx)(h.b,{exact:!0,path:"/signup",children:Object(S.jsx)(et,{})}),Object(S.jsx)(h.b,{exact:!0,path:"/explore",children:Object(S.jsx)($t,{children:Object(S.jsx)(Ae,{})})}),Object(S.jsx)(h.b,{path:"/main",children:Object(S.jsx)(Zn,{})}),Object(S.jsx)(h.b,{path:"/creator",children:Object(S.jsx)(Xn,{})}),Object(S.jsx)(h.b,{path:"/open",children:Object(S.jsx)(Qn,{})}),Object(S.jsx)(h.b,{path:"/creator",children:Object(S.jsx)("p",{children:"lol"})})]})});return Object(S.jsx)(b.a,{theme:t?Jn:Yn,children:Object(S.jsxs)(O.a,{sx:{bgcolor:"background.default",minHeight:"100vh",color:"text.primary"},children:[r?Object(S.jsx)(at,{}):m,Object(S.jsx)(Be,{setLoading:i,request:p,onLoad:function(){return console.log("loaded")}})]})})}var ea=function(){return console.log(Yn),Object(S.jsx)("main",{className:"App",children:Object(S.jsx)(x.a,{store:Ve,children:Object(S.jsx)(u.a,{children:Object(S.jsx)($n,{})})})})},ta=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,530)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(ea,{})}),document.getElementById("root")),ta()}},[[416,1,2]]]);
//# sourceMappingURL=main.f609acdc.chunk.js.map