{"version":3,"sources":["components/Centered.tsx","components/Spacer.tsx","api/api.ts","pages/LandingPage.tsx","components/AppLink.tsx","components/Header.tsx","components/Layout.tsx","components/Container.tsx","components/ControlledText.tsx","constants.ts","components/ApiLoader.tsx","components/VideoGrid.tsx","pages/Explore.tsx","store/reducers.ts","store/index.ts","store/middleware.ts","pages/Login.tsx","pages/Signup.tsx","components/LoadingPageIndicator.tsx","utils/functions.ts","api/userApi.ts","components/ErrorPageIndicator.tsx","pages/authenticated/Dashboard.tsx","components/VideoView.tsx","hooks/useHover.ts","hooks/useWindowSize.ts","pages/authenticated/View.tsx","components/TabOne.tsx","components/TabTwo.tsx","components/TabThree.tsx","components/TabFour.tsx","pages/authenticated/Profile.tsx","components/ButtonAppBar.tsx","components/LayoutOpen.tsx","pages/authenticated/BecomeACreator.tsx","api/creatorApi.ts","pages/authenticated/creator/CreatorDashboard.tsx","components/CreatorHeader.tsx","components/CreatorLayout.tsx","pages/authenticated/creator/EditChannel.tsx","pages/authenticated/AddCard.tsx","pages/authenticated/creator/BankDetails.tsx","pages/authenticated/creator/Analytics.tsx","pages/authenticated/creator/AddVideo.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Centered","sX","children","sx","Object","assign","display","alignItems","justifyContent","Box","Spacer","space","style","margin","setToken","user","console","warn","token","window","localStorage","setItem","ErederApi","_api","this","axios","create","baseURL","headers","a","config","getItem","get","authorization","response","data","options","post","ApiSignleton","instance","IntroCards","image","header","description","theme","createTheme","palette","primary","main","secondary","LandingPage","Api","React","useState","numberOfUsers","setNumOfUsers","idRef","useRef","useEffect","current","setInterval","clearInterval","backgroundColor","marginBottom","paddingTop","maxWidth","width","color","padding","Typography","variant","fontWeight","fontSize","Button","marginRight","onClick","me","then","log","catch","to","textDecoration","endIcon","Grid","container","map","card","n","item","md","sm","Card","elevation","borderRadius","minHeight","src","alt","align","fontStyle","AppLink","doNotUseButton","props","applyStyles","Search","styled","position","shape","alpha","common","white","spacing","marginLeft","breakpoints","up","SearchIconWrapper","height","pointerEvents","StyledInputBase","InputBase","paddingLeft","transition","transitions","Header","useSelector","state","auth","anchorEl","setAnchorEl","dispatch","useDispatch","dark","setDark","mobileMoreAnchorEl","setMobileMoreAnchorEl","settingsAnchorEl","setSettingsAnchorEl","isMenuOpen","Boolean","isSettingsMenuOpen","isMobileMenuOpen","open","setOpen","handleClose","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","handleSettingsMenuClose","handleSettingsMenuOpen","menuId","dialog","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","logout","type","location","pathname","autoFocus","settingsMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","Switch","checked","size","renderMenu","isCreator","mobileMenuId","renderMobileMenu","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","Avatar","fullName","profilePic","edge","flexGrow","AppBar","top","Toolbar","noWrap","component","xs","placeholder","inputProps","Tooltip","title","Layout","className","Container","ControlledText","text","length","oProps","slice","UserChannel","user_id","name","short_description","logo","follower_count","about","like_count","video_count","ApiLoader","request","setLoading","onLoad","onFail","errrorMessage","setErrorMessage","errorPresent","setErrorPresent","loadRequest","message","status","handleOpen","problems","loadRequest2","action","Fragment","Snackbar","autoHideDuration","dayjs","extend","relativeTime","VideoGrid","videoPlaceholderCount","loggedIn","lg","prefix","videos","setVideos","items","Array","fill","done","setDone","retry","allVideos","v","index","channel","minWidth","m","CardHeader","avatar","href","subheader","createdAt","fromNow","CardMedia","thumbnail","CardContent","defaultComponent","viewCount","Skeleton","animation","l","Explore","marginTop","initalAuthState","initialSettingsState","darkMode","autoPlay","volume","configureStore","reducer","returnObj","removeItem","settings","value","middleware","store","next","group","info","result","getState","groupEnd","schema","yup","emailAddress","email","required","password","min","Login","redirect","useLocation","loading","search","querystring","parse","rediirectTo","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","flexDirection","LinearProgress","onSubmit","logIn","e","FormControl","fullWidth","TextField","helperText","error","label","InputProps","Countries","dob","SignUp","country","setCountry","setDob","signIn","max","onChange","Date","target","InputLabel","Select","labelId","LoadingPageIndicator","CircularProgress","shortenText","toHHMMSS","secs","sec_num","Math","floor","filter","i","join","sanitizedChannel","shortDescription","banner","followerCount","likeCount","videoCount","total_views","totalViews","UserApi","body","UserApiSignleton","ErrorPageIndicator","errorMessage","Sidebar","creators","setCreators","hasError","setHasError","getFollowing","c","s","ml","Paper","overflowY","creator","textTransform","Dashboard","maxHeight","overflow","flex","VideoView","url","videoRef","ref","timeoutRef","val","defaultState","delay","setState","onHover","onLeave","setTimeout","node","addEventListener","node2","removeEventListener","useHover","playing","setPlaying","playedSecondString","setPlayedSecondString","playedSeconds","setPlayedSeconds","progress","setProgress","duration","setDuration","durationString","setDurationString","liked","setLiked","useDebounce","setValue","show","setShow","fullScreen","setFullScreen","reason","func","document","fullscreenElement","windowSize","setWindowSize","handleResize","outerWidth","innerHeight","useWindowSize","requestFullscreen","exitFullscreen","clearTimeout","onProgress","played","innerWidth","onDuration","bottom","left","p","Slider","valueLabelDisplay","num","isArray","seekTo","Divider","orientation","flexItem","View","CardDetails","showDetails","setShowDetails","has_billing_card","mb","billing_card_brand","billing_card_last4","TabOne","setMessage","handleClick","useTheme","userApi","mt","overlap","htmlColor","keys","key","updateDetails","err","defaultValue","birthdate","TabTwo","showing","shown","setShown","loadingResponse","setLoadingResponse","channels","setChannels","channelUnfollowed","setChannelUnfollowed","subs","subscribe","sub","channelToUnfollow","unSubscribe","ans","TabThree","viewHistory","setViewHistory","video","videoType","Chip","TabFour","purchases","setPurchases","videoPurchased","price","amountPaid","Profile","pathName","hash","dictionary","forEach","toLocaleLowerCase","Helmet","border","boxShadow","zIndex","borderTop","square","bgcolor","Tabs","scrollButtons","newValue","Tab","ElevationScroll","trigger","useScrollTrigger","disableHysteresis","threshold","undefined","ButtonAppBar","LayoutOpen","BecomeACreator","setReason","textAlign","becomeCreator","CreatorApi","uploadId","model","populate","since","str","push","getTime","CreatorApiSignleton","BankDetailsTab","bankDetails","setBankDetails","CreatorApiSingleton","getBankDetails","bankAccountName","bankAccountNumber","bankName","pt","CreatorDashboard","setChannel","setShowing","dialogHeader","setDialogHeader","dialogContent","setDialogContent","getChannel","ch","handleClickOpen","paragraph","drawerWidth","DrawerItems","Icon","DashboardIcon","AddCircleIcon","EditIcon","AnalyticsIcon","CreatorHeader","mobileOpen","setMobileOpen","handleDrawerToggle","drawer","List","Item","selected","ListItem","button","ListItemIcon","ListItemText","mr","flexShrink","Drawer","ModalProps","boxSizing","CreatorLayout","EditChannel","editChannel","alert","multiline","rows","billingCardNumber","cvv","AddCard","expiry","setExpiry","cardNumberIsValid","setCardNumberIsValid","split","parseInt","isInvalid","some","isNaN","d","nb","getFullYear","toString","billingCardBrand","billingCardExpMonth","billingCardExpYear","addCard","u","billingCardLast4","test","len","BankDetails","updateBankDetails","disabled","VideosTab","retries","setRetries","handleRetry","loadFunc","analytics","_views","PurchasesTab","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","scope","format","ViewsTab","views","setViews","isPayedView","OverviewTab","Analytics","TabNames","handleChange1","k","AddVideo","setVideoType","loadedCurrent","setLoadedCurrent","file","setFile","videoId","setVideoId","onFileChange","f","files","videoNode","getElementById","canPlayType","fileURL","URL","createObjectURL","handleUpload","xhr","XMLHttpRequest","setRequestHeader","upload","loaded","total","loaded2","ceil","FormData","append","send","readyState","JSON","uploadVideo","OutlinedInput","accept","startAdornment","InputAdornment","endAdornment","theme2","mode","CreatorRoutes","path","useRouteMatch","exact","UserRoutes","DefRoutes","VideoApp","getUser","startsWith","mainBody","ThemeProvider","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f609acdc.chunk.js","sourcesContent":["import { Box, Theme } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport React from 'react';\n\n\ntype CenteredProps = {\n    children: any;\n    key?: string;\n    sx?: SxProps<Theme>;\n    \n};\n\nconst Centered: React.FC<CenteredProps> = ({children, sx = {}, ...props}) => {\n    var sX: SxProps<Theme> = {};\n    sX= Object.assign({\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }, sx);\n    return (\n\n        <Box sx={sX}>\n            {children}\n        </Box>\n    )\n}\n\nexport default Centered\n","import React from 'react'\n\ntype SpacerProps = {\n    space?: number;\n}\n\nconst Spacer: React.FC<SpacerProps> = ({space=10}) => {\n    return (\n        <div style={{margin: `${space}px 0`}} />\n    )\n}\n\nexport default Spacer\n","import User from \"../models/User\";\n\nimport axios, { AxiosInstance } from \"axios\";\nimport Video from \"../models/Video\";\n\nexport type SignInOptions = {\n  emailAddress: string;\n  password: string;\n  fullName: string;\n};\n\nexport type LogInOptions = {\n  email: string;\n  password: string;\n};\n\ninterface IErederApi {\n  _api: AxiosInstance;\n  signIn(options: SignInOptions): Promise<User>;\n  logIn(options: LogInOptions): Promise<User>;\n  me(): Promise<User>;\n  becomeCreator(): Promise<{ isCreator: boolean }>;\n  allVideos():Promise<Video[]>;\n  logout():Promise<void>;\n  //</void>\n}\n\nlet test = true;\n\nfunction setToken(user: User) {\n  if (test) {\n    console.warn(\"In test mode\");\n    if (user.token) window.localStorage.setItem(\"jwt\", user.token);\n  } else return;\n}\n\nclass ErederApi implements IErederApi {\n  _api: AxiosInstance;\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"http://localhost:1337\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n async logout(): Promise<void> {\n  let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    await this._api.get(\n    \"/logout\",\n    {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    }\n  );\n\n  }\n  async allVideos(): Promise<Video[]> {\n    const response = await this._api.get<Video[]>(\"/videos\");\n\n    return response.data;\n  }\n  // async getChannel(): Promise<Channel> {\n  //   let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n  //   const response = await this._api.get<Channel>(\"/api/creator/channel\", {\n  //     headers: {\n  //       authorization: `Bearer ${config.token}`,\n  //     },\n  //   });\n  //   return response.data;\n  // }\n\n  async becomeCreator(): Promise<{ isCreator: boolean }> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<{ isCreator: boolean }>(\n      \"/api/creator/become\",\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async me(): Promise<User> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<User>(\"/api/me\", {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async signIn(options: SignInOptions): Promise<User> {\n    const response = await this._api.post<User>(\"/signup\", options);\n    setToken(response.data);\n    return response.data;\n  }\n  async logIn(options: LogInOptions): Promise<User> {\n    const response = await this._api.post<User>(\"/login\", options);\n    setToken(response.data);\n    return response.data;\n  }\n\n  \n}\n\nexport default function ApiSignleton(): ErederApi {\n  let instance: ErederApi | undefined;\n  if (!instance) instance = new ErederApi();\n  return instance;\n}\n","import React from \"react\";\nimport { createTheme } from \"@mui/material/styles\";\nimport { Button, Card, Container, Grid, Typography } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport ChevronRight from \"@mui/icons-material/ChevronRight\";\n\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport { Link } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n\ntype IntroCard = {\n  image: string;\n  header: string;\n  description: string;\n};\n\nconst IntroCards: IntroCard[] = [\n  {\n    image: \"/images/create.png\",\n    header: \"Create Magic\",\n    description:\n      \"Create wonderful and amazing videos that you want to show to the world\",\n  },\n\n  {\n    image: \"/images/upload.png\",\n    header: \"Upload to Ereder\",\n    description:\n      \"Showcase the world from your perspective by uploading your videos to Ereder\",\n  },\n\n  {\n    image: \"/images/share.png\",\n    header: \"Sharing is Caring\",\n    description:\n      \"You can share your Ereder videos with your close friends, paying viewers or the world\",\n  },\n  {\n    image: \"/images/earn.png\",\n    header: \"Earn Money\",\n    description: \"Ereder is like OnlyFans but without the 18+ content\",\n  },\n];\nlet theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});\n\nfunction LandingPage() {\n\n  const Api = ApiSignleton()\n  const [numberOfUsers, setNumOfUsers] = React.useState(1000);\n  let idRef = React.useRef<any>();\n  React.useEffect(() => {\n    idRef.current = setInterval(() => {\n        setNumOfUsers(numberOfUsers + 1);\n    }, 500)\n    return () => {\n     clearInterval(idRef.current)\n    }\n  });\n  return (\n\n        <Box>\n        <Box\n          sx={{\n            backgroundColor: \"primary.main\",\n            marginBottom: \"1em\",\n            paddingTop: \"1em\"\n          }}\n        >\n          <Box\n            sx={{\n              maxWidth: 500,\n              width: \"90%\",\n              margin: \"0 auto\",\n              color: \"white\",\n              display: \"flex\",\n              alignItems: \"center\",\n              padding: \"3em 0\",\n            }}\n          >\n            <div>\n              <Typography variant=\"h3\" fontWeight=\"bold\">\n                An{\" \"}\n                <code style={{ color: theme.palette.secondary.main }}>\n                  upcoming\n                </code>{\" \"}\n                video sharing platform\n              </Typography>\n              <Typography sx={{ margin: \"1em 0\" }}>\n                Join over{\" \"}\n                <strong style={{ fontSize: 18 }}>{numberOfUsers}</strong> users\n                who share videos everyday with viewers around the world\n              </Typography>\n              <Button\n                variant=\"contained\"\n                sx={{\n                  backgroundColor: \"secondary.main\",\n                  color: \"white\",\n                  marginRight: \"10px\",\n                  \":hover\": {\n                    backgroundColor: \"secondary.main\",\n                  },\n                }}\n\n                onClick={() => {\n                  Api.me().then(console.log).catch(console.log)\n                }}\n              >\n                Get Started\n              </Button>\n\n           \n              <Link to=\"/explore\"  style={{textDecoration: \"none\", color: 'white'}}>\n            <Button  color=\"inherit\" endIcon={<ChevronRight/>}  variant=\"text\">\n           \n                    Explore\n              \n            </Button>\n            </Link>\n            </div>\n          </Box>\n        </Box>\n\n        <Grid container sx={{ width: \"100vw\" }}>\n          {IntroCards.map((card, n) => (\n            <Grid item sx={{ padding: \"10px\" }} md={3} sm={6} key={\"card\" + n}>\n              <Card\n              elevation={0}\n                sx={{\n                  borderRadius: 4,\n                  minHeight: { md: 300, sm: 250 },\n                }}\n              >\n                <Centered>\n                  <img\n                    src={card.image}\n                    alt=\"create\"\n                    style={{ maxWidth: 200, marginBottom: 10 }}\n                  />\n                </Centered>\n                <Typography variant=\"h6\" align=\"center\">\n                  {card.header}\n                </Typography>\n                <Centered sx={{ padding: \"0 1em\", margin: \".5em 0\" }}>\n                  <Typography fontSize={\".85rem\"} align=\"center\">\n                    {card.description}\n                  </Typography>\n                </Centered>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n\n        <Spacer space={30} />\n        <Box sx={{\n          backgroundColor: \"#b9b9dd\",\n         \n          padding: \"2em 0\"\n        }}>\n        <Container>\n          <Grid container>\n            <Grid item md={6} sm={12} sx={{ padding: \"0 20px\" }}>\n              <Typography>\n                Ereder has allowed me to view the works of other content\n                creators and also showcase my new material, What I love most\n                about the platform is that has so many features{\" \"}\n              </Typography>\n\n              <Typography variant=\"h4\">Kenechukwu Rhema </Typography>\n              <Typography  color=\"white\" fontStyle=\"italic\"> \n                Lead Creative Director at KRC Entertainent \n              </Typography>\n            </Grid>\n            <Grid item md={6} sm={12} sx={{ padding: \"0 20px\" }}>\n              <Typography>\n                Investing in Ereder has been one of the best decisions I have made. From modest beginnings, the platform is beginning to make some big moves in the Nigerian Tech Industry\n              </Typography>\n\n              <Typography variant=\"h4\">Christopher Okeke </Typography>\n              <Typography color=\"white\" fontStyle=\"italic\"> \n               CEO, Akaokeke Investment Fund, Africa\n              </Typography>\n            </Grid>\n          </Grid>\n          </Container>\n          </Box>\n          <Spacer space={100} />\n     \n\n       \n        </Box>\n  \n  );\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { Theme } from \"@mui/material\";\n\nimport { SxProps } from \"@mui/system\";\n\nimport { Link } from \"react-router-dom\";\n\ninterface AppLinkProps  {\n  sx?: SxProps<Theme>;\n  to: string;\n  children: string | React.ReactNode | React.ReactNode[];\n  replace?: boolean | undefined;\n  innerRef?: React.Ref<HTMLAnchorElement> | undefined;\n  style?: React.CSSProperties;\n  doNotUseButton?: boolean;\n};\n\nconst AppLink: React.FC<AppLinkProps> = ({\n  to,\n  children,\n  sx,\n  style,\n  doNotUseButton = false, \n  ...props\n}) => {\n  const applyStyles = Object.assign(\n    { textDecoration: \"none\", color: \"inherit\" },\n    style\n  );\n\n  return (\n    <Link to={to} style={applyStyles} {...props}>\n     {doNotUseButton ? children :  <Button sx={sx}>{children}</Button>}\n    </Link>\n  );\n};\n\nexport default AppLink;\n","import * as React from \"react\";\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Badge from \"@mui/material/Badge\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport Switch from '@mui/material/Switch';\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport MoreIcon from \"@mui/icons-material/MoreVert\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppState } from \"../store\";\nimport AppLink from \"./AppLink\";\nimport ApiSignleton from \"../api/api\";\n\nconst Search = styled(\"div\")(({ theme }) => ({\n  position: \"relative\",\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  \"&:hover\": {\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\n  },\n  marginRight: theme.spacing(2),\n  marginLeft: 0,\n  width: \"100%\",\n  [theme.breakpoints.up(\"sm\")]: {\n    marginLeft: theme.spacing(3),\n    width: \"auto\",\n  },\n}));\n\nconst SearchIconWrapper = styled(\"div\")(({ theme }) => ({\n  padding: theme.spacing(0, 2),\n  height: \"100%\",\n  position: \"absolute\",\n  pointerEvents: \"none\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n  color: \"inherit\",\n  \"& .MuiInputBase-input\": {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function Header() {\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const dispatch = useDispatch()\n  const [dark, setDark] = React.useState(false);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const [settingsAnchorEl, setSettingsAnchorEl] = React.useState(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const isSettingsMenuOpen = Boolean(settingsAnchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const logout = () => {\n    const Api = ApiSignleton();\n    Api.logout().then(() => {\n      dispatch({ type: \"logout\" });\n      window.location.pathname = '/login';\n    })\n\n  }\n\n\n\n\n  const handleProfileMenuOpen = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n    handleSettingsMenuClose()\n  };\n\n  const handleSettingsMenuClose = () => {\n    setSettingsAnchorEl(null);\n\n  };\n\n  const handleMobileMenuOpen = (event: any) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleSettingsMenuOpen = (event: any) => {\n    setSettingsAnchorEl(event.currentTarget);\n  };\n  const menuId = \"primary-search-account-menu\";\n  const menuId2 = \"settings-menu\";\n\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        {\"Logout?\"}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          Are you sure you want to log out\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>Cancel</Button>\n        <Button onClick={logout} autoFocus>\n          Continue\n        </Button>\n      </DialogActions>\n    </Dialog>);\n  const settingsMenu = (\n    <Menu\n      anchorEl={settingsAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId2}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isSettingsMenuOpen}\n      onClose={handleSettingsMenuClose}\n    >\n\n      <MenuItem onClick={() => {\n        setDark(!dark);\n        //  handleSettingsMenuClose();\n      }}>\n        <Switch checked={dark} size=\"small\" /> <span> Dark Mode </span>\n      </MenuItem>\n\n    </Menu>\n  );\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <Link\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\n        to=\"/main/my-dashboard\"\n      >\n        <MenuItem onClick={handleMenuClose}>My Dashboard</MenuItem>\n      </Link>\n      {user?.isCreator && (\n        <Link\n          style={{ textDecoration: \"none\", color: \"inherit\" }}\n          to=\"/creator/dashboard\"\n        >\n          <MenuItem onClick={handleMenuClose}>Creator Dashboard</MenuItem>\n        </Link>\n      )}\n\n      <MenuItem onClick={handleMenuClose}>Settings</MenuItem>\n      {/* TODO  handle logout */}\n      <MenuItem onClick={handleClickOpen}>Logout</MenuItem>\n    </Menu>\n  );\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <AppLink\n        to={user?.isCreator ? \"/creator/add-video\" : \"/main/become-creator\"}\n        doNotUseButton\n      >\n        <MenuItem onClick={handleMenuClose}>\n          <IconButton size=\"large\" color=\"inherit\">\n            <AddIcon />\n          </IconButton>\n          <p>Add Video</p>\n        </MenuItem>\n      </AppLink>\n      <MenuItem>\n        <IconButton\n          size=\"large\"\n          aria-label=\"show 17 new notifications\"\n          color=\"inherit\"\n        >\n          <Badge badgeContent={17} color=\"error\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          size=\"large\"\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <Avatar\n            sx={{ width: 24, height: 24 }}\n            alt={user?.fullName}\n            src={user?.profilePic}\n          />\n        </IconButton>\n        <p>Profile</p>\n      </MenuItem>\n\n      <MenuItem onClick={handleSettingsMenuOpen}>\n        <IconButton size=\"large\" edge=\"end\" color=\"inherit\">\n          <SettingsIcon />\n\n        </IconButton>\n        <p>Settings</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar color=\"default\" elevation={0} position=\"fixed\" style={{ top: 0 }}>\n        <Toolbar>\n          <AppLink to=\"/main\" doNotUseButton>\n            <Typography\n              variant=\"h6\"\n              noWrap\n              component=\"div\"\n              sx={{ display: { xs: \"none\", sm: \"block\" } }}\n            >\n              Ereder\n            </Typography>\n          </AppLink>\n          <Search>\n            <SearchIconWrapper>\n              <SearchIcon />\n            </SearchIconWrapper>\n            <StyledInputBase\n              placeholder=\"Search\"\n              inputProps={{ \"aria-label\": \"search\" }}\n            />\n          </Search>\n          <Box sx={{ flexGrow: 1 }} />\n          <Box sx={{ display: { xs: \"none\", md: \"flex\" } }}>\n            <AppLink\n              to={\n                user?.isCreator ? \"/creator/add-video\" : \"/main/become-creator\"\n              }\n              doNotUseButton\n            >\n              <Tooltip title=\"Add a video\">\n                <IconButton size=\"large\" edge=\"end\" color=\"inherit\">\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n            </AppLink>\n\n            <IconButton\n              size=\"large\"\n              aria-label=\"show 17 new notifications\"\n              title=\"lion\"\n              color=\"inherit\"\n            >\n              <Badge badgeContent={17} color=\"error\">\n                <NotificationsIcon />\n              </Badge>\n            </IconButton>\n            <IconButton\n              size=\"large\"\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <Avatar\n                sx={{ width: 30, height: 30 }}\n                alt={user?.fullName}\n                src={user?.profilePic}\n              />\n            </IconButton>\n            <Tooltip title=\"Settings\">\n              <IconButton onClick={handleSettingsMenuOpen} size=\"large\" edge=\"end\" color=\"inherit\">\n                <SettingsIcon />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box sx={{ display: { xs: \"flex\", md: \"none\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n      {settingsMenu}\n      {dialog}\n    </Box>\n  );\n}\n","import  Typography  from '@mui/material/Typography'\n\nimport React from 'react'\n\nimport Header from './Header'\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n  \n    showHeader?: boolean\n}\nconst Layout: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <div className=\"layout\" >\n          <Header/>\n            {children}\n\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </div>\n    )\n}\n\nexport default Layout\n","import { Box, Theme } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport React from 'react';\n\n\ntype ContainerProps = {\n    children: any;\n    key?: string;\n    sx?: SxProps<Theme>;\n    \n};\n\n\nconst Container: React.FC<ContainerProps> =  ({children, sx = {}, ...props}) => {\n    var sX: SxProps<Theme> = {};\n    sX= Object.assign({\n        width: {sm: \"100%\", md: \"85%\"},\n        margin: \"0 auto\"\n    }, sx);\n    return (\n\n        <Box sx={sX}>\n            {children}\n        </Box>\n    )\n}\n\nexport default Container;\n","import { TypographyTypeMap } from '@mui/material/Typography';\nimport Typography   from '@mui/material/Typography';\nimport React from 'react';\n \nconst ControlledText: React.FC<TypographyTypeMap<{  length?: number;\n    text: string;\n    color?: string;\n    component?: string; }, TypographyTypeMap['defaultComponent']>> = ({props}) => {\n    const {text, length = 10,   ...oProps} = props;\n    const getText = () => {\n        if(props.text.length > length) return (text.slice(0, length) + \"...\")\n        else return text;\n    }\n    return (\n        <Typography  {...oProps}>\n                {getText()}\n            </Typography>\n    )\n}\n\nexport default ControlledText\n","import User, { Channel } from \"./models/User\";\n\nexport const DefaultUser: User = {\n  id: \"1\",\n  fullName: \"Allison Kosy\",\n  \n  email: \"allisonkosy@gmail.com\",\n  birthdate: \"1998-11-22\",\n  username: \"kosiken\",\n  country: \"Nigeria\",\n  profilePic: \"/images/me.jpeg\",\n  isCreator: true,has_billing_card: false\n};\n\nexport const UserChannel: Channel = {\n  user_id: \"1\",\n  id: \"1\",\n\n  name: \"Allison Kosy\",\n  short_description:\n    \"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Doloremque, assumenda.\",\n\n  logo: \"/images/me.jpeg\",\n  // banner?: string;\n  follower_count: 234,\n  about: `When the App Store launched in 2008, YouVersion was one of the first 200 free apps available. That first weekend, 83,000 people installed the Bible on their device. But now, a Community that started with 83,000 downloads in one weekend has nearly reached half a billion.`,\n  like_count: 4022,\n  video_count: 25,\n};\n","import React, { useState, useEffect } from 'react';\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\n\ntype ApiLoaderProps = {\n    request: (data: any) => Promise<any>;\n    // retry?: (func:()=> void) => void;\n    onLoad: (data: any) => void;\n    onFail?: (message: string) => void;\n    setLoading: (bool: boolean) => void\n    data?: any;\n}\n\nconst ApiLoader: React.FC<ApiLoaderProps> = function ({ request, setLoading, onLoad, data , onFail = console.log}) {\n\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const loadRequest =  async () => {\n        try {\n            let response = await request(data);\n            onLoad(response);\n\n        } catch (e: any) {\n            let message = \"An Error Occured\"\n            if (e.response) {\n                setLoading(false)\n                \n                console.log(e.response);\n                switch (e.response.status) {\n                    case 400:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n\n                    case 404:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n\n                    case 500:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n                    default:\n                        handleOpen(e.response.data.problems ||  message);\n                        break;\n                }\n                handleOpen( message);\n                return\n\n            }\n   \n            handleOpen( message);\n        }\n    }\n\n    useEffect(() => {\n        const loadRequest2 = async () => {\n            try {\n                let response = await request(data);\n                onLoad(response);\n    \n            } catch (e: any) {\n                let message = \"An Error Occured\"\n                if (e.response) {\n                    setLoading(false)\n                    \n                    console.log(e.response);\n                    switch (e.response.status) {\n                        case 400:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n    \n                        case 404:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n    \n                        case 500:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n                        default:\n                            handleOpen(e.response.data.problems ||  message);\n                            break;\n                    }\n                    handleOpen( message);\n                    return\n    \n                }\n       \n                handleOpen( message);\n            }\n        }\n        loadRequest2()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleRetry = () => {\n        loadRequest();\n        setErrorPresent(false);\n    }\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n        onFail(message)\n    }\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    return (<Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        \n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n    />)\n\n}\n\nexport default ApiLoader;","import React, { useState, useEffect } from \"react\";\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Avatar from \"@mui/material/Avatar\";\nimport dayjs from \"dayjs\"\n\nimport IconButton from \"@mui/material/IconButton\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport Skeleton from \"@mui/material/Skeleton\";\nimport Grid, { GridSize } from \"@mui/material/Grid\";\nimport ControlledText from \"./ControlledText\";\nimport Centered from \"./Centered\";\nimport Video from \"../models/Video\";\nimport { Channel } from \"../models/User\";\nimport { UserChannel } from \"../constants\";\nimport ApiSignleton from \"../api/api\";\nimport ApiLoader from './ApiLoader'\nimport Typography from \"@mui/material/Typography\";\n// import Video from '../models/Video'; \ndayjs.extend(relativeTime)\ntype VideoGridProps = {\n  videoPlaceholderCount?: number;\n  loggedIn?: boolean;\n  xs?: GridSize;\n  sm?: GridSize;\n  lg?: GridSize;\n  md?: GridSize;\n  prefix?: string;\n};\n\nconst VideoGrid: React.FC<VideoGridProps> = ({\n  videoPlaceholderCount = 6,\n  loggedIn = false,\n  xs = 12,\n  sm = 6,\n  md = 4,\n  lg = 3,\n  prefix = \"/open\"\n}) => {\n\n  const [videos, setVideos] = useState<Video[]>([]);\n\n  const items = new Array(videoPlaceholderCount).fill(0)\n  const [done, setDone] = useState(false)\n\n  let retry = async () => {\n    if (videos.length > 0) {\n      setDone(true)\n      return;\n\n    }\n    const Api = ApiSignleton();\n    let v = await Api.allVideos()\n    setVideos(v);\n    return v;\n    // setDone(true)\n\n    // .catch((err) => {\n    //   console.log(err);\n    //   setDone(true)\n    // })\n  }\n\n  useEffect(() => {\nconsole.log(videos)\nsetDone(videos.length > 0)\n  }, [videos])\n\n  const getGrid = () => {\n    if (done) {\n      return (\n        <>\n          {videos.map((item, index) => {\n\n            let channel: Channel = UserChannel;\n            if (typeof item.channel !== \"string\") {\n\n              channel = item.channel;\n            }\n            return (\n              <Grid item key={\"video\" + index} lg={lg} md={md} sm={sm} xs={xs} style={{ minWidth: '260px' }}>\n                <Centered>\n                  <Card sx={{ maxWidth: 455, m: 2 }}>\n                    <CardHeader\n                      style={{ textDecoration: \"none\", fontSize: \"0.9em\" }}\n                      avatar={\n                        <a\n                          style={{ textDecoration: \"none\", fontSize: \"0.9em\" }}\n                          href={(`/channel/${channel.id}`)}\n                        >\n                          <Avatar\n                            alt=\"Intresting Channel\"\n                            src={channel.logo}\n                          />\n                        </a>\n                      }\n                      action={\n                        loggedIn && (\n                          <IconButton aria-label=\"settings\">\n                            <MoreVertIcon />\n                          </IconButton>\n                        )\n                      }\n                      title={channel.name}\n                      subheader={dayjs(item.createdAt).fromNow()}\n                    />\n                    <a\n                      style={{ textDecoration: \"none\", minHeight: '140px', display: 'block', width: '100%'  }}\n                      href={`${prefix}/watch/${item.id}`}\n                    >\n                      <CardMedia\n                        component=\"img\"\n\n                        image={item.thumbnail}\n                        alt={item.thumbnail}\n                        sx={{ fontSize: \"12px\", width: '100%' }}\n                        \n\n                      />\n                    </a>\n\n                    <CardContent>\n                      <ControlledText\n                        defaultComponent=\"span\"\n                        props={{\n                          color: \"text.secondary\",\n                          variant: \"body2\",\n                          component: \"p\",\n                          text: item.title,\n                          length: 60,\n                        }}\n                      />\n\n                      <Typography>{item.viewCount}</Typography>\n                    </CardContent>\n                  </Card>\n                </Centered>\n              </Grid>\n            );\n          })}\n        </>\n      );\n    }\n    return (\n      <>\n        {items.map((item, index) => {\n          return (\n            <Grid item key={\"video\" + index} lg={3} md={4} sm={6} xs={12}>\n              <Card sx={{ maxWidth: 345, m: 2 }}>\n                <CardHeader\n                  avatar={\n                    <Skeleton\n                      animation=\"wave\"\n                      variant=\"circular\"\n                      width={40}\n                      height={40}\n                    />\n                  }\n                  title={\n                    <Skeleton\n                      animation=\"wave\"\n                      height={10}\n                      width=\"80%\"\n                      style={{ marginBottom: 6 }}\n                    />\n                  }\n                  subheader={\n                    <Skeleton animation=\"wave\" height={10} width=\"40%\" />\n                  }\n                />\n\n                <Skeleton\n                  sx={{ height: 190 }}\n                  animation=\"wave\"\n                  variant=\"rectangular\"\n                />\n\n                <CardContent>\n                  <React.Fragment>\n                    <Skeleton\n                      animation=\"wave\"\n                      height={10}\n                      style={{ marginBottom: 6 }}\n                    />\n                    <Skeleton animation=\"wave\" height={10} width=\"80%\" />\n                  </React.Fragment>\n                </CardContent>\n              </Card>\n            </Grid>\n          );\n        })}\n      </>\n    );\n  };\n\n  return (<React.Fragment><Grid container>{getGrid()}</Grid>\n\n    <ApiLoader setLoading={(l) => setDone(l)} request={retry} onFail={(m) => {\n      console.log(\"In grid\");\n      setDone(true);\n\n    }} onLoad={(v) => {\n      console.log(videos)\n      console.log(v);\n      setVideos(v)}} />\n  </React.Fragment>);\n};\n\nexport default VideoGrid;\n","import { Box } from '@mui/material'\nimport React from 'react'\nimport Container from '../components/Container'\nimport VideoGrid from '../components/VideoGrid'\n\nconst Explore = () => {\n    return (\n        <Box sx={{marginTop: '8em'}}>\n        <Container>\n            <VideoGrid/>\n        </Container>\n        </Box>\n    )\n}\n\nexport default Explore\n","import { Action } from \"@reduxjs/toolkit\";\n// eslint-disable-next-line\nimport { DefaultUser } from \"../constants\";\nimport User from \"../models/User\";\nexport interface AuthState  {\n  user?: User;\n};\n\nexport interface SettingsState  {\n  darkMode: boolean;\n  autoPlay: boolean;\n  volume: number;\n};\ntype authActions = \"login\" | \"logout\" | \"become_creator\" ;\ntype settingsActions = \"change-theme\" | \"change-volume\" | \"change-autoplay\";\nexport interface AuthAction extends Action<authActions> {\n \n  user?: User;\n};\n\nexport interface SettingsAction extends Action<settingsActions> {\n  value: boolean | number;\n};\n\nlet initalAuthState: AuthState = {\n  // user: DefaultUser,\n};\n\nlet initialSettingsState: SettingsState = {\n  darkMode: false,\n  autoPlay: false,\n  volume: 80,\n};\n\nexport function authReducer(\n  state = initalAuthState,\n  action: AuthAction\n): AuthState {\n  let returnObj = null;\n  switch (action.type) {\n    case \"login\":\n        returnObj = {...state};\n      returnObj.user = action.user;\n      break;\n    case \"logout\":\n      window.localStorage.removeItem(\"jwt\")\n        returnObj = initalAuthState;\n     \n      break;\n\n    case \"become_creator\":\n        returnObj = {...state};\n      let user: any = { ...returnObj.user, isCreator: true };\n      console.log(action);\n      returnObj.user = user;\n      break;\n    default:\n      console.warn(\"unknown action \" + action.type);\n      break;\n  }\n  if(returnObj == null) return state;\n else  return returnObj;\n}\n\nexport function settingsReducer(\n  state = initialSettingsState,\n  action: SettingsAction\n): SettingsState {\n  let returnObj = null;\n  switch (action.type) {\n    case \"change-autoplay\":\n        returnObj = {...state};\n      returnObj.darkMode = action.value as boolean;\n      break;\n    case \"change-theme\":\n        returnObj = {...state};\n        \n      returnObj.darkMode = action.value as boolean;\n      break;\n\n    case \"change-volume\":\n        returnObj = {...state};\n      returnObj.volume = action.value as number;\n      break;\n\n    default:\n      console.warn(\"unknown action \" + action.type);\n      break;\n  }\n  if(returnObj === null  ) return state;\n  else return returnObj;\n}\n","import {  configureStore } from \"@reduxjs/toolkit\";\nimport { logger } from \"./middleware\";\n\nimport { AuthAction, authReducer, AuthState, SettingsAction, settingsReducer, SettingsState } from \"./reducers\";\n\n\nexport interface AppState {\n    auth: AuthState;\n    settings: SettingsState\n    \n}\n\nexport default configureStore<AppState, AuthAction & SettingsAction>({\n    reducer: {\n        auth: authReducer,\n        settings: settingsReducer\n    }, middleware: [logger]\n})","export const logger = (store: any) => (next: any) => (action: any )=> {\n    console.group(action.type)\n    console.info('dispatching', action)\n    let result = next(action)\n    console.log('next state', store.getState())\n    console.groupEnd()\n    return result\n  }\n  \n","import React, { useState } from \"react\";\nimport querystring from 'querystring'\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nimport FormControl from \"@mui/material/FormControl\";\n\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n \n\n\nconst schema = yup\n  .object({\n    emailAddress: yup.string().email().required(),\n    password: yup.string().min(4).required(),\n  })\n  .required();\n\nconst Login = ( ) => {\n\n  const Api = ApiSignleton();\n  let location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n  let redirect: string;\n\n  if(!!location.search) {\n    redirect = location.search.slice(1);\n    redirect = querystring.parse(redirect).rediirectTo as string\n    console.log(redirect)\n  }\n  \n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const handleOpen = (message: string) => {\nsetErrorMessage(message);\nsetErrorPresent(true)\n  }\n\n  const onSubmit = (data: any) => {\n    // data.emailAddress = \"\";\n    setLoading(true);\n  Api.logIn(data).then(() => {\n    window.location.pathname = redirect ||  \"/\"\n  }).catch((e)=> {\n if(e.response)   {\n   setLoading(false)\n   console.log(e.response);\n   switch(e.response.status) {\n     case 400: \n        handleOpen(\"Email or Password Incorrect\");\n        \n        break;\n\n        case 404: \n        handleOpen(\"Email cannot be found\");\n        \n        break;\n    \n    case 500:\n      handleOpen(\"Server Error\");\n\n      break;\n      default:\n        handleOpen(\"Unknown Error\")\n        break;\n   }\n   return\n  \n  }\n\n  handleOpen(e.message || \"Unknown Error\");\n  })\n  };\n\n\n  const handleClose = () => {\n    setErrorMessage(\"\");\n    setErrorPresent(false);\n  }\n  const action = (\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n  \n        <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  return (\n    <Centered\n      sx={{\n        height: \"100vh\",\n        // backgroundColor: \"primary.main\",\n        flexDirection: \"column\",\n        padding: \"1em 0\",\n      }}\n    >\n      <Card\n        sx={{\n          maxWidth: \"500px\",\n          width: \"60%\",\n          minWidth: \"300px\",\n          padding: 0,\n        }}\n      >\n        {loading && <LinearProgress />}\n        <CardContent sx={{ padding: \"3em 2em\" }}>\n            <Typography variant=\"h6\" align=\"center\" >Log In</Typography>\n            <Spacer space={10} />\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n          <FormControl fullWidth>\n              <TextField\n                helperText={errors.email?.message}\n                id=\"email\"\n                error={!!errors.email}\n                label=\"Email\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"email\",\n                }}\n                {...register(\"emailAddress\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                id=\"password\"\n                error={!!errors.password}\n                helperText={errors.password?.message}\n                {...register(\"password\")}\n                label=\"Password\"\n                variant=\"outlined\"\n                InputProps={{\n                  type: \"password\",\n                }}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <Button type=\"submit\" variant=\"contained\">\n              Submit\n            </Button>\n            <Link\n              to=\"/signup\"\n              style={{ marginLeft: 30, textDecoration: \"none\" }}\n            >\n              <Button >Sign up</Button>\n            </Link>{\" \"}\n            <Spacer space={20} />\n           </form>\n        </CardContent>   <Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n      />\n\n      </Card>\n    </Centered>\n  );\n};\n\nexport default Login;\n","import  React, { useState } from \"react\";\nimport querystring from 'querystring'\n\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\n\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n\n\ntype CountryItem = {\n  value: string;\n  title: string;\n}\n\nconst Countries: CountryItem[] = [\n{\n  value: 'nigeria',\n  title: 'Nigeria'\n},\n{\n  value: 'civ',\n  title: 'Cote\\'ivore'\n},\n{\n  value: 'ghana',\n  title: 'Ghana'\n},\n{\n  value: 'the_gambia',\n  title: 'The Gambia'\n},\n]\n\n\nconst schema = yup\n  .object({\n    emailAddress: yup.string().email().required(),\n    password: yup.string().min(4).required(),\n    fullName: yup.string().min(3).required(),\n    dob: yup.string().length(10).required()\n  })\n  .required();\n\nconst SignUp = () => {\n  let location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n  const [country, setCountry] = useState(Countries[0].value)\n  const [dob, setDob] = useState<Date>();\n  const Api = ApiSignleton()\n\n  let redirect: string;\n\n  if(!!location.search) {\n    redirect = location.search.slice(1);\n    redirect = querystring.parse(redirect).rediirectTo as string\n    console.log(redirect)\n  }\n  \n\n  const handleOpen = (message: string) => {\n    setErrorMessage(message);\n    setErrorPresent(true)\n      }\n      const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n      }\n  const handleChange = (event: SelectChangeEvent<string>) => {\n    setCountry(event.target.value);\n    console.log(dob)\n  };\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const onSubmit = (data: any) => {\n    console.log(data)\n    setLoading(true);\n\n    Api.signIn(data).then(() => {\n      window.location.pathname = redirect ||  \"/\"\n    }).catch((e)=> {\n   if(e.response)   {\n     setLoading(false)\n     console.log(e.response);\n     switch(e.response.status) {\n       case 400: \n          handleOpen(\"Email or Password Incorrect\");\n          \n          break;\n      case 500:\n        handleOpen(\"Server Error\");\n  \n        break;\n        default:\n          handleOpen(\"Unknown Error\")\n          break;\n     }\n     return\n    \n    }\n  \n    handleOpen(e.message || \"Unknown Error\");\n    })\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n\n      <CloseIcon fontSize=\"small\" />\n  </IconButton>\n);\n\n  return (\n    <Centered\n      sx={{\n        minHeight: \"100vh\",\n        // backgroundColor: \"primary.main\",\n        flexDirection: \"column\",\n        padding: \"1em 0\",\n        marginTop:20\n      }}\n    >\n      <Card\n        sx={{\n          maxWidth: \"500px\",\n          width: \"60%\",\n          minWidth: \"300px\",\n          padding: 0,\n        }}\n      >\n        {loading && <LinearProgress />}\n        <CardContent sx={{ padding: \"3em 2em\" }}>\n          <Typography variant=\"h6\" align=\"center\">\n            Sign Up\n          </Typography>\n          <Spacer space={10} />\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <FormControl fullWidth>\n              <TextField\n                helperText={errors.fullName?.message}\n                id=\"fullName\"\n                error={!!errors.fullName}\n                label=\"Full Name\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"fullName\",\n                }}\n                {...register(\"fullName\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                helperText={errors.email?.message}\n                id=\"email\"\n                error={!!errors.email}\n                label=\"Email\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"email\",\n                }}\n                {...register(\"emailAddress\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                id=\"password\"\n                error={!!errors.password}\n                helperText={errors.password?.message}\n                {...register(\"password\")}\n                label=\"Password\"\n                variant=\"outlined\"\n                InputProps={{\n                  type: \"password\",\n                }}\n              />\n            </FormControl>\n\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n       variant=\"filled\"\n          {...register('dob')}\n          type=\"date\"\n         InputProps= {\n          {inputProps: {max:\"12-12-2021\"}}\n         }\n\n         onChange={(e) => {\n           setDob(new Date(e.target.value))\n         }}\n                  \n                  \n\n              />\n            </FormControl>\n            <Spacer space={20} />\n            \n              <InputLabel   id=\"demo-simple-select-label\">Country</InputLabel>\n              <FormControl fullWidth >  <Select\n                {...register('country')}\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={country}\n                label=\"Country\"\n                onChange={handleChange}\n              >\n              {Countries.map(({value, title}, index) => (  <MenuItem key={'country' + index} value={value}>{title}</MenuItem>))}\n              </Select>\n            </FormControl>\n            <Spacer space={20} />\n            <Button type=\"submit\" variant=\"contained\">\n              Submit\n            </Button>\n            <Link\n              to=\"/login\"\n              style={{ marginLeft: 30, textDecoration: \"none\" }}\n            >\n              <Button>Log In</Button>\n            </Link>{\" \"}\n            <Spacer space={20} />\n            <Typography\n              component=\"small\"\n              variant=\"subtitle2\"\n              align=\"center\"\n              color=\"red\"\n            >\n              {errrorMessage}\n            </Typography>\n          </form>\n        </CardContent>\n      </Card>\n      <Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n      />\n    </Centered>\n  );\n};\n\nexport default SignUp;\n","import React from 'react';\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Centered from './Centered';\n\n\n\n\nconst LoadingPageIndicator: React.FC<{height?: string}> = ({height = '100vh'}) => (\n    <Centered sx={{ height }}>\n        <Box> <CircularProgress />\n            <p>Loading</p></Box>\n\n    </Centered>\n)\n\n\nexport default LoadingPageIndicator;","import { Channel } from \"../models/User\";\n\nexport function shortenText(text: string, max: number): string {\n    \n    if(text.length > max) return (text.slice(0, max - 3) + \"...\")\n    else return text;\n}\n\nexport function toHHMMSS(secs: number) {\n    var sec_num = Math.floor(secs);\n    var hours = Math.floor(sec_num / 3600);\n    var minutes = Math.floor(sec_num / 60) % 60;\n    var seconds = sec_num % 60;\n\n    return [hours, minutes, seconds]\n      .map((v) => (v < 10 ? \"0\" + v : v))\n      .filter((v, i) => v !== \"00\" || i > 0)\n      .join(\":\");\n  };\n\n  export const sanitizedChannel = function (channel: any): Channel {\n    \n\n    const sanitizedChannel: Channel = {\n      id: channel.id,\n      user_id: channel.user,\n      name: channel.name,\n      about: channel.about,\n      short_description: channel.shortDescription,\n      logo: channel.logo,\n      banner: channel.banner,\n      follower_count: channel.followerCount,\n      like_count: channel.likeCount,\n      video_count: channel.videoCount,\n      total_views: channel.totalViews\n    };\n\n    return sanitizedChannel;\n    // TODO\n  }","import User, { Subscription } from \"../models/User\";\nimport axios, { AxiosInstance } from \"axios\";\n// import Video from \"../models/Video\";\nimport { sanitizedChannel } from \"../utils/functions\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport { VideoPurchase } from \"../models/Video\";\n\nexport interface IBillingDetails  {\n  billingCardBrand: string;\n  billingCardExpMonth: string;\n  billingCardExpYear: string;\n  billingCardLast4: string;\n  hasBillingCard: boolean;\n  cvv: string;\n}\n\n\ninterface IUserApi {\n  _api: AxiosInstance;\n\n  getFollowing(): Promise<Subscription[]>;\n  updateDetails(body: any): Promise<User>;\n  unSubscribe(channel: string): Promise<{deleted: boolean;}>;\n  subscribe(channel: string): Promise<Subscription>;\n  viewHistory(): Promise<ViewHistory[]>;\n  purchases(): Promise<VideoPurchase[]>;\n  addCard(data: IBillingDetails): Promise<IBillingDetails>;\n}\n\nclass UserApi implements IUserApi {\n  _api: AxiosInstance;\n\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"http://localhost:1337/api/user\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n  async addCard(data: IBillingDetails): Promise<IBillingDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.post<IBillingDetails>(\"/card\",data, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n\n    return response.data;\n  }\n  async purchases(): Promise<VideoPurchase[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<VideoPurchase[]>(`/paid-videos`,  {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async viewHistory(): Promise<ViewHistory[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<ViewHistory[]>(`/history`,  {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async subscribe(channel: string): Promise<Subscription> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<Subscription>(`/subscribe/${channel}`,  {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    response.data.channel = sanitizedChannel(response.data.channel);\n    return response.data; // comment\n  \n  }\n async  unSubscribe(channel: string): Promise<{ deleted: boolean; }> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<{deleted: boolean}>(`/subscribe/${channel}?unsubscribe=true`,  {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async updateDetails(body: any): Promise<User> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.post<User>(\"/update\",body, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n\n    return response.data;\n  }\n\n  async getFollowing(): Promise<Subscription[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<any[]>(\"/following\",  {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\nlet data: Subscription[] = response.data.map(v => {\n  return {\n    ...v, channel: sanitizedChannel(v.channel)\n  }\n})\n    return data;\n  }\n\n}\n\n\nexport default function UserApiSignleton(): IUserApi {\n  let instance: IUserApi | undefined;\n  if (!instance) instance = new UserApi();\n  return instance;\n}\n","import React from 'react';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport Centered from './Centered';\n\n\n\n\nconst ErrorPageIndicator: React.FC<{height?: string, errorMessage: string, retry: () => void}> = ({height = '100vh', ...props}) => (\n    <Centered sx={{ height }}>\n        <Box> \n            \n            <Typography variant=\"h6\">\n            Error\n        </Typography>\n\n           \n        <Typography color=\"error\">\n            {props.errorMessage}\n        </Typography>\n\n        <Button variant=\"contained\" onClick={props.retry}>\n            Retry\n        </Button>\n        </Box>\n\n    </Centered>\n)\n\n\nexport default ErrorPageIndicator;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\nimport VideoGrid from \"../../components/VideoGrid\";\nimport Container from \"../../components/Container\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from '@mui/material/Button'\nimport { Link } from \"react-router-dom\";\nimport { Channel } from \"../../models/User\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport UserApiSignleton from \"../../api/userApi\";\nimport ErrorPageIndicator from \"../../components/ErrorPageIndicator\";\nimport AppLink from \"../../components/AppLink\";\n\n\nconst Sidebar = () => {\n  const [creators, setCreators] = useState<Channel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('')\n  const sliceCreators = () => creators.length > 20 ? creators.slice(0, 19) : creators;\n\n  function retry() {\n    if (creators.length > 0) return;\n    const userApi = UserApiSignleton();\n    userApi.getFollowing().then(c => {\n      setCreators(c.map(s => s.channel));\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n  }\n  useEffect(() => {\n    const userApi = UserApiSignleton();\n    userApi.getFollowing().then(c => {\n      setCreators(c.map(s => s.channel));\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n\n\n  },[])\n\n  \n  if (loading) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <LoadingPageIndicator height={\"80vh\"} />\n    </Box>);\n  }\n  if(hasError) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <ErrorPageIndicator errorMessage={errorMessage} retry={retry} height={\"80vh\"} />\n    </Box>);\n  }\n\n  return (\n    <Box\n      sx={{\n        display: { md: \"block\", sm: \"none\" },\n        width: { md: \"250px\", sm: \"90vw\" },\n\n      }}\n      style={{ padding: '1em 0 0' }}\n    >\n      <Typography fontWeight=\"bold\" component=\"span\" style={{ marginLeft: 15 }}>Following ({creators.length})</Typography> <AppLink sx={{ml: 0.2}} to=\"/main/my-dashboard#channel\">View All</AppLink>\n      <Paper elevation={0} style={{ height: \"95%\", overflowY: 'scroll' }}>\n        {sliceCreators().map((creator, index) => {\n          return (\n            <Link to={\"#/creator/\" + index} key={\"creator\" + index} style={{ display: 'block', textDecoration: 'none', color: 'inherit', marginBottom: 10 }}>\n              <Button style={{ textTransform: 'none', display: 'flex', width: '100%', justifyContent: 'flex-start', color: 'inherit' }}>\n                <Avatar\n                  alt={creator.name}\n                  src={creator.logo}\n                />\n\n                <Typography style={{ marginLeft: 15 }}>{creator.name}</Typography>\n              </Button>\n            </Link>\n          )\n        })}\n      </Paper>\n    </Box>\n  );\n}\n\nconst Dashboard = () => {\n  // \n  return (\n    <Box>\n      <Box style={{ maxHeight: 'calc(100vh )', overflow: 'hidden', marginTop: '64px' }} sx={{ position: \"relative\", display: { sm: \"block\", md: \"flex\" } }}>\n        <Box style={{ overflowY: 'scroll', height: '100vh' }} flex={1}>\n\n          <Container>\n\n            <VideoGrid videoPlaceholderCount={24} prefix=\"/main\" />\n          </Container>\n        </Box>\n        <Sidebar />\n\n      </Box>\n    </Box>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from \"react\";\nimport CloseIcon from '@mui/icons-material/Close';\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"./Container\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ReactPlayer from \"react-player\";\nimport { useDebounce } from \"@react-hook/debounce\";\nimport SkipPreviousIcon from \"@mui/icons-material/SkipPrevious\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport SkipNextIcon from \"@mui/icons-material/SkipNext\";\nimport Centered from \"./Centered\";\nimport PauseIcon from \"@mui/icons-material/Pause\";\nimport Slider from \"@mui/material/Slider\";\nimport Snackbar from '@mui/material/Snackbar';\nimport useHover from \"../hooks/useHover\";\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\nimport useWindowSize, { Size } from \"../hooks/useWindowSize\";\nimport { toHHMMSS } from \"../utils/functions\";\n\ntype VideoViewProps = {\n  url: string;\n};\n\nconst VideoView: React.FC<VideoViewProps> = ({ url }) => {\n  // const url = \"/video.mp4\"//https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4\n\n  const videoRef: any = React.useRef();\n  const ref: any = React.useRef();\n  const timeoutRef = React.useRef(0);\n  const val = useHover(ref);\n  const [playing, setPlaying] = useState(false);\n  const [playedSecondString, setPlayedSecondString] = useState(\"00:00\");\n  const [playedSeconds, setPlayedSeconds] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [durationString, setDurationString] = useState(\"00:00\");\n  const [liked, setLiked] = useState(false);\n  const [value, setValue] = useDebounce(false, 1000);\n  const [show, setShow] = useState(false);\n  const [fullScreen, setFullScreen] = useState(false);\n  const [open, setOpen] = React.useState(true);\n\n \n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string,\n  ) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const getMd = () => {\n    if (fullScreen) {\n      return show ? \"block\" : \"none\";\n    } else return val ? \"block\" : \"none\";\n  };\n\n  useEffect(() => {\n    const func = (event: Event) => {\n      // document.fullscreenElement will point to the element that\n      // is in fullscreen mode if there is one. If there isn't one,\n      // the value of the property is null.\n      if (document.fullscreenElement) {\n        console.log(\n          `Element: ${document.fullscreenElement.id} entered full-screen mode.`\n        );\n      } else {\n        if (fullScreen) setFullScreen(false);\n      }\n    };\n    document.addEventListener(\"fullscreenchange\", func);\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", func);\n    };\n  });\n\n  const size: Size = useWindowSize();\n\n  useEffect(() => {\n    if (!!ref.current && fullScreen) {\n      ref.current.requestFullscreen();\n    } else if (!fullScreen) {\n        if (document.fullscreenElement)    document.exitFullscreen().catch(console.log);\n    }\n  }, [fullScreen]);\n  const toggleVideoLike = () => {\n    setLiked(!liked);\n  };\n\n  useEffect(() => {\n    setValue(liked);\n\n    return () => {};\n  }, [liked, setValue]);\n\n  useEffect(() => {\n    const sendApiRequest = () => {\n      console.log(\"sending request\");\n    };\n    sendApiRequest();\n    return () => {};\n  }, [value]);\n\n  useEffect(() => {\n    if (timeoutRef.current !== 0) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = window.setTimeout(() => {\n      setShow(false);\n      timeoutRef.current = 0;\n    }, 2000);\n\n    return () => {\n      if (timeoutRef.current !== 0) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [show]);\n \n  useEffect(() => {\n    setDurationString(toHHMMSS(duration));\n    return () => {};\n  }, [duration]);\n\n  useEffect(() => {\n    setPlayedSecondString(toHHMMSS(playedSeconds));\n    return () => {};\n  }, [playedSeconds]);\n  const getWidth = () => {\n    return fullScreen\n      ? window.innerWidth + \"px\"\n      : size.width\n      ? size.width < 640\n        ? size.width + \"px\"\n        : \"640px\"\n      : \"640px\";\n  };\n  const action = (\n    \n   \n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n  \n  );\n  return (\n    <Container sx={{ paddingTop: \"1em\", maxWidth: \"640px\" }}>\n      {\" \"}\n      <div\n        onClick={() => {\n            setShow(true);\n            setPlaying(!playing)\n        }\n        }\n        style={{ position: \"relative\" }}\n        ref={ref}\n      >\n        <ReactPlayer\n          ref={videoRef}\n          onProgress={(state) => {\n            setProgress(state.played);\n            setPlayedSeconds(state.playedSeconds);\n          }}\n          height={fullScreen ? \"100%\": 'auto'}\n     \n          width={getWidth()}\n          onDuration={setDuration}\n          playing={playing}\n          url={url}\n        />\n\n        <Box\n          sx={{\n            position: \"absolute\",\n            bottom: 10,\n            left: 0,\n            width: \"100%\",\n            display: {\n              xs: show ? \"block\" : \"none\",\n              sm: show ? \"block\" : \"none\",\n              md: getMd(),\n            },\n          }}\n        >\n          <Centered sx={{ marginTop: \"1em\" }}>\n            <Box sx={{ width: \"85%\", backgroundColor: \"#000000ad\", p: 1 }}>\n              <Box\n                alignItems=\"center\"\n                justifyContent=\"space-between\"\n                display=\"flex\"\n                sx={{ alignItems: \"center\" }}\n              >\n                <IconButton\n                  onClick={() => setFullScreen(!fullScreen)}\n                  style={{ color: \"white\" }}\n                  aria-label=\"next\"\n                >\n                  {fullScreen ? <CloseFullscreenIcon /> : <OpenInFullIcon />}\n                </IconButton>\n                <Box\n                  alignItems=\"center\"\n                  display=\"flex\"\n                  sx={{ alignItems: \"center\" }}\n                >\n                  <IconButton style={{ color: \"white\" }} aria-label=\"previous\">\n                    <SkipPreviousIcon />\n                  </IconButton>\n                  <IconButton\n                    onClick={() => setPlaying(!playing)}\n                    sx={{\n                      margin: \"0 0.5em\",\n                      color: \"white\",\n                    }}\n                    aria-label=\"play/pause\"\n                  >\n                    {!playing ? (\n                      <PlayArrowIcon sx={{ height: 30, width: 30 }} />\n                    ) : (\n                      <PauseIcon sx={{ height: 30, width: 30 }} />\n                    )}\n                  </IconButton>\n                  <IconButton style={{ color: \"white\" }} aria-label=\"next\">\n                    <SkipNextIcon />\n                  </IconButton>\n                </Box>\n                <Typography id=\"seek\" sx={{ color: \"white\" }}>\n                  {playedSecondString}/{durationString}\n                </Typography>\n              </Box>\n              <Box sx={{ width: \"100%\" }}>\n                <Slider\n                  size=\"small\"\n                  value={progress * 100}\n                  aria-label=\"Small\"\n                  valueLabelDisplay=\"off\"\n                  color=\"secondary\"\n                  onChange={(v, n) => {\n                    if (videoRef.current) {\n                      let num: number = Array.isArray(n) ? n[0] : n;\n                      setProgress(num / 100);\n                      videoRef.current.seekTo(num / 100, \"fraction\");\n                    }\n                  }}\n                />\n              </Box>\n            </Box>\n          </Centered>\n        </Box>\n      </div>\n      <Box display=\"flex\" marginTop={1}>\n        <Box\n          display=\"flex\"\n          padding={\"0 2em 0 0\"}\n          color=\"primary\"\n          alignItems={\"center\"}\n        >\n          {\" \"}\n          <VisibilityIcon color=\"primary\" />{\" \"}\n          <Typography color=\"primary\" variant=\"subtitle1\" component=\"span\">\n            {\" \"}\n            1203 views\n          </Typography>\n        </Box>\n        <Divider orientation=\"vertical\" flexItem />\n        <Box display=\"flex\" padding={\"0 0 0 2em\"} alignItems={\"center\"}>\n          {\" \"}\n          <IconButton\n            onClick={toggleVideoLike}\n            color={liked ? \"error\" : \"default\"}\n          >\n            {\" \"}\n            <FavoriteIcon color=\"inherit\" />{\" \"}\n          </IconButton>{\" \"}\n          <Typography color=\"secondary\" variant=\"subtitle1\" component=\"span\">\n            {\" \"}\n            1203 views\n          </Typography>\n        </Box>\n      </Box>\n      <Snackbar\n  open={open}\n  autoHideDuration={6000}\n  onClose={handleClose}\n  message=\"Tap Video to play or pause\"\n  action={action}\n/>\n\n    </Container>\n  );\n};\n\nexport default VideoView;\n","import React, { useState, useEffect } from \"react\";\n\nexport default  function useHover (\n  ref: React.RefObject<HTMLElement>,\n  defaultState= false,\n  delay = 0\n){\n  const [state, setState] = useState(defaultState);\n  \n  useEffect(() => {\n    const onHover = () => setState(true);\n    const onLeave = () => setTimeout(() => setState(false), delay);\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(\"mouseover\", onHover);\n      node.addEventListener(\"mouseleave\", onLeave);\n   \n    return () => {\n      \n      const node2 = node;\n      if (node2) {\n        node2.removeEventListener(\"mouseover\", onHover);\n        node2.removeEventListener(\"mouseleave\", onLeave);\n      }\n    };\n}\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ref]);\n\n  return state;\n};\n","import { useState, useEffect } from \"react\";\n// Define general type for useWindowSize hook, which includes width and height\nexport interface Size {\n  width: number | undefined;\n  height: number | undefined;\n}\n// Usage\n\nexport default function useWindowSize(): Size {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<Size>({\n    width: 640,\n    height: 100,\n  });\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.outerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}","import Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\n \n \n \nimport VideoView from \"../../components/VideoView\";\n\nconst View = () => {\n    const url = \"/videos/video.mp4\"//https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4\n\n \n \n\n  return (\n    <Box style={{ marginTop: \"4em\" }}>\n      <Grid container spacing={2}>\n        <Grid  item md={8} sm={12}>\n       <VideoView url={url} />\n        </Grid>\n        <Grid item md={4} sm={12}>\n          <Box padding={2}>\n    \n            <Typography variant=\"caption\">Video Creator</Typography>\n            <Typography variant=\"h4\">Video Title </Typography>\n            <Typography variant=\"body2\">\n              Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vitae\n              unde provident quae praesentium, non sint. Rerum, ex error\n              distinctio ut blanditiis magni voluptates numquam cumque. Dolor\n              itaque cupiditate repellendus a.\n            </Typography>\n            <Typography variant=\"caption\">\n             5 hours ago\n            </Typography>\n          </Box>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default View;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Container from \"@mui/material/Container\";\nimport Badge from \"@mui/material/Badge\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from \"@mui/system\";\nimport Spacer from \"./Spacer\";\nimport Button from \"@mui/material/Button\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport Divider from \"@mui/material/Divider\";\nimport User from \"../models/User\";\nimport AppLink from \"./AppLink\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { useForm } from \"react-hook-form\";\nimport UserApiSignleton from \"../api/userApi\";\n\n\n \n\ntype CountryItem = {\n  value: string;\n  title: string;\n};\n\nconst Countries: CountryItem[] = [\n  {\n    value: \"nigeria\",\n    title: \"Nigeria\",\n  },\n  {\n    value: \"civ\",\n    title: \"Cote'ivore\",\n  },\n  {\n    value: \"ghana\",\n    title: \"Ghana\",\n  },\n  {\n    value: \"the_gambia\",\n    title: \"The Gambia\",\n  },\n];\n\n\n\n\n\nconst CardDetails: React.FC<{ user: User }> = ({ user }) => {\n\n  const [showDetails, setShowDetails] = useState(false);\n\n\n\n  if (!showDetails) return <Button variant=\"contained\" onClick={() => setShowDetails(true)}>Show Card Details </Button>\n  if (user.has_billing_card) {\n    return (<React.Fragment>\n      <Typography variant=\"caption\" color=\"GrayText\">\n        Card Details\n      </Typography>\n      <Box display=\"flex\" sx={{ mb: 1, maxWidth: '200px' }} alignItems=\"center\">    <Typography style={{ flex: 1 }} >{user.billing_card_brand || \"none\"} {\"->\"} {user.billing_card_last4} </Typography>\n        <AppLink to=\"/main/update-billing\">\n          Update\n        </AppLink>\n      </Box>\n      <Button onClick={() => setShowDetails(false)}>Hide Card Details </Button>\n\n    </React.Fragment>)\n  }\n  return (\n    <Box display=\"flex\" sx={{ mb: 1, maxWidth: '200px' }} alignItems=\"center\">    <Typography style={{ flex: 1 }} >No Card Details </Typography>\n      <AppLink to=\"/main/update-billing\">\n        Add\n      </AppLink>\n    </Box>\n  )\n}\n\nconst TabOne: React.FC<{ user?: User }> = ({ user }) => {\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false)\n  const handleClick = (m: string) => {\n    setMessage(m);\n\n\n\n    setOpen(true);\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  }\n  const theme = useTheme();\n  const {\n    register,\n    handleSubmit,\n\n  } = useForm({});\n  const [country] = useState(Countries[0].value);\n  const userApi = UserApiSignleton()\n  const onSubmit = (data: any) => {\n    setLoading(true);\n    let keys = Object.keys(data);\n    let v: any = { ...user };\n    for (let key of keys) {\n\n      if (!data[key] || (v && (data[key] === (v[key])))) delete data[key];\n\n    }\n\n    userApi.updateDetails(data)\n      .then(() => {\n\n        setLoading(false);\n        handleClick('Details Updated successfully')\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false);\n        handleClick('An error occured while trying to update')\n      })\n\n  };\n  const action = (\n\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n\n  );\n\n\n  return (\n    <Container maxWidth=\"md\">\n      <Typography sx={{ mt: 2, mb: 2, color: 'text.primary' }} fontWeight=\"bold\">\n        Profile Picture\n      </Typography>\n      <Box sx={{ mt: 2 }}>\n        <Badge\n          overlap=\"circular\"\n          anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n          badgeContent={\n            <IconButton style={{ backgroundColor: theme.palette.primary.main }}>\n              <CloudUploadIcon htmlColor=\"white\" />\n            </IconButton>\n          }\n        >\n          <Avatar\n            alt={user?.fullName || \"None\"}\n            src={user?.profilePic || \"/images/me.jpeg\"}\n            sx={{ width: 100, height: 100 }}\n          />\n        </Badge>\n        <Spacer space={20} />\n        <Divider variant=\"middle\" /> <Spacer space={20} />\n        <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n          {loading && <LinearProgress />}\n          <Typography sx={{ mt: 2, mb: 2, color: 'text.primary' }} fontWeight=\"bold\">\n            Contact Details\n          </Typography>\n          <FormControl fullWidth>\n            <TextField\n              defaultValue={user?.fullName}\n              id=\"fullName\"\n              label=\"Full Name\"\n              variant=\"outlined\"\n              InputProps={{\n                type: \"text\",\n              }}\n\n              {...register(\"fullName\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n          <FormControl fullWidth>\n            <TextField\n              id=\"email\"\n              defaultValue={user?.email}\n              label=\"Email\"\n              variant=\"outlined\"\n              InputProps={{\n                type: \"email\",\n              }}\n              {...register(\"emailAddress\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n\n          <FormControl fullWidth>\n            <TextField\n              variant=\"filled\"\n              type=\"date\"\n              defaultValue={user?.birthdate}\n              InputProps={{ inputProps: { max: \"12-12-2021\" } }}\n\n              {...register(\"dob\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n\n          <InputLabel id=\"demo-simple-select-label\">Country</InputLabel>\n          <FormControl fullWidth>\n            {\" \"}\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={country}\n              label=\"Country\"\n\n              {...register(\"country\")}\n            >\n              {Countries.map(({ value, title }, index) => (\n                <MenuItem key={\"country\" + index} value={value}>\n                  {title}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <Spacer space={20} />\n          <Button type=\"submit\" variant=\"contained\">\n            Update Details\n          </Button>\n        </form>\n        <Spacer space={20} />\n        <Divider variant=\"middle\" /> <Spacer space={20} />\n\n        {user && (<CardDetails user={user} />)}\n\n\n\n      </Box>\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={message}\n        action={action}\n      />\n    </Container>\n  );\n};\n\nexport default TabOne;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Container from \"@mui/material/Container\";\nimport Button from \"@mui/material/Button\";\nimport { Channel } from \"../models/User\";\nimport AppLink from \"./AppLink\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\nconst TabTwo: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n  const [loadingResponse, setLoadingResponse] = useState(false)\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [channels, setChannels] = useState<Channel[]>([]);\n  const [channelUnfollowed, setChannelUnfollowed] = useState<Channel | null>(\n    null\n  );\n\n\n\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request two\");\n      setShown(true)\n\n      const userApi = UserApiSignleton();\n\n      userApi.getFollowing()\n        .then((subs) => {\n          setChannels(subs.map(s => s.channel))\n          setLoading(false)\n        })\n        .catch(err => {\n\n          setOpen(true);\n          setMessage(err.message)\n          setLoading(false)\n\n        })\n    }\n\n  }, [shown, showing])\n  const handleClick = (channelToUnfollow: Channel) => {\n    if (loadingResponse) return;\n    const userApi = UserApiSignleton();\n    setLoadingResponse(true);\n\n    userApi.unSubscribe(channelToUnfollow.id)\n      .then(ans => {\n        console.log(ans);\n        setMessage(\"unfollowed \" + channelToUnfollow.name);\n        setChannelUnfollowed(channelToUnfollow);\n        setChannels(channels.filter((c) => c.id !== channelToUnfollow.id));\n        setLoadingResponse(false)\n        setOpen(true);\n      })\n      .catch(err => {\n        // TODO handle error properly\n        setLoadingResponse(false);\n        setMessage(\"An error occured\")\n        setOpen(true);\n\n      })\n\n\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    if (reason !== \"undo\") {\n      console.log(\"unfollowed \" + channelUnfollowed?.name);\n    }\n\n    setOpen(false);\n    setChannelUnfollowed(null);\n  };\n\n  const handleUndo = (event: React.SyntheticEvent | React.MouseEvent) => {\n    if (channelUnfollowed !== null) {\n      if (loadingResponse) return;\n      const userApi = UserApiSignleton();\n      setLoadingResponse(true);\n\n      userApi.subscribe(channelUnfollowed.id)\n        .then(sub => {\n          setChannels([sub.channel, ...channels]);\n          setChannelUnfollowed(null);\n          setMessage(\"Subscribed to \" + sub.channel.name)\n          setLoadingResponse(false)\n          setOpen(true);\n        }).catch(err => {\n          // TODO handle error properly\n          setLoadingResponse(false);\n          setMessage(\"An error occured\")\n          setOpen(true);\n\n        })\n\n    }\n    // handleClose(event, \"undo\");\n  };\n\n  const action = (\n    <React.Fragment>\n      <Button color=\"secondary\" size=\"small\" onClick={handleUndo}>\n        UNDO\n      </Button>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  if (loading && channels.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"sm\" style={{ paddingTop: \"2em\" }}>\n      {channels.map((creator, index) => {\n        return (\n          <Box display=\"flex\" sx={{mb: 1}} key={\"channel-\" + index}>\n            <AppLink\n              to={\"/main/channel/\" + creator.id}\n\n              style={{ marginBottom: 10, flex: 1, display: \"flex\", }}\n              sx={{\n                textTransform: \"none\",\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"flex-start\",\n                color: \"inherit\",\n              }}\n            >\n              <Avatar alt={creator.name} src={creator.logo} />\n              <Box padding=\"0 0 0 1em\">\n                <Typography fontWeight=\"bold\" sx={{ color: 'text.primary' }}>\n                  {creator.name}\n                </Typography>\n                <Typography component=\"p\" variant=\"subtitle2\" color=\"GrayText\" align=\"left\">\n                  {creator.follower_count +\n                    (creator.follower_count === 1\n                      ? \" follower\"\n                      : \" followers\")}\n                </Typography>\n              </Box>\n            </AppLink>\n\n            <Button\n\n              style={{ display: \"inline\" }}\n              onClick={() => handleClick(creator)}\n            >\n              Unfollow\n            </Button>\n          </Box>\n        );\n      })}\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={message}\n        action={action}\n      />\n    </Container>\n  );\n};\n\n\nexport default TabTwo;\n","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Chip from '@mui/material/Chip';\nimport Container from \"@mui/material/Container\";\nimport Spacer from \"./Spacer\";\nimport AppLink from \"./AppLink\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport { shortenText } from \"../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\n\n\nconst TabThree: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n\n  const [viewHistory, setViewHistory] = useState<ViewHistory[]>([]);\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request three\");\n      const userApi = UserApiSignleton();\n      userApi.viewHistory().then((v) => {\n        setLoading(false)\n        setViewHistory(v);\n\n      }).catch(() => {\n        setLoading(false);\n      });\n\n\n      setShown(true)\n    }\n\n  }, [shown, showing])\n\n  if (loading && viewHistory.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"md\" >\n      <Spacer space={30} />\n      {viewHistory.map(({ video, channel }, index) => {\n        let variant: \"outlined\" | \"filled\" = video.videoType === 'restricted' ? 'filled': 'outlined';\n        return (<Box key={'view-history-' + index} sx={{mb: 1}} display=\"flex\" alignItems=\"center\">\n\n          <div style={{ width: \"40%\", maxWidth: '230px' }}>\n            <Link to={\"/main/watch/\" + video.id} >\n              <img style={{ display: 'block', width: '100%' }} src={video.thumbnail} alt={video.title} />\n            </Link>\n          </div>\n          <Box flex={1} padding=\"1em\">\n            <Typography fontWeight=\"bold\" sx={{ color: 'text.primary' }}>\n              {video.title}\n            </Typography>\n            <Typography sx={{ color: 'text.primary' }} fontSize={\".85rem\"} >\n              {shortenText(video.description || \"No description\", 100)}\n            </Typography>\n            <AppLink to={\"/main/channel/\" + channel.id} sx={{ mt: 1, textTransform: 'none', padding: 0 }}>\n              <Typography sx={{ color: 'text.primary' }} variant=\"subtitle2\"  >\n                {channel.name}\n              </Typography>\n            </AppLink>\n            <div style={{marginTop: '0.5em'}}>\n            <Chip variant={variant} label={video.videoType} size=\"small\" />\n            </div>\n          \n\n\n          </Box>\n\n        </Box>)\n      })}\n    </Container>\n  )\n}\n\nexport default TabThree;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Container from \"@mui/material/Container\";\nimport Spacer from \"./Spacer\";\nimport AppLink from \"./AppLink\";\nimport { shortenText } from \"../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport { VideoPurchase } from \"../models/Video\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\n\n\n\n\nconst TabFour: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n\n\n  const [purchases, setPurchases] = useState<VideoPurchase[]>([]);\n\n\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request four\");\n      const userApi = UserApiSignleton();\n      userApi.purchases().then((v) => {\n        setLoading(false)\n        setPurchases(v);\n\n      }).catch(() => {\n        setLoading(false);\n      });\n\n      setShown(true)\n    }\n\n  }, [shown, showing])\n  if (loading && purchases.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"md\" >\n      <Spacer space={30} />\n      {purchases.map(({ videoPurchased: video, amountPaid: price, channel }, index) => {\n\n        return (<Box sx={{mb: 1}} key={'view-history-' + index} display=\"flex\" alignItems=\"center\">\n\n          <div style={{ width: \"40%\", maxWidth: '230px' }}>\n            <Link to={\"/watch/\" + video.id} >\n              <img style={{ display: 'block', width: '100%' }} src={video.thumbnail} alt={video.title} />\n            </Link>\n          </div>\n          <Box flex={1} padding=\"1em\">\n            <Typography sx={{ color: 'text.primary' }} fontWeight=\"bold\" >\n              {video.title}\n            </Typography>\n            <Typography sx={{ color: 'text.primary' }} fontSize={\".85rem\"} >\n              {shortenText(video.description, 80)}\n            </Typography>\n\n            <AppLink to={\"/main/channel/\" + channel.id} sx={{ mt: 1, textTransform: 'none', padding: 0 }}>\n              <Typography variant=\"subtitle2\"  >\n                {channel.name}\n              </Typography>\n            </AppLink>\n            <Typography sx={{ color: 'success.main' }} fontWeight=\"bold\" component=\"p\" variant=\"caption\"  >\n              {price}(NGN)\n            </Typography>\n          </Box>\n\n        </Box>)\n      })}\n    </Container>\n  )\n}\n\nexport default TabFour;","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Paper from \"@mui/material/Paper\";\nimport { AppState } from \"../../store\";\nimport Container from \"@mui/material/Container\";\nimport { Helmet } from \"react-helmet\";\nimport Spacer from \"../../components/Spacer\";\nimport TabOne from \"../../components/TabOne\";\nimport TabTwo from \"../../components/TabTwo\";\nimport TabThree from \"../../components/TabThree\";\nimport TabFour from \"../../components/TabFour\";\n \n\n\n\n\n\n\nconst Profile = () => {\n  const TabNames = [\"Profile\", \"Channels\", \"History\", \"Purchases\"]\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [value, setValue] = useState(0);\n\n  useEffect(() => {\n    let pathName = window.location.hash.slice(1)\n    if (pathName) {\n      const dictionary: any = {};\n      const TabNames2 = [\"Profile\", \"Channels\", \"History\", \"Purchases\"]\n      TabNames2.forEach((name, index) => {\n        dictionary[name.toLocaleLowerCase()] = index;\n      })\n      dictionary[\"channel\"] = 1;\n      let index = dictionary[pathName];\n      if (index) {\n        setValue(index)\n      }\n\n    }\n\n  }, [])\n  const handleChange1 = (event: React.SyntheticEvent, newValue: number) => {\n    setValue(newValue);\n  };\n\n\n  return (\n    <Box style={{ marginTop: \"4em\", position: \"relative\" }}>\n      <Helmet>\n\n        <title>{user?.fullName + \" / \" + TabNames[value]}</title>\n\n      </Helmet>\n      <Paper style={{ padding: \"1em 0 0\", border: 'none', boxShadow: 'none' }} elevation={0}>\n        <Container maxWidth=\"md\">\n          <Typography variant=\"h5\">{user?.fullName || \"None\"}</Typography>\n        </Container>\n      </Paper>\n\n      <Paper style={{ position: \"sticky\", top: 64, left: 0, zIndex: 99, borderTop: 'none' }} square>\n        <Container maxWidth=\"md\">\n          <Box\n            sx={{\n              width: \"100%\",\n              bgcolor: \"background.paper\",\n              position: \"sticky\",\n              top: 64,\n              left: 0,\n              zIndex: 99,\n            }}\n          >\n            <Tabs\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              value={value}\n              onChange={handleChange1}\n            >\n              <Tab href=\"#profile\" label=\"Profile\" />\n              <Tab href=\"#channel\" label=\"Channels\" />\n              <Tab href=\"#history\" label=\"History\" />\n              <Tab href=\"#purchases\" label=\"Purchases\" />\n            </Tabs>\n          </Box>\n        </Container>\n      </Paper>\n\n      <Box style={{ display: (value === 0 ? 'block' : 'none') }}>\n        <TabOne user={user} />\n      </Box>\n      <Box style={{ display: (value === 1 ? 'block' : 'none') }}>\n        <TabTwo showing={value === 1} />\n      </Box>\n      <Box style={{ display: (value === 2 ? 'block' : 'none') }}>\n        <TabThree showing={value === 2} />\n      </Box>\n\n      <Box style={{ display: (value === 3 ? 'block' : 'none') }}>\n        <TabFour showing={value === 3} />\n      </Box>\n      <Spacer space={30} />\n\n\n    </Box>\n  );\n};\n\nexport default Profile;\n","import * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport { Link } from 'react-router-dom';\nimport { useScrollTrigger } from '@mui/material';\n\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n  children: React.ReactElement;\n}\n\nfunction ElevationScroll(props: Props) {\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n    target: window ? window() : undefined,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n}\n\nexport default function ButtonAppBar(v: any) {\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <ElevationScroll {...v.props}>\n      < AppBar>\n        <Toolbar>\n        <Link to=\"/\" style={{display: 'block', textDecoration: 'none', color: 'white', flex: 1 }} >\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Ereder\n          </Typography>\n          </Link>\n          <Link to=\"/login\" style={{display: 'block', textDecoration: 'none', color: 'white'}} >\n          <Button color=\"inherit\">Login</Button>\n          </Link>\n        </Toolbar>\n      </AppBar>\n      </ElevationScroll>\n    </Box>\n  );\n}","import { Typography } from '@mui/material'\nimport React from 'react'\nimport ButtonAppBar from './ButtonAppBar'\n\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n  \n\n}\nconst LayoutOpen: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <div className=\"layout\">\n          <ButtonAppBar />\n            {children}\n\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </div>\n    )\n}\n\nexport default LayoutOpen;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nimport Button from \"@mui/material/Button\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Centered from \"../../components/Centered\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"../../store\";\nimport { Redirect } from \"react-router\";\nimport ApiSignleton from \"../../api/api\";\n\nconst BecomeACreator = () => {\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [loading, setLoading] = useState(false)\n  const [open, setOpen] = useState(false)\n  const [reason, setReason] = useState('')\n  const dispatch = useDispatch();\n  const Api = ApiSignleton();\n\n\n\n  const activateCreatorMode = () => {\n    setLoading(true)\n    Api.becomeCreator().then(({ isCreator }) => {\n      if (isCreator) {\n        dispatch({ type: 'become_creator' })\n      }\n      else {\n        setReason('Failed to make you a creator')\n        setOpen(true)\n      }\n    }).catch(err => {\n      setReason(\"Request Could not be completed at this time\"); setOpen(true)\n    })\n  }\n\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        Failed\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {reason}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n\n        <Button onClick={handleClose} autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n\n\n\n  return (\n    <Box style={{ marginTop: \"4em\", height: 'calc(100vh - 64px)' }}>\n\n      {user?.isCreator && (<Redirect to=\"/creator/dashboard\" />)}\n\n      <Container maxWidth=\"sm\" style={{ height: '100%' }} >\n        <Centered sx={{ height: '100%' }}>\n          <Paper style={{ padding: '2em', textAlign: 'center' }} elevation={3}>\n            <img style={{ width: '100%', maxWidth: 350 }} alt=\"Become a creator\" src=\"/images/share.png\" />\n\n            <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} variant=\"h4\">\n              Become a Creator\n            </Typography>\n\n            <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} >\n              Join over <Typography component=\"span\" color=\"#e770de\"> 1000</Typography> creators who create everyday on Ereder\n            </Typography>\n\n            <Typography fontSize={\".9em\"} color=\"GrayText\" align=\"center\" sx={{ mt: 2, mb: 2 }} >\n              By becoming a creator you are required to comply with our <a href=\"/content-policy\">content policy</a> and follow all the <a href=\"/community-guidelines\">Community Guidelines</a>\n            </Typography>\n\n            <Button onClick={activateCreatorMode} variant=\"contained\" style={{ minWidth: 103 }}>{loading ? <CircularProgress size={30} color=\"inherit\" /> : 'Continue'}</Button>\n          </Paper>\n        </Centered>\n{dialog}\n      </Container>\n\n    </Box>\n  );\n};\n\nexport default BecomeACreator;\n","import { Channel } from \"../models/User\";\nimport axios, { AxiosInstance } from \"axios\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport Video, { Like, VideoPurchase } from \"../models/Video\";\nimport { Subscription } from \"react-hook-form/dist/utils/subject\";\n\nexport interface IBankAccountDetails {\n  bankName: string;\n  bankAccountName: string;\n  bankAccountNumber: string;\n}\ntype analyticsValid = \"subscription\" | \"view\" | \"like\" | \"purchase\" | \"video\";\n\ntype Analytic =  Array<ViewHistory | Like | Video | Subscription | VideoPurchase>;\ninterface ICreatorApi {\n  _api: AxiosInstance;\n  getChannel(): Promise<Channel>;\n  editChannel(channel: any): Promise<Channel>;\n  getBankDetails(): Promise<IBankAccountDetails>;\n  updateBankDetails(data: IBankAccountDetails): Promise<IBankAccountDetails>;\n  analytics(model: analyticsValid, populate?: string, since?: Date): Promise<Analytic>;\n  uploadVideo(uploadId: string, data: any): Promise<Video>;\n  \n}\n\nclass CreatorApi implements ICreatorApi {\n  _api: AxiosInstance;\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"http://localhost:1337/api/creator\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n  async uploadVideo(uploadId: string, data: any): Promise<Video> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<Video>(`/video/${uploadId}`, data, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async analytics(model: analyticsValid,populate?: string, since?: Date): Promise<Analytic> {\n\n    let url = `/analytics/${model}`;\n    let str = []\n    if(populate) {\n      str.push('populate=' + populate)\n    }\n    if(since ) {\n       str.push('since=' +  since.getTime())\n    }\n\n    if(str.length > 0) {\n      let s = '?' +  (str.length > 1  ? str.join('&'): str[0]);\n      url+= s;\n\n    }\n\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<Analytic>(url, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  \n  async updateBankDetails(\n    data: IBankAccountDetails\n  ): Promise<IBankAccountDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<IBankAccountDetails>(\n      `/bank-details`,\n      data,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n\n  async editChannel(channel: any): Promise<Channel> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<Channel>(`/channel`, channel, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async getChannel(): Promise<Channel> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<Channel>(`/channel`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async getBankDetails(): Promise<IBankAccountDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<IBankAccountDetails>(`/bank-details`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n}\n\nexport default function CreatorApiSignleton(): ICreatorApi {\n  let instance: ICreatorApi | undefined;\n  if (!instance) instance = new CreatorApi();\n  return instance;\n}\n","import React, { useState, useEffect } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport AppLink from \"../../../components/AppLink\";\nimport { Channel } from \"../../../models/User\";\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\nimport Centered from '../../../components/Centered';\nimport CreatorApiSingleton, { IBankAccountDetails } from '../../../api/creatorApi';\n\n\nconst ChannelInfoText = `These Details would be displayed when someone navigates to your Channel page.\nPlease Note that the details here must comply with our Community Guidelines`\n\nconst ChannelAnalyticsText = `Analtytics on your Channel based on user interaction. \nYou can view a full summary of analytics by going to the Analytics section in the sidebar`;\n\nconst BankInfoText = `Information that we would use to pay your withdrawal requests`;\n\n\n\n\nconst BankDetailsTab: React.FC<{ showing: boolean }> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [bankDetails, setBankDetails] = useState<IBankAccountDetails | undefined>();\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log('load details');\n      if (bankDetails) return;\n      const Api = CreatorApiSingleton();\n      Api.getBankDetails()\n        .then(v => {\n          setBankDetails(v);\n          setLoading(false);\n\n        })\n        .catch(err=> {\n          console.log(err)\n          setLoading(false)\n        })\n\n      setShown(true)\n    }\n  }, [shown, showing, bankDetails])\n\n  if(!showing) {\n    return <React.Fragment/>;\n  }\n\n\n  if (loading && !bankDetails) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  else if (bankDetails) {\n    return (\n      <React.Fragment>\n        <Typography variant=\"caption\" color=\"GrayText\">\n          Bank Account Name\n        </Typography>\n        <Typography sx={{ mb: 1 }}>{bankDetails.bankAccountName}</Typography>\n\n\n\n        <Typography variant=\"caption\" color=\"GrayText\" >\n          Bank Account Number\n        </Typography>\n\n\n\n        <Typography fontSize={'.9em'} sx={{ mb: 1 }}>\n          {bankDetails.bankAccountNumber}\n        </Typography>\n\n        <Typography variant=\"caption\" color=\"GrayText\">\n          Bank Name\n        </Typography>\n        <Typography sx={{ mb: 1 }}>{bankDetails.bankName}</Typography>\n\n      </React.Fragment>\n    )\n  }\n  else\n    {\n      return (\n      <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n        <Centered sx={{ height: \"60vh\" }}>\n          <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n          <AppLink to=\"/\" doNotUseButton>\n            Go Back\n          </AppLink>\n        </Centered>\n      </Box>\n    );\n}\n}\n\n\n\n\n\nconst CreatorDashboard = () => {\n  const [channel, setChannel] = useState<Channel>();\n  const [loading, setLoading] = useState(true)\n  const [open, setOpen] = React.useState(false);\n  const [showing, setShowing] = useState(false)\n  const [dialogHeader, setDialogHeader] = useState(\"\")\n  const [dialogContent, setDialogContent] = useState(\"\")\n\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n  const toggleBankDetails = () => {\n    setShowing(!showing);\n  }\n\n  useEffect(() => {\n    const Api = CreatorApiSingleton();\n    if (channel) {\n      setLoading(false)\n      return;\n    }\n    Api.getChannel().then(ch => {\n      setChannel(ch);\n      setLoading(false);\n    }).catch((e) => {\n      if (e.response) {\n        setLoading(false)\n        console.log(e.response);\n        switch (e.response.status) {\n\n\n          case 404:\n            setErrorMessage(e.response.data.message);\n\n            break;\n\n          case 500:\n            setErrorMessage(\"Server Error\");\n\n            break;\n          default:\n            setErrorMessage(\"Unknown Error\")\n            break;\n        }\n        setLoading(false)\n        return\n\n      }\n      setErrorMessage(e.message);\n      setLoading(false)\n\n    })\n\n  }, [channel])\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        {dialogHeader}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {dialogContent}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n\n        <Button onClick={handleClose} autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  if (loading) {\n    return (\n      <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n      >\n        <LoadingPageIndicator />\n      </Container>\n    );\n  }\n\n  if (channel) return (\n    <Container\n\n\n      style={{ marginTop: \"64px\", minHeight: '80vh' }}\n      sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n    >\n      <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Channel Dashboard</Typography>\n\n\n      <Grid container spacing={2}>\n        <Grid item sm={12} md={6} style={{ flex: 1 }}>\n          <Paper sx={{ minWidth: '300px' }}>\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Channel Information</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Channel Info Help\")\n                  setDialogContent(ChannelInfoText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n              <Typography variant=\"caption\" color=\"GrayText\">\n                Channel Name\n              </Typography>\n              <Typography sx={{ mb: 1 }}>{channel.name}</Typography>\n\n\n\n              <Typography variant=\"caption\" color=\"GrayText\" >\n                Channel Description\n              </Typography>\n\n\n\n              <Typography fontSize={'.9em'} sx={{ mb: 1 }}>\n                {channel.short_description || \"No description provided\"}\n              </Typography>\n\n\n\n              <Typography variant=\"caption\" color=\"GrayText\" >\n                Channel About Section\n              </Typography>\n              <Typography paragraph fontSize={'.9em'} sx={{ mb: 1 }}>\n                {channel.about || \"No about provided\"}\n              </Typography>\n\n              <AppLink to=\"/creator/edit-channel\">\n                Edit Channel Info\n              </AppLink>\n\n            </Box>\n          </Paper>\n        </Grid>\n\n        <Grid item sm={12} md={6} style={{ flex: 1 }}>\n          <Paper sx={{ minWidth: '300px', }}>\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Channel Analytics</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Channel Analytics Help\")\n                  setDialogContent(ChannelAnalyticsText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n              <Typography variant=\"caption\" color=\"GrayText\">\n                Total Followers\n              </Typography>\n\n              <Typography variant=\"h5\" component=\"p\" sx={{ mb: 1 }} >{channel.follower_count}</Typography>\n              <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                Total Videos\n              </Typography>\n\n              <Typography paragraph sx={{ mb: 1 }}>\n                {channel.video_count || \"Unavailable\"}\n              </Typography>\n\n              <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                Total Views\n              </Typography>\n\n              <Typography paragraph sx={{ mb: 1 }}>\n                {channel.total_views || \"Unavailable\"}\n              </Typography>\n\n\n            </Box>\n          </Paper>\n        </Grid>\n        <Grid item sm={12} md={6}>\n\n          <Paper sx={{ minWidth: '300px' }}>\n\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Bank Information</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Bank Info Help\")\n                  setDialogContent(BankInfoText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n                <BankDetailsTab showing={showing} />\n           <div style={{display: \"flex\", maxWidth: 300}}>\n           <Button onClick={toggleBankDetails}> {showing? 'Hide Bank Details' : 'Show Bank Details'}</Button>\n           <div style={{flexGrow: 1}} />\n           <AppLink to=\"/creator/edit-bank-account\">Edit Details </AppLink>\n           </div>\n            </Box>\n\n          </Paper>\n        </Grid>\n      </Grid>\n      {dialog}\n    </Container>\n  );\n  return (<Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n    sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n  >\n    <Centered sx={{ height: '100%' }}>\n      <Typography>An error occured {errrorMessage}</Typography>\n    </Centered>\n  </Container>)\n};\n\nexport default CreatorDashboard;\n","import * as React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport IconButton from \"@mui/material/IconButton\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport AddIcon from \"@mui/icons-material/Add\";\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Switch from \"@mui/material/Switch\";\nimport { useDispatch  } from \"react-redux\";\n\nimport AppLink from \"./AppLink\";\nimport Home  from \"@mui/icons-material/Home\";\n\nconst drawerWidth = 200;\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n}\n\ninterface IDrawerMenuItem {\n  title: string;\n  url: string;\n  Icon: any;\n}\n\nconst DrawerItems: IDrawerMenuItem[] = [\n  { title: \"Dashboard\", url: \"/dashboard\", Icon: DashboardIcon },\n  { title: \"Create Video\", url: \"/add-video\", Icon: AddCircleIcon },\n  { title: \"Edit Channel\", url: \"/edit-channel\", Icon: EditIcon },\n  { title: \"Bank Account\", url: \"/edit-bank-account\", Icon: EditIcon },\n  { title: \"Analytics\", url: \"/analytics\", Icon: AnalyticsIcon },\n\n];\nexport default function CreatorHeader(props: Props) {\n  let location = useLocation();\n  const dispatch = useDispatch();\n  // const state = useSelector((state: AppState) => state.settings.darkMode);\n  const [dark, setDark] = React.useState(false);\n  const { window } = props;\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const [settingsAnchorEl, setSettingsAnchorEl] = React.useState(null);\n  const isSettingsMenuOpen = Boolean(settingsAnchorEl);\n\n  const handleSettingsMenuClose = () => {\n    setSettingsAnchorEl(null);\n  };\n\n  const handleSettingsMenuOpen = (event: any) => {\n    setSettingsAnchorEl(event.currentTarget);\n  };\n\n  const menuId2 = \"settings-menu\";\n  const settingsMenu = (\n    <Menu\n      anchorEl={settingsAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId2}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isSettingsMenuOpen}\n      onClose={handleSettingsMenuClose}\n    >\n      <MenuItem\n        onClick={() => {\n          dispatch({ type: \"change-theme\", value: !dark });\n          setDark(!dark);\n          //  handleSettingsMenuClose();\n        }}\n      >\n        <Switch checked={dark} size=\"small\" /> <span> Dark Mode </span>\n      </MenuItem>\n    </Menu>\n  );\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <Box padding=\"0 1em\"></Box>\n      <Divider />\n      <List>\n        {DrawerItems.map((Item, index) => {\n          const to = ('/creator' + Item.url) \n            const selected = to === location.pathname\n          return (\n            <AppLink to={to} doNotUseButton key={'ereder-drawer-item' + index}>\n          <ListItem selected={selected} button >\n            <ListItemIcon >\n              <Item.Icon/>\n            </ListItemIcon>\n            <ListItemText primary={Item.title} />\n          </ListItem>\n          </AppLink>\n        )\n        }\n        )}\n             <AppLink to={'/'} doNotUseButton >\n          <ListItem  button >\n            <ListItemIcon >\n              <Home />\n            </ListItemIcon>\n            <ListItemText primary={\"Home\"} />\n          </ListItem>\n          </AppLink>\n      </List>\n      {/* <Divider />\n      <List>\n        {[\"All mail\", \"Trash\", \"Spam\"].map((text, index) => (\n          <ListItem button key={text}>\n            <ListItemIcon>\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n            </ListItemIcon>\n            <ListItemText primary={text} />\n          </ListItem>\n        ))} \n      </List>\n      */}\n    </div>\n  );\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <AppBar\n        color=\"default\"\n        elevation={0}\n        position=\"fixed\"\n        style={{ top: 0 }}\n        sx={{\n          width: { md: `calc(100% - ${drawerWidth}px)` },\n          ml: { md: `${drawerWidth}px` },\n        }}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            sx={{ mr: 2, display: { md: \"none\" } }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Ereder Creator\n          </Typography>\n          <Box sx={{ flexGrow: 1 }} />\n          <AppLink to=\"/creator/add-video\" doNotUseButton>\n          <Tooltip title=\"Create Video\">\n            <IconButton\n             \n              size=\"large\"\n              edge=\"end\"\n              color=\"inherit\"\n            >\n              <AddIcon />\n            </IconButton>\n          </Tooltip>\n          </AppLink>\n          <Tooltip title=\"Settings\">\n            <IconButton\n              onClick={handleSettingsMenuOpen}\n              size=\"large\"\n              edge=\"end\"\n              color=\"inherit\"\n            >\n              <SettingsIcon />\n            </IconButton>\n          </Tooltip>\n        </Toolbar>\n        {settingsMenu}\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n        aria-label=\"mailbox folders\"\n      >\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n          sx={{\n            display: { sm: \"block\", md: \"none\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n        >\n          {drawer}\n        </Drawer>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { sm: \"none\", xs: \"none\", md: \"block\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          p: 3,\n          pt: 0,\n          width: { sm: `calc(100% - ${drawerWidth}px)` },\n        }}\n      ></Box>\n    </Box>\n  );\n}\n","import { Typography } from '@mui/material'\nimport React from 'react'\nimport CreatorHeader from './CreatorHeader'\n\n\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n \n}\nconst CreatorLayout: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <div className=\"layout\">\n          <CreatorHeader />\n            {children}\n\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </div>\n    )\n}\n\nexport default CreatorLayout\n","import React, { useState, useEffect } from 'react';\nimport { useTheme } from \"@mui/system\";\nimport { useForm } from \"react-hook-form\";\n\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport TextField from \"@mui/material/TextField\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Spacer from \"../../../components/Spacer\";\nimport Grid from \"@mui/material/Grid\";\nimport Badge from \"@mui/material/Badge\";\nimport Button from \"@mui/material/Button\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport { Channel } from '../../../models/User';\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\nimport Centered from '../../../components/Centered';\nimport CreatorApiSingleton from '../../../api/creatorApi';\n\n\n\nconst EditChannel = () => {\n\n    const [channel, setChannel] = useState<Channel>();\n    const [loading, setLoading] = useState(true);\n    const theme = useTheme();\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const {\n        register,\n        handleSubmit,\n       \n      } = useForm();\n    useEffect(() => {\n        const Api = CreatorApiSingleton();\n        if (channel) {\n            setLoading(false)\n            return;\n        }\n        Api.getChannel().then(ch => {\n            setChannel(ch);\n            setLoading(false);\n        }).catch((e) => {\n            if (e.response) {\n                setLoading(false)\n                console.log(e.response);\n                switch (e.response.status) {\n\n\n                    case 404:\n                        setErrorMessage(e.response.data.message);\n\n                        break;\n\n                    case 500:\n                        setErrorMessage(\"Server Error\");\n\n                        break;\n                    default:\n                        setErrorMessage(\"Unknown Error\")\n                        break;\n                }\n                setLoading(false);\n                return\n\n            }\n            setErrorMessage(e.message);\n            setLoading(false)\n\n        })\n\n    }, [channel])\n\n    const onSubmit = (data: any) => { \n        console.log(data);\n        setLoading(true);\n        const Api = CreatorApiSingleton();\n        Api.editChannel(data)\n        .then((ch) => {\n            setChannel(ch);\n            setLoading(false);\n            console.log(ch);\n        })\n        .catch(() => {\n            alert(\"an error occured\")\n            setLoading(false);\n        })\n    }\n\n    if (loading) {\n        return (\n            <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n                sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n            >\n                <LoadingPageIndicator />\n            </Container>\n        );\n    }\n    if (channel) return (\n        <Container\n\n\n            style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Edit Channel</Typography>\n\n            <Grid container spacing={2}>\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper style={{ padding: '1em 1.2em', minWidth: \"300px\" }} >\n                        <Typography style={{ marginBottom: '20px' }}>Edit Channel Logo</Typography>\n                        <Badge\n                            overlap=\"circular\"\n                            anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n                            badgeContent={\n                                <IconButton style={{ backgroundColor: theme.palette.primary.main }}>\n                                    <CloudUploadIcon htmlColor=\"white\" />\n                                </IconButton>\n                            }\n                        >\n                            <Avatar\n                                alt={channel.name}\n                                src={channel.logo}\n                                sx={{ width: 100, height: 100 }}\n                            />\n                        </Badge>\n                    </Paper>\n                </Grid>\n\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper style={{ padding: '1em 1.2em' }} >\n                        <form style={{ maxWidth: \"500px\" }}  onSubmit={handleSubmit(onSubmit)}>\n                            <Typography style={{ marginBottom: '20px' }}>Edit Channel Details</Typography>\n\n                            <FormControl fullWidth>\n                                <TextField\n                                    defaultValue={channel.name}\n                                    id=\"name\"\n                                    \n                                    label=\"Channel Name\"\n                                    variant=\"outlined\"\n                                    {...register('name')}\n\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <FormControl fullWidth>\n                                <TextField\n                                    defaultValue={channel.name || \"\"}\n                                    id=\"short_description\"\n                                    {...register('shortDescription')}\n                                    \n                                    label=\"Channel Name\"\n                                    variant=\"outlined\"\n                                    multiline\n                                    rows={3}\n\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <FormControl fullWidth>\n                                <TextField\n                                    id=\"about\"\n                                    label=\"Channel About\"\n                                    defaultValue={channel.about || \"No About\"}\n                                    multiline\n                                    {...register('about')}\n                                    rows={6}\n\n                                    variant=\"standard\"\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <Button type=\"submit\" variant=\"contained\">\n                                Submit\n                            </Button>\n                        </form>\n                    </Paper>\n                </Grid>\n\n\n            </Grid>\n            <Spacer space={20} />\n        </Container>\n    );\n    return (<Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n    >\n        <Centered sx={{ height: '100%' }}>\n            <Typography>An error occured {errrorMessage}</Typography>\n        </Centered>\n    </Container>)\n};\n\nexport default EditChannel;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"@mui/material/Button\";\nimport FormControl from \"@mui/material/FormControl\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppState } from \"../../store\";\nimport Centered from \"../../components/Centered\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport AppLink from \"../../components/AppLink\";\nimport Spacer from \"../../components/Spacer\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport UserApiSignleton, { IBillingDetails } from \"../../api/userApi\";\nimport User from \"../../models/User\";\n\n\nconst schema = yup\n    .object({\n        billingCardNumber: yup.string().max(16).min(10).required(),\n        cvv: yup.string().length(3).required(),\n\n    })\n    .required();\n\n\nconst AddCard: React.FC = () => {\n    const user = useSelector((state: AppState) => state.auth.user);\n    const dispatch = useDispatch()\n    const [expiry, setExpiry] = useState('');\n    const [loading, setLoading] = useState(false)\n    const [cardNumberIsValid, setCardNumberIsValid] = useState(true);\n\n\n    const { register, handleSubmit,\n        formState: { errors }, } = useForm({ resolver: yupResolver(schema) });\n\n    const handleChange: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (event) => {\n        if (!cardNumberIsValid) setCardNumberIsValid(true)\n\n        let str = event.target.value;\n        if (/[a-zA-Z]/.test(str)) return;\n        let len = str.length;\n        if (len < expiry.length) {\n            setExpiry(str);\n            return;\n        }\n        if (len >= 6) return;\n        switch (len) {\n            case 2:\n                setExpiry(str + '/')\n                break;\n\n            default:\n                setExpiry(str)\n                break;\n        }\n    }\n\n    const onSubmit = (data: any) => {\n        console.log(data)\n        if (expiry.length < 5) {\n            setCardNumberIsValid(false)\n        }\n        else {\n\n            let n: number[] = expiry.split('/').map(v => parseInt(v));\n            console.log(n)\n            let isInvalid = n.some(v => isNaN(v))\n\n            if (!isInvalid) {\n                isInvalid = n[0] > 12 || n[0] < 1\n\n            }\n            if (!isInvalid) {\n                const d = new Date();\n                let nb = parseInt(d.getFullYear().toString().slice(2));\n\n                isInvalid = n[1] < nb;\n            }\n            if (isInvalid) {\n                setCardNumberIsValid(false);\n                return\n            }\n            setLoading(true);\n            const userApi = UserApiSignleton();\n            data = { ...data, billingCardBrand: \"visa\", billingCardExpMonth: n[0].toString(), billingCardExpYear: n[1].toString() };\n            userApi.addCard(data as IBillingDetails)\n                .then((v) => {\n                    console.log(v)\n                    if (user) {\n                        let u: User = { ...user, billing_card_last4: v.billingCardLast4, billing_card_brand: v.billingCardBrand }\n                        dispatch({ type: \"login\", user: u });\n                    }\n                    setLoading(false);\n                }).catch(err => {\n                    console.log(err);\n                    setLoading(false);\n\n\n                })\n            console.log(data);\n\n        }\n    }\n\n    if (loading) return <LoadingPageIndicator />\n\n    if (user)\n        return (\n            <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Container maxWidth=\"md\">\n                    <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                        <Typography\n                            sx={{ mt: 2, mb: 2, color: \"text.primary\" }}\n                            fontWeight=\"bold\"\n                        >\n                            Billing Details\n                        </Typography>\n                        <FormControl fullWidth>\n                            <TextField\n                                placeholder={user.has_billing_card ? '************' + user.billing_card_last4 : \"'************XXXX\"}\n                                id=\"cardNumber\"\n                                label=\"Card Number\"\n                                helperText={errors.billingCardNumber?.message}\n\n                                error={!!errors.billingCardNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"billingCardNumber\")}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <FormControl fullWidth>\n                            <TextField\n\n                                error={!cardNumberIsValid}\n                                helperText={!cardNumberIsValid ? \"Invalid card number\" : \"The expiry MM/YY on your card\"}\n\n                                value={expiry}\n                                id=\"cardExpiry\"\n                                label=\"Card Expiry\"\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                name=\"CardExpiry\"\n                                onChange={handleChange}\n\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n\n                                id=\"cvv\"\n                                label=\"CVV\"\n                                helperText={errors.cvv?.message}\n\n                                error={!!errors.billingCardNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"cvv\")}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <Button type=\"submit\" variant=\"contained\">\n                            Update Details\n                        </Button>\n                    </form>\n                </Container>\n            </Box>\n        );\n    else\n        return (\n            <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Centered sx={{ height: \"60vh\" }}>\n                    <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n                    <AppLink to=\"/\" doNotUseButton>\n                        Go Back\n                    </AppLink>\n                </Centered>\n            </Box>\n        );\n};\n\nexport default AddCard;\n","import React, { useState, useEffect } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"@mui/material/Button\";\nimport FormControl from \"@mui/material/FormControl\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Centered from \"../../../components/Centered\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport CreatorApiSingleton, { IBankAccountDetails } from '../../../api/creatorApi';\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport AppLink from \"../../../components/AppLink\";\nimport Spacer from \"../../../components/Spacer\";\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\n\n\nconst schema = yup\n    .object({\n        bankAccountName: yup.string().required(),\n        bankName: yup.string().required(),\n        bankAccountNumber: yup.string().length(10).required(),\n        password: yup.string().min(4).required(),\n    })\n    .required();\n\n\nconst BankDetails: React.FC = () => {\n\n\n    const [loading, setLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n\n    const [errorMessage, setErrorMessage] = useState('')\n\n    const { register, handleSubmit,\n        formState: { errors }, } = useForm({ resolver: yupResolver(schema) });\n    const [bankDetails, setBankDetails] = useState<IBankAccountDetails | undefined>();\n\n\n    useEffect(() => {\n        const Api = CreatorApiSingleton();\n        setLoading(true)\n        Api.getBankDetails()\n            .then(v => {\n                setBankDetails(v);\n                setLoading(false);\n\n            })\n            .catch(err => {\n                console.log(err)\n\n                setLoading(false)\n            })\n\n    }, [])\n\n\n    const onSubmit = (data: IBankAccountDetails) => {\n        console.log(data)\n        setLoading(true)\n        setHasError(false);\n\n        const Api = CreatorApiSingleton();\n\n        Api.updateBankDetails(data)\n            .then(v => {\n                setBankDetails(v);\n                setErrorMessage(\"Updated\")\n                setHasError(true);\n                setLoading(false);\n             \n            })\n            .catch(err => {\n                console.log(err)\n                if (err.response) {\n                    console.log(err.response)\n                    switch (err.response.status as number) {\n                        case 400:\n                            \n                            setHasError(true);\n                            setErrorMessage(err.response.data.problems);\n                            break;\n                    }\n                    setLoading(false);\n                    return\n                }\n                setHasError(true);\n                setErrorMessage(err.message);\n                // setBankDetails(undefined);\n                setLoading(false)\n            })\n    }\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setHasError(false);\n      }\n      const action = (\n          <IconButton\n            size=\"small\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            onClick={handleClose}\n          >\n      \n            <CloseIcon fontSize=\"small\" />\n        </IconButton>\n      );\n    if (loading && !bankDetails) return <LoadingPageIndicator />\n\n    if (bankDetails)\n        return (\n            <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Container maxWidth=\"md\"     sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}>\n                {loading && <LinearProgress />}\n                    <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                        <Typography\n                            sx={{ mt: 2, mb: 2, color: \"text.primary\" }}\n                            fontWeight=\"bold\"\n                        >\n                            Billing Details\n                        </Typography>\n                        <FormControl fullWidth>\n                            <TextField\n                                defaultValue={bankDetails.bankAccountName}\n                                id=\"bankAccountNamer\"\n                                label=\"Bank Account Name\"\n                                helperText={errors.bankAccountName?.message}\n\n                                error={!!errors.bankAccountName}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                {...register(\"bankAccountName\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n                                placeholder={bankDetails.bankAccountNumber}\n                                id=\"bankAccountNamer\"\n                                label=\"Bank Account Number\"\n                                helperText={errors.bankAccountNumber?.message}\n\n                                error={!!errors.bankAccountNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"bankAccountNumber\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n                                defaultValue={bankDetails.bankName}\n                                id=\"bankNamer\"\n                                label=\"Bank Name\"\n                                helperText={errors.bankName?.message}\n\n                                error={!!errors.bankName}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                {...register(\"bankName\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n                        <FormControl fullWidth>\n                            <TextField\n                                id=\"password\"\n                                error={!!errors.password}\n                                helperText={errors.password?.message}\n                                {...register(\"password\")}\n                                label=\"Password\"\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"password\",\n                                }}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <Button disabled={loading} type=\"submit\" variant=\"contained\">\n                            Update Details\n                        </Button>\n                    </form>\n                </Container>\n                <Snackbar\n                    open={hasError}\n                    autoHideDuration={6000}\n                    onClose={handleClose}\n                    message={errorMessage}\n                    action={action}\n                />\n            </Box>\n        );\n    else\n        return (\n            <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Centered sx={{ height: \"60vh\" }}>\n                    <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n                    <AppLink to=\"/\" doNotUseButton>\n                        Go Back\n                    </AppLink>\n                </Centered>\n            </Box>\n        );\n};\n\nexport default BankDetails;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\n\nimport Box from \"@mui/material/Box\";\nimport { Link } from \"react-router-dom\";\nimport Chip from '@mui/material/Chip';\nimport { Helmet } from \"react-helmet\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Paper from \"@mui/material/Paper\";\nimport AppLink from \"../../../components/AppLink\";\nimport Container from \"@mui/material/Container\";\nimport { AppState } from \"../../../store\";\nimport ViewHistory from \"../../../models/ViewHistory\";\nimport Table from '@mui/material/Table';\nimport dayjs from \"dayjs\"\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\n\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CreatorApiSingleton from '../../../api/creatorApi';\nimport Centered from \"../../../components/Centered\";\nimport { shortenText, toHHMMSS } from \"../../../utils/functions\";\nimport ApiLoader from \"../../../components/ApiLoader\";\nimport Video, { VideoPurchase } from \"../../../models/Video\";\nimport { Channel } from \"../../../models/User\";\n\ntype KosyTabProps = {\n    showing: boolean;\n}\n\n\nconst VideosTab: React.FC<KosyTabProps> = ({ showing }) => {\n\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [videos, setVideos] = useState<Video[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            console.log(showing)\n            if (!shown && showing) {\n                console.log(\"here\")\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"video\");\n\n\n                    setVideos(_views as Video[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (videos.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, videos])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        if (loading && videos.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (videos.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>No Views Found</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Container maxWidth=\"md\" style={{ padding: '1em' }} >\n                <Paper style={{ padding: '1em 0' }} >\n                    <Typography variant=\"h5\" sx={{ mb: 1 }}> Total: {videos.length}</Typography>\n                    {videos.map((video, index) => {\n                        let variant: \"outlined\" | \"filled\" = video.videoType === 'restricted' ? 'filled' : 'outlined';\n\n                        return <Box key={'video-' + index} sx={{ mb: 1 }} display=\"flex\" alignItems=\"center\">\n                            <div style={{ width: \"40%\", maxWidth: '230px' }}>\n                                <Link to={\"/creator/edit-view/\" + video.id} >\n                                    <img style={{ display: 'block', width: '100%' }} src={video.thumbnail} alt={video.title} />\n                                </Link>\n                            </div>\n                            <Box flex={1} padding=\"1em\">\n                                <Typography fontWeight=\"bold\" sx={{ color: 'text.primary' }}>\n                                    {video.title}\n                                </Typography>\n                                <Typography sx={{ color: 'text.primary' }} fontSize={\".85rem\"} >\n                                    {shortenText(video.description || \"No description\", 100)}\n                                </Typography>\n\n                                <div style={{ marginTop: '0.5em' }}>\n                                    <Chip variant={variant} label={video.videoType} size=\"small\" />\n                                </div>\n\n\n                                <AppLink to={\"/creator/edit-video?video=\" + video.id} sx={{ mt: 1 }} >\n                                    Edit </AppLink>\n\n\n                            </Box>\n                        </Box>\n                    })}\n\n                </Paper>\n            </Container>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n}\n\n\nconst PurchasesTab: React.FC<KosyTabProps> = ({ showing }) => {\n\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [purchases, setPurchases] = useState<VideoPurchase[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            if (!shown && showing) {\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"purchase\", \"videoPurchased\");\n\n\n                    setPurchases(_views as VideoPurchase[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (purchases.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, purchases])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        if (loading && purchases.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (purchases.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>Nothing Found Here</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Box>\n                <Typography variant=\"h5\"> Total: {purchases.length}</Typography>\n                <TableContainer component={Paper} style={{ minHeight: '60vh' }}>\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Video</TableCell>\n                                <TableCell align=\"right\">Amount Paid</TableCell>\n                                <TableCell align=\"right\">Date</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {purchases.map(({ videoPurchased: video, amountPaid, createdAt }, i) => (\n                                <TableRow\n                                    key={'purchase-' + i}\n                                    sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        <AppLink doNotUseButton to={\"/creator/watch/\" + video.id}><Typography color=\"primary.main\" fontWeight=\"bold\"> {video.title}</Typography> </AppLink>\n                                    </TableCell>\n                                    <TableCell align=\"right\"><Typography>NGN{amountPaid}</Typography> </TableCell>\n                                    <TableCell align=\"right\"><Typography>{dayjs(createdAt).format('DD/MM/YYYY')}</Typography></TableCell>\n                                    {/*\n                    <TableCell align=\"right\">{row.protein}</TableCell> */}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n\n}\n\n\nconst ViewsTab: React.FC<KosyTabProps> = ({ showing }) => {\n\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [views, setViews] = useState<ViewHistory[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            if (!shown && showing) {\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"view\", \"video\");\n\n\n                    setViews(_views as ViewHistory[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (views.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, views])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        if (loading && views.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (views.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>No Views Found</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Box>\n                <Typography variant=\"h5\"> Total: {views.length}</Typography>\n                <TableContainer component={Paper} style={{ minHeight: '60vh' }}>\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Video</TableCell>\n                                <TableCell align=\"right\">Duration</TableCell>\n                                <TableCell align=\"right\">isPayedView</TableCell>\n                                <TableCell align=\"right\">Date</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {views.map(({ video, duration, isPayedView, createdAt }, i) => (\n                                <TableRow\n                                    key={'view-history' + i}\n                                    sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        <AppLink doNotUseButton to={\"/creator/watch/\" + video.id}><Typography color=\"primary.main\" fontWeight=\"bold\"> {video.title}</Typography> </AppLink>\n                                    </TableCell>\n                                    <TableCell align=\"right\"><Typography>{toHHMMSS(duration / 1000)}</Typography> </TableCell>\n                                    <TableCell align=\"right\"><Typography>{isPayedView.toString()}</Typography></TableCell>\n                                    <TableCell align=\"right\"><Typography>{dayjs(createdAt).format('DD/MM/YYYY')}</Typography></TableCell>\n                                    {/*\n                    <TableCell align=\"right\">{row.protein}</TableCell> */}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n\n}\n\n\nconst OverviewTab: React.FC<{channel: Channel}> = ({channel}) => {\n    return   ( <Grid container spacing={2}>\n\n\n    <Grid item sm={12} md={6} style={{ flex: 1 }}>\n      <Paper sx={{ minWidth: '300px', }}>\n        <Box padding=\"1em\">\n   \n          <Typography variant=\"caption\" color=\"GrayText\">\n            Total Followers\n          </Typography>\n\n          <Typography variant=\"h5\" component=\"p\" sx={{ mb: 1 }} >{channel.follower_count}</Typography>\n          <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n            Total Videos\n          </Typography>\n\n          <Typography paragraph sx={{ mb: 1 }}>\n            {channel.video_count || \"Unavailable\"}\n          </Typography>\n\n          <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n            Total Views\n          </Typography>\n\n          <Typography paragraph sx={{ mb: 1 }}>\n            {channel.total_views || \"Unavailable\"}\n          </Typography>\n\n\n        </Box>\n      </Paper>\n    </Grid>\n            \n  </Grid>)\n}\n\n\nconst Analytics: React.FC = () => {\n    const [channel, setChannel] = useState<Channel | undefined>();\n    const [loading, setLoading] = useState(true)\n\n\n\n    const user = useSelector((state: AppState) => state.auth.user);\n    const TabNames = [\"Overview\", \"Views\", \"Videos\", \"Purchases\"]\n\n    const [value, setValue] = useState(0);\n\n    const handleChange1 = (event: React.SyntheticEvent, newValue: number) => {\n        setValue(newValue);\n    };\n\n    useEffect(() => {\n        let pathName = window.location.hash.slice(1)\n        if (pathName) {\n            const dictionary: any = {};\n            const TabNames2 = [\"Overview\", \"Views\", \"Videos\", \"Purchases\"]\n            TabNames2.forEach((name, index) => {\n                dictionary[name.toLocaleLowerCase()] = index;\n            })\n\n            let index = dictionary[pathName];\n            if (index) {\n                setValue(index)\n            }\n\n        }\n\n    }, []);\n\n    const retry = async function () {\n        const Api = CreatorApiSingleton();\n        let c =  await Api.getChannel();\n        // setChannel(c);\n        // setLoading(false)\n\n        return c;\n    }\n\n    const getBody = () => {\n          if (loading) {\n            return (\n              <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n                sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n              >\n                <LoadingPageIndicator />\n              </Container>\n            );\n          }\n        if (channel) {\n            return (<>   <Helmet>\n\n                <title>{channel.name || \"None\"} </title>\n\n            </Helmet>\n                <Paper style={{ padding: \"1em 0 0\", border: 'none', boxShadow: 'none' }} elevation={0}>\n                    <Container maxWidth=\"md\">\n                        <Typography variant=\"h5\">{user?.fullName || \"None\"} / {channel.name}</Typography>\n                    </Container>\n                </Paper>\n\n                <Paper style={{ position: \"sticky\", top: 64, left: 0, zIndex: 99, borderTop: 'none' }} square>\n                    <Container maxWidth=\"md\">\n                        <Box\n                            sx={{\n                                width: \"100%\",\n                                bgcolor: \"background.paper\",\n                                position: \"sticky\",\n                                top: 64,\n                                left: 0,\n                                zIndex: 99,\n                            }}\n                        >\n                            <Tabs\n                                variant=\"scrollable\"\n                                scrollButtons=\"auto\"\n                                value={value}\n                                onChange={handleChange1}\n                            >\n                                {TabNames.map((v, k) => (<Tab key={'ereder-tab' + k} href={'#' + v.toLocaleLowerCase()} label={v} />))}\n                            </Tabs>\n                        </Box>\n                    </Container>\n                </Paper>\n                <Box padding=\"1em\" style={{ display: (value === 0 ? 'block' : 'none') }}>\n                    <OverviewTab channel={channel} />\n\n                </Box>\n                <Box padding=\"1em\" style={{ display: (value === 1 ? 'block' : 'none') }}>\n                    <ViewsTab showing={value === 1} />\n                </Box>\n\n\n                <Box padding=\"1em\" style={{ display: (value === 2 ? 'block' : 'none') }}>\n                    <VideosTab showing={value === 2} />\n                </Box>\n                <Box padding=\"1em\" style={{ display: (value === 3 ? 'block' : 'none') }}>\n                    <PurchasesTab showing={value === 3} />\n                </Box>\n            </>);\n        }\n\n    return (<Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n      >\n        <Centered sx={{ height: '100%' }}>\n          <Typography>An error occured </Typography>\n        </Centered>\n      </Container>)\n    }\n\n    return (\n        <Box style={{ marginTop: \"4em\", position: \"relative\", height: '100vh' }} sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}>\n\n            {getBody()}\n            <ApiLoader setLoading={setLoading} request={retry} onLoad={(v) => {\n                console.log(v);\n                setChannel(v as Channel)\n                setLoading(false)\n            }} />\n        </Box>\n\n\n\n    )\n}\n\nexport default Analytics\n","import { useState } from 'react';\nimport { useTheme } from \"@mui/system\";\nimport { useForm } from \"react-hook-form\";\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Box from \"@mui/material/Box\";\n\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from \"@mui/material/IconButton\";\nimport CreatorApiSingleton from '../../../api/creatorApi';\n\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\nimport Spacer from \"../../../components/Spacer\";\nimport Grid from \"@mui/material/Grid\";\nimport Button from \"@mui/material/Button\";\nimport { toHHMMSS } from '../../../utils/functions';\n\n\n\nconst AddVideo = () => {\n    const VideoTypes: { value: string, title: string }[] = [{\n        title: \"Public Video\",\n        value: \"public\"\n    }, {\n        title: \"Restricted Video\",\n        value: 'restricted'\n    }]\n    const [videoType, setVideoType] = useState('public');\n\n    const [loading, setLoading] = useState(true);\n    const [loadedCurrent, setLoadedCurrent] = useState(0)\n    const [file, setFile] = useState<any>();\n    const [videoId, setVideoId] = useState('')\n\n    const theme = useTheme();\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [duration, setDuration] = useState(0)\n    const {\n        register,\n        handleSubmit,\n\n    } = useForm();\n\n    const handleChange = (event: SelectChangeEvent<string>) => {\n        setVideoType(event.target.value);\n    };\n    const onSubmit = (data: any) => {\n        console.log(data);\n        const Api = CreatorApiSingleton();\n        data.duration = duration;\n        Api.uploadVideo(videoId, data).then(v=> {\n            console.log(v)\n            setVideoId(v.id);\n        }).catch(console.log)\n\n    }\n    const onFileChange = (e: any) => {\n        let f = e.target.files[0];\n        setFile(f);\n        console.log(f);\n        var videoNode = document.getElementById(\"video-temp\") as HTMLVideoElement;\n        if(!(f && videoNode)) return;\n        let type = f.type;\n        let cp = videoNode.canPlayType(type);\n        if(cp) {\n            var fileURL = URL.createObjectURL(f);\n            videoNode.src = fileURL;\n\n        }\n        else {\n            alert(\"cannot play video\")\n        }\n        \n\n    }\n\n    const handleUpload = function (url: string, name:string,image = false) {\n        if (!file) return;\n    if(!image){    console.log(\"Uploding\")\n        var videoNode = document.getElementById(\"video-temp\") as HTMLVideoElement;\n      let nb =  Math.floor(videoNode.duration);\n      setDuration(nb * 1000)\n    }\n       \n        let xhr = new window.XMLHttpRequest();\n\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('authorization', `Bearer ${window.localStorage.getItem('jwt') || 'None'}`)\n        xhr.upload.addEventListener(\"progress\", ({ loaded, total }) => {\n            let loaded2 = Math.ceil((loaded/total )* 100)\n            setLoadedCurrent(loaded2);\n            \n        })\n        let data = new FormData();\n        data.append(name, file);\n        xhr.send(data);\n\n        xhr.addEventListener(\"readystatechange\",( e: any) => {\n            if (e && e.target) {\n                if (e.target.readyState === 4 && !image) {\n                    let {up } = JSON.parse(xhr.response);\n                    console.log(up)\n                    setVideoId(up.id)\n                    setFile(undefined)\n                }\n            }\n        })\n\n\n    }\n    if (!videoId) {\n        return (<Container\n\n\n            style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Upload Video </Typography>\n            <Box padding=\"1em\">\n                <Paper style={{display: \"flex\", alignItems: 'center'}}>\n                    <OutlinedInput\n                        id=\"file-input\"\n                        type={\"file\"}\n\n\n                        inputProps={{\n                            accept: \"video/mp4, video/ogg\"\n                        }}\n                        onChange={onFileChange}\n                        startAdornment={\n                            <InputAdornment position=\"start\">\n                                <IconButton\n\n                                    onClick={() => handleUpload(\"http://localhost:1337/api/creator/upload\", 'video')}\n                                >\n                                    <CloudUploadIcon />\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                        endAdornment={\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    onClick={() => {\n                                        let l: any = document.getElementById('file-input');\n                                        setFile(null)\n                                        if (l) l.value = \"\"\n                                    }}\n                                >\n                                    <CloseIcon />\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                    />\n\n                    <video id=\"video-temp\" style={{display: 'none'}} />\n\n                    <Typography id=\"loaded\" variant=\"h5\" color=\"success.main\" style={{flex: 1, textAlign: 'center'}}>Uploading {loadedCurrent}%</Typography>\n                </Paper>\n            </Box>\n        </Container>)\n    }\n    return (\n        <Container\n\n\n            style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Add Video </Typography>\n\n            <Grid container spacing={2}>\n\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper style={{ padding: '1em 1.2em' }} >\n                        <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                            <Typography style={{ marginBottom: '20px' }}>Video Details</Typography>\n\n                            <FormControl fullWidth>\n                                <TextField\n\n                                    id=\"title\"\n\n                                    label=\"Video Title\"\n                                    variant=\"outlined\"\n                                    {...register('title')}\n\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <FormControl fullWidth>\n                                <TextField\n\n                                    id=\"description\"\n                                    {...register('description')}\n\n                                    label=\"Video Description\"\n                                    variant=\"outlined\"\n                                    multiline\n                                    rows={4}\n\n                                />\n                            </FormControl>\n\n\n                            <Spacer space={20} />\n                            <InputLabel id=\"demo-simple-select-label\">Video Type</InputLabel>\n\n                            <FormControl fullWidth >  <Select\n                                {...register('videoType')}\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={videoType}\n                                label=\"Video Type\"\n                                onChange={handleChange}\n                            >\n                                {VideoTypes.map(({ value, title }, index) => (<MenuItem key={'video-type' + index} value={value}>{title}</MenuItem>))}\n                            </Select>\n                            </FormControl>\n                            <Spacer space={20} />\n\n\n                            <FormControl fullWidth>\n                                <TextField\n\n                                    id=\"price\"\n                                    label=\"Video Price\"\n                                    disabled={videoType === 'public'}\n\n                                    variant=\"outlined\"\n                                    InputProps={{\n                                        type: \"number\",\n                                    }}\n                                    {...register(\"price\")}\n                                />\n                            </FormControl>\n                            <Spacer space={20} />        <Button type=\"submit\" variant=\"contained\">\n                                Submit\n                            </Button>\n                        </form>\n                    </Paper>\n                </Grid>\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n\n                    <Paper style={{ padding: '1em 1.2em', minWidth: \"300px\" }} >\n                        <Typography style={{ marginBottom: '20px' }}>Video Files</Typography>\n                        {!videoId && (<Typography component=\"small\" fontSize={14} color=\"GrayText\"> You must submit video details first</Typography>)}\n\n                        <Spacer space={20} />\n\n                        <InputLabel id=\"video-thumbnail\">Video Thumbnail</InputLabel>\n                        <Box display=\"flex\">\n                            <OutlinedInput\n                                id=\"file-input\"\n                                type={\"file\"}\n                                disabled={!videoId}\n\n                                inputProps={{\n                                    accept: \"image/png, image/jpeg\"\n                                }}\n                                onChange={onFileChange}\n                                startAdornment={\n                                    <InputAdornment position=\"start\">\n                                        <IconButton\n                                            disabled={!videoId}\n                                            onClick={() => {\nhandleUpload(\"http://localhost:1337/api/creator/thumbnail/\"+ videoId, 'thumb', true)\n                                            }}\n                                        >\n                                            <CloudUploadIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                                endAdornment={\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            onClick={() => {\n                                                let l: any = document.getElementById('file-input');\n                                                setFile(null)\n                                                if (l) l.value = \"\"\n                                            }}\n                                        >\n                                            <CloseIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                            />\n                        </Box>\n                    </Paper>\n                </Grid>\n\n\n            </Grid>\n            <Spacer space={20} />\n        </Container>\n    );\n\n};\n\nexport default AddVideo;\n","import React from 'react'\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useRouteMatch,\n  useLocation,\n  Redirect,\n} from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\nimport { AppState } from \"./store\";\nimport LandingPage from \"./pages/LandingPage\";\nimport Layout from \"./components/Layout\";\nimport Explore from \"./pages/Explore\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/Signup\";\nimport Dashboard from \"./pages/authenticated/Dashboard\";\nimport View from \"./pages/authenticated/View\";\nimport Profile from \"./pages/authenticated/Profile\";\nimport LayoutOpen from \"./components/LayoutOpen\";\nimport BecomeACreator from \"./pages/authenticated/BecomeACreator\";\nimport CreatorDashboard from \"./pages/authenticated/creator/CreatorDashboard\";\nimport CreatorLayout from \"./components/CreatorLayout\";\nimport EditChannel from \"./pages/authenticated/creator/EditChannel\";\nimport ApiSignleton from \"./api/api\";\n\nimport LoadingPageIndicator from './components/LoadingPageIndicator';\nimport AddCard from './pages/authenticated/AddCard';\nimport BankDetails from './pages/authenticated/creator/BankDetails';\nimport ApiLoader from './components/ApiLoader';\nimport Analytics from './pages/authenticated/creator/Analytics';\nimport AddVideo from './pages/authenticated/creator/AddVideo';\n \nlet theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});\n\nlet theme2 = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});;\n\nfunction CreatorRoutes() {\n  let { path } = useRouteMatch();\n\n  return (\n    <CreatorLayout>\n      <Switch>\n        <Route exact path={`${path}/dashboard`}>\n          <CreatorDashboard />\n        </Route>\n        <Route exact path={`${path}/edit-channel`}>\n          <EditChannel />\n        </Route>\n        <Route exact path={`${path}/edit-bank-account`}>\n          <BankDetails />\n        </Route>\n        <Route exact path={`${path}/analytics`}>\n          <Analytics />\n        </Route>\n\n        <Route exact path={`${path}/add-video`}>\n          <AddVideo />\n        </Route>\n      </Switch>\n    </CreatorLayout>\n  );\n}\n\nfunction UserRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path={path}>\n          <Dashboard />\n        </Route>\n        <Route path={`${path}/my-dashboard`}>\n          <Profile />\n        </Route>\n\n        <Route exact path={`${path}/watch/:id`}>\n          <View />\n        </Route>\n        <Route exact path={`${path}/become-creator`}>\n          <BecomeACreator />\n        </Route>\n\n        <Route exact path={`${path}/update-billing`}>\n          <AddCard />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nfunction DefRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <LayoutOpen>\n      <Switch>\n        <Route exact path={path}>\n          <p>lion</p>\n        </Route>\n        <Route exact path={`${path}/watch/:id`}>\n          <View />\n        </Route>\n      </Switch>\n    </LayoutOpen>\n  );\n}\n\nfunction VideoApp() {\n  let user = useSelector((state: AppState) => state.auth.user);\n  let darkMode = useSelector((state: AppState) => state.settings.darkMode);\n  const [loading, setLoading] = React.useState(true)\n  const dispatch = useDispatch()\n  let location = useLocation();\n  const Api = ApiSignleton();\n  const getUser = async () => {\n    if (user) {\n      setLoading(false);\n      return;\n    }\n    // try {\n      let u = await Api.me();\n     if(u && u.email)dispatch({ type: \"login\", user: u });\n      setLoading(false)\n    // }\n    // catch (err) {\n    //   setLoading(false);\n    // }\n  }\n\n\n  // React.useEffect(() => {\n\n\n  //   getUser();\n\n\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [])\n\n  console.log('darkMode')\n  if (\n    user &&\n    (location.pathname === \"/login\" ||\n      location.pathname === \"/\" ||\n      location.pathname === \"/signup\" ||\n      location.pathname === \"/explore\")\n  ) {\n    console.log(location.pathname)\n    return <Redirect to=\"/main\" />;\n  }\n  else if(!user && !loading) {\n    if(location.pathname.startsWith('/main') || location.pathname.startsWith('/creator')) {\n      return <Redirect to={`/login`} />;\n    }\n  }\n\n\n  const mainBody = (  \n    <div><Switch>\n    <Route exact path=\"/\">\n      <LayoutOpen>\n        <LandingPage />\n      </LayoutOpen>\n    </Route>\n    <Route exact path={`/login`}>\n      <Login />\n    </Route>\n    <Route exact path={`/signup`}>\n      <SignUp />\n    </Route>\n    <Route exact path={`/explore`}>\n      <LayoutOpen>\n        <Explore />\n      </LayoutOpen>\n    </Route>\n    <Route path=\"/main\">\n      <UserRoutes />\n    </Route>\n    <Route path=\"/creator\">\n      <CreatorRoutes />\n    </Route>\n    <Route path=\"/open\">\n      <DefRoutes />\n    </Route>\n    <Route path=\"/creator\">\n      <p>lol</p>\n    </Route>\n  </Switch>\n \n  </div> )\n  \n  return (\n    <ThemeProvider theme={darkMode ? theme2 : theme}>\n      <Box\n        sx={{\n          bgcolor: \"background.default\",\n          minHeight: \"100vh\",\n          color: \"text.primary\",\n        }}\n      >\n     {loading ? <LoadingPageIndicator /> : mainBody}\n     <ApiLoader setLoading={setLoading} request={getUser} onLoad={() => console.log('loaded')} />\n      </Box>\n    </ThemeProvider>\n  );\n}\nfunction App() {\n  console.log(theme);\n  return (\n    <main className=\"App\">\n      <Provider store={store}>\n        <Router>\n          <VideoApp />\n        </Router>\n      </Provider>\n    </main>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}