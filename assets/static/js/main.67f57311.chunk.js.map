{"version":3,"sources":["components/Centered.tsx","components/Spacer.tsx","api/api.ts","pages/LandingPage.tsx","components/AppLink.tsx","components/Header.tsx","components/OpenTicket.tsx","components/Layout.tsx","components/Container.tsx","components/ControlledText.tsx","constants.ts","components/ApiLoader.tsx","components/VideoGrid.tsx","pages/Explore.tsx","store/reducers.ts","store/index.ts","store/middleware.ts","pages/Login.tsx","pages/Signup.tsx","components/LoadingPageIndicator.tsx","utils/functions.ts","api/userApi.ts","components/ErrorPageIndicator.tsx","pages/authenticated/Dashboard.tsx","components/VideoView.tsx","hooks/useHover.ts","hooks/useWindowSize.ts","components/CommentComponent.tsx","pages/authenticated/View.tsx","components/TabOne.tsx","components/TabTwo.tsx","components/TabThree.tsx","components/TabFour.tsx","pages/authenticated/Profile.tsx","components/ButtonAppBar.tsx","components/LayoutOpen.tsx","pages/authenticated/BecomeACreator.tsx","api/creatorApi.ts","pages/authenticated/creator/CreatorDashboard.tsx","components/CreatorHeader.tsx","components/CreatorLayout.tsx","pages/authenticated/creator/EditChannel.tsx","pages/authenticated/AddCard.tsx","pages/authenticated/creator/BankDetails.tsx","components/VideosTab.tsx","pages/authenticated/creator/Analytics.tsx","pages/authenticated/creator/AddVideo.tsx","pages/authenticated/creator/Wallet.tsx","pages/authenticated/Purchase.tsx","pages/authenticated/Restricted.tsx","pages/authenticated/AllChannels.tsx","pages/authenticated/ChannelPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Centered","sX","children","sx","Object","assign","display","alignItems","justifyContent","Box","Spacer","space","style","margin","setToken","user","console","warn","token","window","localStorage","setItem","ErederApi","_api","this","axios","create","baseURL","headers","id","a","config","getItem","get","authorization","response","data","title","body","post","options","ApiSignleton","instance","IntroCards","image","header","description","theme","createTheme","palette","primary","main","secondary","LandingPage","Api","React","useState","numberOfUsers","setNumOfUsers","idRef","useRef","useEffect","current","setInterval","clearInterval","backgroundColor","marginBottom","paddingTop","maxWidth","width","color","padding","Typography","variant","fontWeight","fontSize","Button","marginRight","onClick","me","then","log","catch","to","textDecoration","endIcon","Grid","container","map","card","n","item","md","sm","Card","elevation","borderRadius","minHeight","src","alt","align","fontStyle","AppLink","doNotUseButton","props","applyStyles","Search","styled","position","shape","alpha","common","white","spacing","marginLeft","breakpoints","up","SearchIconWrapper","height","pointerEvents","StyledInputBase","InputBase","paddingLeft","transition","transitions","Header","useSelector","state","auth","anchorEl","setAnchorEl","dispatch","useDispatch","dark","setDark","mobileMoreAnchorEl","setMobileMoreAnchorEl","settingsAnchorEl","setSettingsAnchorEl","isMenuOpen","Boolean","isSettingsMenuOpen","isMobileMenuOpen","open","setOpen","handleClose","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","handleSettingsMenuClose","handleSettingsMenuOpen","menuId","dialog","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","logout","type","location","pathname","autoFocus","settingsMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","value","Switch","checked","size","renderMenu","isCreator","mobileMenuId","renderMobileMenu","IconButton","aria-label","aria-controls","aria-haspopup","Avatar","fullName","profilePic","edge","flexGrow","AppBar","top","Toolbar","noWrap","component","xs","placeholder","inputProps","Tooltip","OpenTicket","loading","setLoading","setBody","setTitle","handleReport","addTicket","alert","LinearProgress","Paper","bgcolor","success","action","activatedOpacity","p","mb","TextField","label","fullWidth","onChange","e","target","rows","multiline","helperText","href","disabled","length","bottom","right","Fab","Layout","Container","ControlledText","text","oProps","slice","UserChannel","user_id","name","short_description","logo","follower_count","about","like_count","video_count","ApiLoader","request","onLoad","onFail","errrorMessage","setErrorMessage","errorPresent","setErrorPresent","loadRequest","message","status","handleOpen","problems","loadRequest2","Fragment","Snackbar","autoHideDuration","dayjs","extend","relativeTime","VideoGrid","videoPlaceholderCount","loggedIn","lg","prefix","channelId","videos","setVideos","items","Array","fill","done","setDone","retry","getChannelVideos","v","allVideos","index","channel","minWidth","m","CardHeader","avatar","subheader","createdAt","fromNow","videoType","CardMedia","thumbnail","CardContent","defaultComponent","viewCount","Chip","price","Skeleton","animation","textAlign","mt","l","Explore","marginTop","initalAuthState","initialSettingsState","darkMode","autoPlay","volume","configureStore","reducer","returnObj","removeItem","settings","middleware","store","next","group","info","result","getState","groupEnd","schema","yup","emailAddress","email","required","password","min","Login","redirect","useLocation","search","querystring","parse","rediirectTo","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","flexDirection","onSubmit","logIn","FormControl","error","InputProps","Countries","dob","SignUp","country","setCountry","setDob","signIn","max","Date","InputLabel","Select","labelId","LoadingPageIndicator","CircularProgress","shortenText","toHHMMSS","secs","sec_num","Math","floor","filter","i","join","sanitizedChannel","shortDescription","banner","followerCount","likeCount","videoCount","total_views","totalViews","UserApi","videoId","accessToken","duration","accessCode","url","like","video","videoLiked","UserApiSignleton","ErrorPageIndicator","errorMessage","Sidebar","creators","setCreators","hasError","setHasError","getFollowing","c","s","overflowY","creator","textTransform","Dashboard","maxHeight","overflow","flex","VideoView","videoRef","ref","timeoutRef","val","defaultState","delay","setState","onHover","onLeave","setTimeout","node","addEventListener","node2","removeEventListener","useHover","playing","setPlaying","playedSecondString","setPlayedSecondString","playedSeconds","setPlayedSeconds","progress","setProgress","setDuration","durationString","setDurationString","liked","setLiked","useDebounce","setValue","show","setShow","fullScreen","setFullScreen","reason","updateView","viewVideo","b","viewVideoRestricted","round","func","document","fullscreenElement","windowSize","setWindowSize","handleResize","outerWidth","innerHeight","useWindowSize","requestFullscreen","exitFullscreen","clearTimeout","onProgress","played","innerWidth","onDuration","left","Slider","valueLabelDisplay","num","isArray","seekTo","Divider","orientation","flexItem","reactToVideo","CommentComponent","loading2","setLoading2","comments","setComments","addComment","getComments","endAdornment","InputAdornment","paragraph","View","setVideo","useParams","getVideo","CardDetails","showDetails","setShowDetails","has_billing_card","billing_card_brand","billing_card_last4","TabOne","setUser","file","setFile","loadedCurrent","setLoadedCurrent","setMessage","handleClick","useTheme","userApi","OutlinedInput","f","files","accept","startAdornment","xhr","XMLHttpRequest","setRequestHeader","upload","loaded","total","loaded2","ceil","FormData","append","send","readyState","JSON","undefined","handleUpload","keys","key","updateDetails","err","defaultValue","birthdate","TabTwo","showing","shown","setShown","loadingResponse","setLoadingResponse","channels","setChannels","channelUnfollowed","setChannelUnfollowed","subs","subscribe","sub","channelToUnfollow","unSubscribe","ans","TabThree","viewHistory","setViewHistory","TabFour","purchases","setPurchases","videoPurchased","amountPaid","Profile","pathName","hash","dictionary","forEach","toLocaleLowerCase","Helmet","border","boxShadow","zIndex","borderTop","square","Tabs","scrollButtons","newValue","Tab","ElevationScroll","trigger","useScrollTrigger","disableHysteresis","threshold","ButtonAppBar","LayoutOpen","className","BecomeACreator","setReason","becomeCreator","CreatorApi","amount","model","records","uploadId","populate","since","str","push","getTime","CreatorApiSignleton","BankDetailsTab","bankDetails","setBankDetails","CreatorApiSingleton","getBankDetails","bankAccountName","bankAccountNumber","bankName","pt","CreatorDashboard","setChannel","setShowing","dialogHeader","setDialogHeader","dialogContent","setDialogContent","getChannel","ch","handleClickOpen","drawerWidth","DrawerItems","Icon","DashboardIcon","AddCircleIcon","EditIcon","AnalyticsIcon","AccountBalanceWalletIcon","CreatorHeader","mobileOpen","setMobileOpen","handleDrawerToggle","drawer","List","Item","selected","ListItem","button","ListItemIcon","ListItemText","ml","mr","flexShrink","Drawer","ModalProps","boxSizing","CreatorLayout","EditChannel","onFileChange","editChannel","billingCardNumber","cvv","AddCard","expiry","setExpiry","cardNumberIsValid","setCardNumberIsValid","split","parseInt","isInvalid","some","isNaN","d","nb","getFullYear","toString","billingCardBrand","billingCardExpMonth","billingCardExpYear","addCard","u","billingCardLast4","test","len","BankDetails","updateBankDetails","EnhancedTableToolbar","numSelected","pl","pr","onDeleteClick","EnhancedTableHead","onSelectAllClick","rowCount","headCells","TableHead","TableRow","TableCell","Checkbox","indeterminate","headCell","TablePaginationActions","count","page","rowsPerPage","onPageChange","direction","VideosTab","setPage","setRowsPerPage","setSelected","deleting","setDeleting","retries","setRetries","emptyRows","handleSelectAllClick","newSelecteds","onDelete","deleteItems","isSelected","handleChangePage","newPage","indexOf","handleChangeRowsPerPage","handleRetry","loadFunc","analytics","_views","TableContainer","Table","TableBody","row","isItemSelected","selectedIndex","newSelected","concat","scope","htmlColor","colSpan","TablePagination","rowsPerPageOptions","SelectProps","native","onRowsPerPageChange","ActionsComponent","ViewsTab","views","setViews","isPayedView","format","OverviewTab","Analytics","TabNames","handleChange1","k","CircularProgressWithLabel","AddVideo","base","setVideoType","setVideoId","hasSubmittedDetails","setHasSubmittedDetails","videoNode","getElementById","canPlayType","fileURL","URL","createObjectURL","scrollTop","documentElement","uploadVideo","wallet","income","PurchasesTab","RequestsTab","onRequestChange","requests","setRequests","setAmount","handleCloseDialog","sendRequest","createRequest","getRequests","toolbar","WalletPage","setWallet","getWallet","w","Purchase","setAccessCode","purchaseVideo","purchase","checkForAccess","getRestrictedVideo","ViewRestricted","getChannels","AllChannels","ChannelPage","ApiSingleton","UserApiSingleton","theme2","mode","CreatorRoutes","path","useRouteMatch","exact","Wallet","UserRoutes","DefRoutes","VideoApp","getUser","startsWith","mainBody","ThemeProvider","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.67f57311.chunk.js","sourcesContent":["import { Box, Theme } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport React from 'react';\n\n\ntype CenteredProps = {\n    children: any;\n    key?: string;\n    sx?: SxProps<Theme>;\n    \n};\n\nconst Centered: React.FC<CenteredProps> = ({children, sx = {}, ...props}) => {\n    var sX: SxProps<Theme> = {};\n    sX= Object.assign({\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }, sx);\n    return (\n\n        <Box sx={sX}>\n            {children}\n        </Box>\n    )\n}\n\nexport default Centered\n","import React from 'react'\n\ntype SpacerProps = {\n    space?: number;\n}\n\nconst Spacer: React.FC<SpacerProps> = ({space=10}) => {\n    return (\n        <div style={{margin: `${space}px 0`}} />\n    )\n}\n\nexport default Spacer\n","import User, { Channel } from \"../models/User\";\n\nimport axios, { AxiosInstance } from \"axios\";\nimport Video from \"../models/Video\";\nimport { Ticket } from \"../models/Admin\";\n\nexport type SignInOptions = {\n  emailAddress: string;\n  password: string;\n  fullName: string;\n};\n\nexport type LogInOptions = {\n  email: string;\n  password: string;\n};\n\ninterface IErederApi {\n  _api: AxiosInstance;\n  signIn(options: SignInOptions): Promise<User>;\n  logIn(options: LogInOptions): Promise<User>;\n  me(): Promise<User>;\n  becomeCreator(): Promise<{ isCreator: boolean }>;\n  allVideos():Promise<Video[]>;\n  logout():Promise<void>;\n  addTicket(title: string, body: string): Promise<Ticket>;\n  getVideo(id: string): Promise<Video>;\n  getChannels(): Promise<Channel[]>;\n  getChannel(id: string): Promise<Channel>;\n  getChannelVideos(id: string): Promise<Video[]>;\n  \n  //</Video>\n  //</void>\n}\n\nlet test = true;\n\nfunction setToken(user: User) {\n  if (test) {\n    console.warn(\"In test mode\");\n    if (user.token) window.localStorage.setItem(\"jwt\", user.token);\n  } else return;\n}\n\nclass ErederApi implements IErederApi {\n  _api: AxiosInstance;\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n\n  async getChannelVideos(id: string): Promise<Video[]>{\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    let response = await this._api.get<Video[]>('/all-channels-videos/' + id  ,   {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async getChannel(id: string): Promise<Channel> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    let response = await this._api.get<Channel>('/all-channels/' + id  ,   {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async getChannels(): Promise<Channel[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    let response = await this._api.get<Channel[]>('/all-channels' ,   {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async getVideo(id: string): Promise<Video> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n      let response = await this._api.get<Video>('/api/video/' +id ,   {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      });\n      return response.data;\n  }\n  async addTicket(title: string, body: string): Promise<Ticket> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n   const response =  await this._api.post<Ticket>(\n    \"/api/user/ticket\",{body, title},\n    {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    }\n  );\n  return response.data;\n\n  }\n async logout(): Promise<void> {\n  let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    await this._api.get(\n    \"/logout\",\n    {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    }\n  );\n\n  }\n  async allVideos(): Promise<Video[]> {\n    const response = await this._api.get<Video[]>(\"/videos\");\n\n    return response.data;\n  }\n  // async getChannel(): Promise<Channel> {\n  //   let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n  //   const response = await this._api.get<Channel>(\"/api/creator/channel\", {\n  //     headers: {\n  //       authorization: `Bearer ${config.token}`,\n  //     },\n  //   });\n  //   return response.data;\n  // }\n\n  async becomeCreator(): Promise<{ isCreator: boolean }> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<{ isCreator: boolean }>(\n      \"/api/creator/become\",\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async me(): Promise<User> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<User>(\"/api/me\", {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async signIn(options: SignInOptions): Promise<User> {\n    const response = await this._api.post<User>(\"/signup\", options);\n    setToken(response.data);\n    return response.data;\n  }\n  async logIn(options: LogInOptions): Promise<User> {\n    const response = await this._api.post<User>(\"/login\", options);\n    setToken(response.data);\n    return response.data;\n  }\n\n  \n}\n\nexport default function ApiSignleton(): ErederApi {\n  let instance: ErederApi | undefined;\n  if (!instance) instance = new ErederApi();\n  return instance;\n}\n","import React from \"react\";\nimport { createTheme } from \"@mui/material/styles\";\nimport { Button, Card, Container, Grid, Typography } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport ChevronRight from \"@mui/icons-material/ChevronRight\";\n\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport { Link } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n\ntype IntroCard = {\n  image: string;\n  header: string;\n  description: string;\n};\n\nconst IntroCards: IntroCard[] = [\n  {\n    image: \"/images/create.png\",\n    header: \"Create Magic\",\n    description:\n      \"Create wonderful and amazing videos that you want to show to the world\",\n  },\n\n  {\n    image: \"/images/upload.png\",\n    header: \"Upload to Ereder\",\n    description:\n      \"Showcase the world from your perspective by uploading your videos to Ereder\",\n  },\n\n  {\n    image: \"/images/share.png\",\n    header: \"Sharing is Caring\",\n    description:\n      \"You can share your Ereder videos with your close friends, paying viewers or the world\",\n  },\n  {\n    image: \"/images/earn.png\",\n    header: \"Earn Money\",\n    description: \"Ereder is like OnlyFans but without the 18+ content\",\n  },\n];\nlet theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});\n\nfunction LandingPage() {\n\n  const Api = ApiSignleton()\n  const [numberOfUsers, setNumOfUsers] = React.useState(1000);\n  let idRef = React.useRef<any>();\n  React.useEffect(() => {\n    idRef.current = setInterval(() => {\n        setNumOfUsers(numberOfUsers + 1);\n    }, 500)\n    return () => {\n     clearInterval(idRef.current)\n    }\n  });\n  return (\n\n        <Box>\n        <Box\n          sx={{\n            backgroundColor: \"primary.main\",\n            marginBottom: \"1em\",\n            paddingTop: \"1em\"\n          }}\n        >\n          <Box\n            sx={{\n              maxWidth: 500,\n              width: \"90%\",\n              margin: \"0 auto\",\n              color: \"white\",\n              display: \"flex\",\n              alignItems: \"center\",\n              padding: \"3em 0\",\n            }}\n          >\n            <div>\n              <Typography variant=\"h3\" fontWeight=\"bold\">\n                An{\" \"}\n                <code style={{ color: theme.palette.secondary.main }}>\n                  upcoming\n                </code>{\" \"}\n                video sharing platform\n              </Typography>\n              <Typography sx={{ margin: \"1em 0\" }}>\n                Join over{\" \"}\n                <strong style={{ fontSize: 18 }}>{numberOfUsers}</strong> users\n                who share videos everyday with viewers around the world\n              </Typography>\n              <Button\n                variant=\"contained\"\n                sx={{\n                  backgroundColor: \"secondary.main\",\n                  color: \"white\",\n                  marginRight: \"10px\",\n                  \":hover\": {\n                    backgroundColor: \"secondary.main\",\n                  },\n                }}\n\n                onClick={() => {\n                  Api.me().then(console.log).catch(console.log)\n                }}\n              >\n                Get Started\n              </Button>\n\n           \n              <Link to=\"/explore\"  style={{textDecoration: \"none\", color: 'white'}}>\n            <Button  color=\"inherit\" endIcon={<ChevronRight/>}  variant=\"text\">\n           \n                    Explore\n              \n            </Button>\n            </Link>\n            </div>\n          </Box>\n        </Box>\n\n        <Grid container sx={{ width: \"100vw\" }}>\n          {IntroCards.map((card, n) => (\n            <Grid item sx={{ padding: \"10px\" }} md={3} sm={6} key={\"card\" + n}>\n              <Card\n              elevation={0}\n                sx={{\n                  borderRadius: 4,\n                  minHeight: { md: 300, sm: 250 },\n                }}\n              >\n                <Centered>\n                  <img\n                    src={card.image}\n                    alt=\"create\"\n                    style={{ maxWidth: 200, marginBottom: 10 }}\n                  />\n                </Centered>\n                <Typography variant=\"h6\" align=\"center\">\n                  {card.header}\n                </Typography>\n                <Centered sx={{ padding: \"0 1em\", margin: \".5em 0\" }}>\n                  <Typography fontSize={\".85rem\"} align=\"center\">\n                    {card.description}\n                  </Typography>\n                </Centered>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n\n        <Spacer space={30} />\n        <Box sx={{\n          backgroundColor: \"#b9b9dd\",\n         \n          padding: \"2em 0\"\n        }}>\n        <Container>\n          <Grid container>\n            <Grid item md={6} sm={12} sx={{ padding: \"0 20px\" }}>\n              <Typography>\n                Ereder has allowed me to view the works of other content\n                creators and also showcase my new material, What I love most\n                about the platform is that has so many features{\" \"}\n              </Typography>\n\n              <Typography variant=\"h4\">Kenechukwu Rhema </Typography>\n              <Typography  color=\"white\" fontStyle=\"italic\"> \n                Lead Creative Director at KRC Entertainent \n              </Typography>\n            </Grid>\n            <Grid item md={6} sm={12} sx={{ padding: \"0 20px\" }}>\n              <Typography>\n                Investing in Ereder has been one of the best decisions I have made. From modest beginnings, the platform is beginning to make some big moves in the Nigerian Tech Industry\n              </Typography>\n\n              <Typography variant=\"h4\">Christopher Okeke </Typography>\n              <Typography color=\"white\" fontStyle=\"italic\"> \n               CEO, Akaokeke Investment Fund, Africa\n              </Typography>\n            </Grid>\n          </Grid>\n          </Container>\n          </Box>\n          <Spacer space={100} />\n     \n\n       \n        </Box>\n  \n  );\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { Theme } from \"@mui/material\";\n\nimport { SxProps } from \"@mui/system\";\n\nimport { Link } from \"react-router-dom\";\n\ninterface AppLinkProps  {\n  sx?: SxProps<Theme>;\n  to: string;\n  children: string | React.ReactNode | React.ReactNode[];\n  replace?: boolean | undefined;\n  innerRef?: React.Ref<HTMLAnchorElement> | undefined;\n  style?: React.CSSProperties;\n  doNotUseButton?: boolean;\n};\n\nconst AppLink: React.FC<AppLinkProps> = ({\n  to,\n  children,\n  sx,\n  style,\n  doNotUseButton = false, \n  ...props\n}) => {\n  const applyStyles = Object.assign(\n    { textDecoration: \"none\", color: \"inherit\" },\n    style\n  );\n\n  return (\n    <Link to={to} style={applyStyles} {...props}>\n     {doNotUseButton ? children :  <Button sx={sx}>{children}</Button>}\n    </Link>\n  );\n};\n\nexport default AppLink;\n","import * as React from \"react\";\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Badge from \"@mui/material/Badge\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport Switch from '@mui/material/Switch';\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport MoreIcon from \"@mui/icons-material/MoreVert\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppState } from \"../store\";\nimport AppLink from \"./AppLink\";\nimport ApiSignleton from \"../api/api\";\n\nconst Search = styled(\"div\")(({ theme }) => ({\n  position: \"relative\",\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  \"&:hover\": {\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\n  },\n  marginRight: theme.spacing(2),\n  marginLeft: 0,\n  width: \"100%\",\n  [theme.breakpoints.up(\"sm\")]: {\n    marginLeft: theme.spacing(3),\n    width: \"auto\",\n  },\n}));\n\nconst SearchIconWrapper = styled(\"div\")(({ theme }) => ({\n  padding: theme.spacing(0, 2),\n  height: \"100%\",\n  position: \"absolute\",\n  pointerEvents: \"none\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n  color: \"inherit\",\n  \"& .MuiInputBase-input\": {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function Header() {\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const dispatch = useDispatch()\n  const [dark, setDark] = React.useState(false);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const [settingsAnchorEl, setSettingsAnchorEl] = React.useState(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const isSettingsMenuOpen = Boolean(settingsAnchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const logout = () => {\n    const Api = ApiSignleton();\n    Api.logout().then(() => {\n      dispatch({ type: \"logout\" });\n      window.location.pathname = '/login';\n    })\n\n  }\n\n\n\n\n  const handleProfileMenuOpen = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n    handleSettingsMenuClose()\n  };\n\n  const handleSettingsMenuClose = () => {\n    setSettingsAnchorEl(null);\n\n  };\n\n  const handleMobileMenuOpen = (event: any) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleSettingsMenuOpen = (event: any) => {\n    setSettingsAnchorEl(event.currentTarget);\n  };\n  const menuId = \"primary-search-account-menu\";\n  const menuId2 = \"settings-menu\";\n\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        {\"Logout?\"}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          Are you sure you want to log out\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>Cancel</Button>\n        <Button onClick={logout} autoFocus>\n          Continue\n        </Button>\n      </DialogActions>\n    </Dialog>);\n  const settingsMenu = (\n    <Menu\n      anchorEl={settingsAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId2}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isSettingsMenuOpen}\n      onClose={handleSettingsMenuClose}\n    >\n\n      <MenuItem\n        onClick={() => {\n          dispatch({ type: \"change-theme\", value: !dark });\n          setDark(!dark);\n          //  handleSettingsMenuClose();\n        }}\n      >\n        <Switch checked={dark} size=\"small\" /> <span> Dark Mode </span>\n      </MenuItem>\n\n    </Menu>\n  );\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <Link\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\n        to=\"/main/my-dashboard\"\n      >\n        <MenuItem onClick={handleMenuClose}>My Dashboard</MenuItem>\n      </Link>\n      {user?.isCreator && (\n        <Link\n          style={{ textDecoration: \"none\", color: \"inherit\" }}\n          to=\"/creator/dashboard\"\n        >\n          <MenuItem onClick={handleMenuClose}>Creator Dashboard</MenuItem>\n        </Link>\n      )}\n\n    \n      {/* TODO  handle logout */}\n      <MenuItem onClick={handleClickOpen}>Logout</MenuItem>\n    </Menu>\n  );\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <AppLink\n        to={user?.isCreator ? \"/creator/add-video\" : \"/main/become-creator\"}\n        doNotUseButton\n      >\n        <MenuItem onClick={handleMenuClose}>\n          <IconButton size=\"large\" color=\"inherit\">\n            <AddIcon />\n          </IconButton>\n          <p>Add Video</p>\n        </MenuItem>\n      </AppLink>\n     \n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          size=\"large\"\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <Avatar\n            sx={{ width: 24, height: 24 }}\n            alt={user?.fullName}\n            src={user?.profilePic}\n          />\n        </IconButton>\n        <p>Profile</p>\n      </MenuItem>\n\n      <MenuItem onClick={handleSettingsMenuOpen}>\n        <IconButton size=\"large\" edge=\"end\" color=\"inherit\">\n          <SettingsIcon />\n\n        </IconButton>\n        <p>Settings</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar color=\"default\" elevation={0} position=\"fixed\" style={{ top: 0 }}>\n        <Toolbar>\n          <AppLink to=\"/main\" doNotUseButton>\n            <Typography\n              variant=\"h6\"\n              noWrap\n              component=\"div\"\n              sx={{ display: { xs: \"none\", sm: \"block\" } }}\n            >\n              Ereder\n            </Typography>\n          </AppLink>\n          <Search>\n            <SearchIconWrapper>\n              <SearchIcon />\n            </SearchIconWrapper>\n            <StyledInputBase\n              placeholder=\"Search…\"\n              inputProps={{ \"aria-label\": \"search\" }}\n            />\n          </Search>\n          <Box sx={{ flexGrow: 1 }} />\n          <Box sx={{ display: { xs: \"none\", md: \"flex\" } }}>\n            <AppLink\n              to={\n                user?.isCreator ? \"/creator/add-video\" : \"/main/become-creator\"\n              }\n              doNotUseButton\n            >\n              <Tooltip title=\"Add a video\">\n                <IconButton size=\"large\" edge=\"end\" color=\"inherit\">\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n            </AppLink>\n\n            <IconButton\n              size=\"large\"\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <Avatar\n                sx={{ width: 30, height: 30 }}\n                alt={user?.fullName}\n                src={user?.profilePic}\n              />\n            </IconButton>\n            <Tooltip title=\"Settings\">\n              <IconButton onClick={handleSettingsMenuOpen} size=\"large\" edge=\"end\" color=\"inherit\">\n                <SettingsIcon />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box sx={{ display: { xs: \"flex\", md: \"none\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n      {settingsMenu}\n      {dialog}\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Fab from '@mui/material/Fab';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { alpha } from '@mui/material/styles';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport BugReportIcon from '@mui/icons-material/BugReport';\nimport Paper from '@mui/material/Paper'\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport ApiSignleton from '../api/api';\n\nexport default function OpenTicket() {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false)\nconst [body, setBody] = useState('')\n\nconst [title, setTitle] = useState('')\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleReport = async () => {\n   \nsetLoading(true)\ntry {\n  const Api = ApiSignleton();\n   await Api.addTicket(title,body);\n  \n  handleClose()\n  alert(\"ticket submited\")\n} catch (error) {\n  alert(\"an error occurred\")\n}\n   setLoading(false);\n  }\n  const dialog = (<Dialog open={open} >\n   {loading && <LinearProgress/>}\n    <DialogTitle>Report An Issue</DialogTitle>\n    <DialogContent>\n      <Paper sx={{\n        bgcolor: (theme) =>\n          alpha(theme.palette.success.main, theme.palette.action.activatedOpacity),\n      p: 2, mb:1}}>\n      <DialogContentText >\n        \n        This Web App and Service is still in testing and so we would love to hear if you have any issue to report\n      </DialogContentText>\n      </Paper>\n\n      <TextField\n        autoFocus\n  \n        margin=\"dense\"\n        id=\"issueTitle\"\n        label=\"Subject\"\n        type=\"text\"\n        fullWidth\n        onChange={(e)=> {\n          setTitle(e.target.value)\n        }}\n        variant=\"standard\"\n      \n      />\n      \n      <TextField\n        \n        rows={3}\nmultiline\n        margin=\"dense\"\n        id=\"issueBody\"\n        label=\"Issue\"\n        type=\"text\"\n        fullWidth\n        onChange={(e)=> {\n          setBody(e.target.value)\n        }}\n        variant=\"standard\"\n        helperText={\n       (   <Typography fontSize=\"12px\">\nYou can also check our <a href=\"/faqs\">faqs</a> for help\n          </Typography>)\n        }\n      />\n    </DialogContent>\n    <DialogActions>\n      <Button onClick={handleClose}>Cancel</Button>\n      <Button disabled={body.length < 10 || title.length < 3} onClick={handleReport}>Report</Button>\n    </DialogActions>\n  </Dialog>)\n  return (\n    <Box sx={{ position: 'fixed', bottom: '20px', right: '20px' }}>\n      <Fab size=\"medium\" onClick={handleClickOpen} color=\"primary\" aria-label=\"add\">\n        <BugReportIcon />\n      </Fab>\n      {dialog}\n    </Box>\n  );\n}\n","import  Typography  from '@mui/material/Typography'\nimport Box from \"@mui/material/Box\";\nimport React from 'react'\n\nimport Header from './Header'\nimport OpenTicket from './OpenTicket';\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n  \n    showHeader?: boolean\n}\nconst Layout: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <Box >\n          <Header/>\n            {children}\n<OpenTicket/>\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </Box>\n    )\n}\n\nexport default Layout\n","import { Box, Theme } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport React from 'react';\n\n\ntype ContainerProps = {\n    children: any;\n    key?: string;\n    sx?: SxProps<Theme>;\n    \n};\n\n\nconst Container: React.FC<ContainerProps> =  ({children, sx = {}, ...props}) => {\n    var sX: SxProps<Theme> = {};\n    sX= Object.assign({\n        width: {sm: \"100%\", md: \"85%\"},\n        margin: \"0 auto\"\n    }, sx);\n    return (\n\n        <Box sx={sX}>\n            {children}\n        </Box>\n    )\n}\n\nexport default Container;\n","import { TypographyTypeMap } from '@mui/material/Typography';\nimport Typography   from '@mui/material/Typography';\nimport React from 'react';\n \nconst ControlledText: React.FC<TypographyTypeMap<{  length?: number;\n    text: string;\n    color?: string;\n    component?: string; }, TypographyTypeMap['defaultComponent']>> = ({props}) => {\n    const {text, length = 10,   ...oProps} = props;\n    const getText = () => {\n        if(props.text.length > length) return (text.slice(0, length) + \"...\")\n        else return text;\n    }\n    return (\n        <Typography  {...oProps}>\n                {getText()}\n            </Typography>\n    )\n}\n\nexport default ControlledText\n","import User, { Channel } from \"./models/User\";\n\nexport const DefaultUser: User = {\n  id: \"1\",\n  fullName: \"Allison Kosy\",\n  \n  email: \"allisonkosy@gmail.com\",\n  birthdate: \"1998-11-22\",\n  username: \"kosiken\",\n  country: \"Nigeria\",\n  profilePic: \"/images/me.jpeg\",\n  isCreator: true,has_billing_card: false\n};\n\nexport const UserChannel: Channel = {\n  user_id: \"1\",\n  id: \"1\",\n\n  name: \"Allison Kosy\",\n  short_description:\n    \"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Doloremque, assumenda.\",\n\n  logo: \"/images/me.jpeg\",\n  // banner?: string;\n  follower_count: 234,\n  about: `When the App Store launched in 2008, YouVersion was one of the first 200 free apps available. That first weekend, 83,000 people installed the Bible on their device. But now, a Community that started with 83,000 downloads in one weekend has nearly reached half a billion.`,\n  like_count: 4022,\n  video_count: 25,\n};\n","import React, { useState, useEffect } from 'react';\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\n\ntype ApiLoaderProps = {\n    request: (data: any) => Promise<any>;\n    // retry?: (func:()=> void) => void;\n    onLoad: (data: any) => void;\n    onFail?: (message: string) => void;\n    setLoading: (bool: boolean) => void\n    data?: any;\n}\n\nconst ApiLoader: React.FC<ApiLoaderProps> = function ({ request, setLoading, onLoad, data , onFail = console.log}) {\n\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const loadRequest =  async () => {\n        try {\n            let response = await request(data);\n            onLoad(response);\n\n        } catch (e: any) {\n            let message = \"An Error Occured\"\n            if (e.response) {\n                setLoading(false)\n                \n                console.log(e.response);\n                switch (e.response.status) {\n                    case 400:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n\n                    case 404:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n\n                    case 500:\n                        handleOpen(e.response.data.problems ||  message);\n\n                        break;\n                    default:\n                        handleOpen(e.response.data.problems ||  message);\n                        break;\n                }\n                handleOpen( message);\n                return\n\n            }\n   \n            handleOpen( message);\n        }\n    }\n\n    useEffect(() => {\n        const loadRequest2 = async () => {\n            try {\n                let response = await request(data);\n                onLoad(response);\n    \n            } catch (e: any) {\n                let message = \"An Error Occured\"\n                if (e.response) {\n                    setLoading(false)\n                    \n                    console.log(e.response);\n                    switch (e.response.status) {\n                        case 400:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n    \n                        case 404:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n    \n                        case 500:\n                            handleOpen(e.response.data.problems ||  message);\n    \n                            break;\n                        default:\n                            handleOpen(e.response.data.problems ||  message);\n                            break;\n                    }\n                    handleOpen( message);\n                    return\n    \n                }\n       \n                handleOpen( message);\n            }\n        }\n        loadRequest2()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleRetry = () => {\n        loadRequest();\n        setErrorPresent(false);\n    }\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n        onFail(message)\n    }\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    return (<Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        \n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n    />)\n\n}\n\nexport default ApiLoader;","import React, { useState, useEffect } from \"react\";\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport Card from \"@mui/material/Card\";\nimport Paper from \"@mui/material/Paper\";\nimport Chip from \"@mui/material/Chip\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Avatar from \"@mui/material/Avatar\";\nimport dayjs from \"dayjs\"\nimport Box from \"@mui/material/Box\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport Skeleton from \"@mui/material/Skeleton\";\nimport Grid, { GridSize } from \"@mui/material/Grid\";\nimport ControlledText from \"./ControlledText\";\nimport Centered from \"./Centered\";\nimport Video from \"../models/Video\";\nimport { Channel } from \"../models/User\";\nimport { UserChannel } from \"../constants\";\nimport ApiSignleton from \"../api/api\";\nimport ApiLoader from './ApiLoader'\nimport Typography from \"@mui/material/Typography\";\nimport AppLink from \"./AppLink\";\n\ndayjs.extend(relativeTime)\ntype VideoGridProps = {\n  videoPlaceholderCount?: number;\n  loggedIn?: boolean;\n  xs?: GridSize;\n  sm?: GridSize;\n  lg?: GridSize;\n  md?: GridSize;\n  prefix?: string;\n  channelId?: string;\n};\n\nconst VideoGrid: React.FC<VideoGridProps> = ({\n  videoPlaceholderCount = 6,\n  loggedIn = false,\n  xs = 12,\n  sm = 6,\n  md = 4,\n  lg = 3,\n  prefix = \"/main\", channelId\n}) => {\n\n  const [videos, setVideos] = useState<Video[]>([]);\n\n  const items = new Array(videoPlaceholderCount).fill(0)\n  const [done, setDone] = useState(false)\n\n  let retry = async () => {\n    if (videos.length > 0) {\n      setDone(true)\n      return;\n\n    }\n    const Api = ApiSignleton();\n    let v;\n    if(channelId)v = await Api.getChannelVideos(channelId)\n    else v = await Api.allVideos()\n    setVideos(v);\n    return v;\n    // setDone(true)\n\n    // .catch((err) => {\n    //   console.log(err);\n    //   setDone(true)\n    // })\n  }\n\n  useEffect(() => {\n    console.log(videos)\n    setDone(videos.length > 0)\n  }, [videos])\n\n  const getGrid = () => {\n    if (done && videos.length > 0) {\n      return (\n        <>\n          {videos.map((item, index) => {\n\n            let channel: Channel = UserChannel;\n            if (typeof item.channel !== \"string\") {\n\n              channel = item.channel;\n            }\n            return (\n              <Grid item key={\"video\" + index} lg={lg} md={md} sm={sm} xs={xs} style={{ minWidth: '260px' }}>\n                <Centered>\n                  <Card sx={{ maxWidth: 455, m: 2 }}>\n                    <CardHeader\n                      style={{ textDecoration: \"none\", fontSize: \"0.9em\" }}\n                      avatar={\n                        <a\n                          style={{ textDecoration: \"none\", fontSize: \"0.9em\" }}\n                          href={(`/channel/${channel.id}`)}\n                        >\n                          <Avatar\n                            alt=\"Intresting Channel\"\n                            src={channel.logo}\n                          />\n                        </a>\n                      }\n                      action={\n                        loggedIn && (\n                          <IconButton aria-label=\"settings\">\n                            <MoreVertIcon />\n                          </IconButton>\n                        )\n                      }\n                      title={channel.name}\n                      subheader={dayjs(item.createdAt).fromNow()}\n                    />\n                    <AppLink\n                      sx={{ textDecoration: \"none\", minHeight: '140px', display: 'block', width: '100%' }}\n                      to={item.videoType === 'public' ? `${prefix}/watch/${item.id}` : `${prefix}/purchase/${item.id}`}\n                      doNotUseButton\n                    >\n                      <CardMedia\n                        component=\"img\"\n\n                        image={item.thumbnail}\n                        alt={item.thumbnail}\n                        sx={{ fontSize: \"12px\", width: '100%' }}\n\n\n                      />\n                    </AppLink>\n\n                    <CardContent>\n                      <ControlledText\n                        defaultComponent=\"span\"\n                        props={{\n                          color: \"text.secondary\",\n                          variant: \"body2\",\n                          component: \"p\",\n                          text: item.title,\n                          length: 60,\n                        }}\n                      />\n\n                      <Typography fontSize=\"0.8em\" sx={{ mb: 2 }}>{item.viewCount} View(s)</Typography>\n                      <Chip size=\"small\"  label={item.videoType} variant={(item.videoType === 'public' ? 'outlined' : 'filled')} />\n                     {item.price > 0 && <Chip label={\"N\" + item.price }size=\"small\" variant=\"outlined\"  />}\n\n                    </CardContent>\n                  </Card>\n                </Centered>\n              </Grid>\n            );\n          })}\n        </>\n      );\n    }\n\n    if (videos.length > 0) {\n\n    return (\n      <>\n        {items.map((item, index) => {\n          return (\n            <Grid item key={\"video\" + index} lg={3} md={4} sm={6} xs={12}>\n              <Card sx={{ maxWidth: 345, m: 2 }}>\n                <CardHeader\n                  avatar={\n                    <Skeleton\n                      animation=\"wave\"\n                      variant=\"circular\"\n                      width={40}\n                      height={40}\n                    />\n                  }\n                  title={\n                    <Skeleton\n                      animation=\"wave\"\n                      height={10}\n                      width=\"80%\"\n                      style={{ marginBottom: 6 }}\n                    />\n                  }\n                  subheader={\n                    <Skeleton animation=\"wave\" height={10} width=\"40%\" />\n                  }\n                />\n\n                <Skeleton\n                  sx={{ height: 190 }}\n                  animation=\"wave\"\n                  variant=\"rectangular\"\n                />\n\n                <CardContent>\n                  <React.Fragment>\n                    <Skeleton\n                      animation=\"wave\"\n                      height={10}\n                      style={{ marginBottom: 6 }}\n                    />\n                    <Skeleton animation=\"wave\" height={10} width=\"80%\" />\n                  </React.Fragment>\n                </CardContent>\n              </Card>\n            </Grid>\n          );\n        })}\n      </>\n    );\n    \n    }\n    return (<Box>\n\n      <Centered sx={{ height: '70vh', justifyContent: 'center', alignItems: 'center' }}>\n\n        <Paper style={{ padding: '3em', minWidth: '300px' }}>\n          <div style={{ textAlign: 'center' }}>\n            <img\n              src=\"/images/upload.png\"\n              alt=\"done\"\n              style={{ maxWidth: 200, marginBottom: 10 }}\n            />\n          </div>\n          <Typography align=\"center\" color=\"success.main\" sx={{ mt: 2, mb: 2 }}>No Videos found</Typography>\n\n        </Paper>\n\n\n      </Centered>\n    </Box>)\n  };\n\n  return (<React.Fragment><Grid container>{getGrid()}</Grid>\n\n    <ApiLoader setLoading={(l) => setDone(l)} request={retry} onFail={(m) => {\n      console.log(\"In grid\");\n      setDone(true);\n\n    }} onLoad={(v) => {\n      console.log(videos)\n      console.log(v);\n      setVideos(v)\n      setDone(true)\n    }} />\n  </React.Fragment>);\n};\n\nexport default VideoGrid;\n","import { Box } from '@mui/material'\nimport React from 'react'\nimport Container from '../components/Container'\nimport VideoGrid from '../components/VideoGrid'\n\nconst Explore = () => {\n    return (\n        <Box sx={{marginTop: '8em'}}>\n        <Container>\n            <VideoGrid/>\n        </Container>\n        </Box>\n    )\n}\n\nexport default Explore\n","import { Action } from \"@reduxjs/toolkit\";\n// eslint-disable-next-line\nimport { DefaultUser } from \"../constants\";\nimport User from \"../models/User\";\nexport interface AuthState  {\n  user?: User;\n};\n\nexport interface SettingsState  {\n  darkMode: boolean;\n  autoPlay: boolean;\n  volume: number;\n};\ntype authActions = \"login\" | \"logout\" | \"become_creator\" ;\ntype settingsActions = \"change-theme\" | \"change-volume\" | \"change-autoplay\";\nexport interface AuthAction extends Action<authActions> {\n \n  user?: User;\n};\n\nexport interface SettingsAction extends Action<settingsActions> {\n  value: boolean | number;\n};\n\nlet initalAuthState: AuthState = {\n  // user: DefaultUser,\n};\n\nlet initialSettingsState: SettingsState = {\n  darkMode: false,\n  autoPlay: false,\n  volume: 80,\n};\n\nexport function authReducer(\n  state = initalAuthState,\n  action: AuthAction\n): AuthState {\n  let returnObj = null;\n  switch (action.type) {\n    case \"login\":\n        returnObj = {...state};\n      returnObj.user = action.user;\n      break;\n    case \"logout\":\n      window.localStorage.removeItem(\"jwt\")\n        returnObj = initalAuthState;\n     \n      break;\n\n    case \"become_creator\":\n        returnObj = {...state};\n      let user: any = { ...returnObj.user, isCreator: true };\n      console.log(action);\n      returnObj.user = user;\n      break;\n    default:\n      console.warn(\"unknown action \" + action.type);\n      break;\n  }\n  if(returnObj == null) return state;\n else  return returnObj;\n}\n\nexport function settingsReducer(\n  state = initialSettingsState,\n  action: SettingsAction\n): SettingsState {\n  let returnObj = null;\n  switch (action.type) {\n    case \"change-autoplay\":\n        returnObj = {...state};\n      returnObj.darkMode = action.value as boolean;\n      break;\n    case \"change-theme\":\n        returnObj = {...state};\n        \n      returnObj.darkMode = action.value as boolean;\n      break;\n\n    case \"change-volume\":\n        returnObj = {...state};\n      returnObj.volume = action.value as number;\n      break;\n\n    default:\n      console.warn(\"unknown action \" + action.type);\n      break;\n  }\n  if(returnObj === null  ) return state;\n  else return returnObj;\n}\n","import {  configureStore } from \"@reduxjs/toolkit\";\nimport { logger } from \"./middleware\";\n\nimport { AuthAction, authReducer, AuthState, SettingsAction, settingsReducer, SettingsState } from \"./reducers\";\n\n\nexport interface AppState {\n    auth: AuthState;\n    settings: SettingsState\n    \n}\n\nexport default configureStore<AppState, AuthAction & SettingsAction>({\n    reducer: {\n        auth: authReducer,\n        settings: settingsReducer\n    }, middleware: [logger]\n})","export const logger = (store: any) => (next: any) => (action: any )=> {\n    console.group(action.type)\n    console.info('dispatching', action)\n    let result = next(action)\n    console.log('next state', store.getState())\n    console.groupEnd()\n    return result\n  }\n  \n","import React, { useState } from \"react\";\nimport querystring from 'querystring'\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nimport FormControl from \"@mui/material/FormControl\";\n\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n \n\n\nconst schema = yup\n  .object({\n    emailAddress: yup.string().email().required(),\n    password: yup.string().min(4).required(),\n  })\n  .required();\n\nconst Login = ( ) => {\n\n  const Api = ApiSignleton();\n  let location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n  let redirect: string;\n\n  if(!!location.search) {\n    redirect = location.search.slice(1);\n    redirect = querystring.parse(redirect).rediirectTo as string\n    console.log(redirect)\n  }\n  \n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const handleOpen = (message: string) => {\n    setErrorMessage(message);\n    setErrorPresent(true)\n    setLoading(false)\n      }\n\n  const onSubmit = (data: any) => {\n    // data.emailAddress = \"\";\n    setLoading(true);\n  Api.logIn(data).then(() => {\n    window.location.pathname = redirect ||  \"/\"\n  }).catch((e)=> {\n if(e.response)   {\n   setLoading(false)\n   console.log(e.response);\n   switch(e.response.status) {\n     case 400: \n        handleOpen(\"Email or Password Incorrect\");\n        \n        break;\n\n        case 404: \n        handleOpen(\"Email cannot be found\");\n        \n        break;\n    \n    case 500:\n      handleOpen(\"Server Error\");\n\n      break;\n      default:\n        handleOpen(\"Unknown Error\")\n        break;\n   }\n   return\n  \n  }\n\n  handleOpen(e.message || \"Unknown Error\");\n  })\n  };\n\n\n  const handleClose = () => {\n    setErrorMessage(\"\");\n    setErrorPresent(false);\n  }\n  const action = (\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n  \n        <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  return (\n    <Centered\n      sx={{\n        height: \"100vh\",\n        // backgroundColor: \"primary.main\",\n        flexDirection: \"column\",\n        padding: \"1em 0\",\n      }}\n    >\n      <Card\n        sx={{\n          maxWidth: \"500px\",\n          width: \"60%\",\n          minWidth: \"300px\",\n          padding: 0,\n        }}\n      >\n        {loading && <LinearProgress />}\n        <CardContent sx={{ padding: \"3em 2em\" }}>\n            <Typography variant=\"h6\" align=\"center\" >Log In</Typography>\n            <Spacer space={10} />\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n          <FormControl fullWidth>\n              <TextField\n                helperText={errors.email?.message}\n                id=\"email\"\n                error={!!errors.email}\n                label=\"Email\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"email\",\n                }}\n                {...register(\"emailAddress\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                id=\"password\"\n                error={!!errors.password}\n                helperText={errors.password?.message}\n                {...register(\"password\")}\n                label=\"Password\"\n                variant=\"outlined\"\n                InputProps={{\n                  type: \"password\",\n                }}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <Button type=\"submit\" variant=\"contained\">\n              Submit\n            </Button>\n            <Link\n              to=\"/signup\"\n              style={{ marginLeft: 30, textDecoration: \"none\" }}\n            >\n              <Button >Sign up</Button>\n            </Link>{\" \"}\n            <Spacer space={20} />\n           </form>\n        </CardContent>   <Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n      />\n\n      </Card>\n    </Centered>\n  );\n};\n\nexport default Login;\n","import  React, { useState } from \"react\";\nimport querystring from 'querystring'\n\nimport Centered from \"../components/Centered\";\nimport Spacer from \"../components/Spacer\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\n\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ApiSignleton from \"../api/api\";\n\n\ntype CountryItem = {\n  value: string;\n  title: string;\n}\n\nconst Countries: CountryItem[] = [\n{\n  value: 'nigeria',\n  title: 'Nigeria'\n},\n{\n  value: 'civ',\n  title: 'Cote\\'ivore'\n},\n{\n  value: 'ghana',\n  title: 'Ghana'\n},\n{\n  value: 'the_gambia',\n  title: 'The Gambia'\n},\n]\n\n\nconst schema = yup\n  .object({\n    emailAddress: yup.string().email().required(),\n    password: yup.string().min(4).required(),\n    fullName: yup.string().min(3).required(),\n    dob: yup.string().length(10).required()\n  })\n  .required();\n\nconst SignUp = () => {\n  let location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n  const [country, setCountry] = useState(Countries[0].value)\n  const [dob, setDob] = useState<Date>();\n  const Api = ApiSignleton()\n\n  let redirect: string;\n\n  if(!!location.search) {\n    redirect = location.search.slice(1);\n    redirect = querystring.parse(redirect).rediirectTo as string\n    console.log(redirect)\n  }\n  \n\n  const handleOpen = (message: string) => {\n    setErrorMessage(message);\n    setErrorPresent(true)\n    setLoading(false)\n      }\n      const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n      }\n  const handleChange = (event: SelectChangeEvent<string>) => {\n    setCountry(event.target.value);\n    console.log(dob)\n  };\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const onSubmit = (data: any) => {\n    console.log(data)\n    setLoading(true);\n\n    Api.signIn(data).then(() => {\n      window.location.pathname = redirect ||  \"/\"\n    }).catch((e)=> {\n   if(e.response)   {\n     setLoading(false)\n     console.log(e.response);\n     switch(e.response.status) {\n       case 400: \n          handleOpen(\"Email or Password Incorrect\");\n          \n          break;\n      case 500:\n        handleOpen(\"Server Error\");\n  \n        break;\n        default:\n          handleOpen(\"Unknown Error\")\n          break;\n     }\n     return\n    \n    }\n  \n    handleOpen(e.message || \"Unknown Error\");\n    })\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n\n      <CloseIcon fontSize=\"small\" />\n  </IconButton>\n);\n\n  return (\n    <Centered\n      sx={{\n        minHeight: \"100vh\",\n        // backgroundColor: \"primary.main\",\n        flexDirection: \"column\",\n        padding: \"1em 0\",\n        marginTop:20\n      }}\n    >\n      <Card\n        sx={{\n          maxWidth: \"500px\",\n          width: \"60%\",\n          minWidth: \"300px\",\n          padding: 0,\n        }}\n      >\n        {loading && <LinearProgress />}\n        <CardContent sx={{ padding: \"3em 2em\" }}>\n          <Typography variant=\"h6\" align=\"center\">\n            Sign Up\n          </Typography>\n          <Spacer space={10} />\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <FormControl fullWidth>\n              <TextField\n                helperText={errors.fullName?.message}\n                id=\"fullName\"\n                error={!!errors.fullName}\n                label=\"Full Name\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"fullName\",\n                }}\n                {...register(\"fullName\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                helperText={errors.email?.message}\n                id=\"email\"\n                error={!!errors.email}\n                label=\"Email\"\n                variant=\"outlined\"\n                 InputProps={{\n                  type: \"email\",\n                }}\n                {...register(\"emailAddress\")}\n              />\n            </FormControl>\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n                id=\"password\"\n                error={!!errors.password}\n                helperText={errors.password?.message}\n                {...register(\"password\")}\n                label=\"Password\"\n                variant=\"outlined\"\n                InputProps={{\n                  type: \"password\",\n                }}\n              />\n            </FormControl>\n\n            <Spacer space={20} />\n            <FormControl fullWidth>\n              <TextField\n       variant=\"filled\"\n          {...register('dob')}\n          type=\"date\"\n         InputProps= {\n          {inputProps: {max:\"12-12-2021\"}}\n         }\n\n         onChange={(e) => {\n           setDob(new Date(e.target.value))\n         }}\n                  \n                  \n\n              />\n            </FormControl>\n            <Spacer space={20} />\n            \n              <InputLabel   id=\"demo-simple-select-label\">Country</InputLabel>\n              <FormControl fullWidth >  <Select\n                {...register('country')}\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={country}\n                label=\"Country\"\n                onChange={handleChange}\n              >\n              {Countries.map(({value, title}, index) => (  <MenuItem key={'country' + index} value={value}>{title}</MenuItem>))}\n              </Select>\n            </FormControl>\n            <Spacer space={20} />\n            <Button type=\"submit\" variant=\"contained\">\n              Submit\n            </Button>\n            <Link\n              to=\"/login\"\n              style={{ marginLeft: 30, textDecoration: \"none\" }}\n            >\n              <Button>Log In</Button>\n            </Link>{\" \"}\n            <Spacer space={20} />\n            <Typography\n              component=\"small\"\n              variant=\"subtitle2\"\n              align=\"center\"\n              color=\"red\"\n            >\n              {errrorMessage}\n            </Typography>\n          </form>\n        </CardContent>\n      </Card>\n      <Snackbar\n        open={errorPresent}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={errrorMessage}\n        action={action}\n      />\n    </Centered>\n  );\n};\n\nexport default SignUp;\n","import React from 'react';\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Centered from './Centered';\n\n\n\n\nconst LoadingPageIndicator: React.FC<{height?: string}> = ({height = '100vh'}) => (\n    <Centered sx={{ height }}>\n        <Box> <CircularProgress />\n            <p>Loading</p></Box>\n\n    </Centered>\n)\n\n\nexport default LoadingPageIndicator;","import { Channel } from \"../models/User\";\n\nexport function shortenText(text: string, max: number): string {\n    \n    if(text.length > max) return (text.slice(0, max - 3) + \"...\")\n    else return text;\n}\n\nexport function toHHMMSS(secs: number) {\n    var sec_num = Math.floor(secs);\n    var hours = Math.floor(sec_num / 3600);\n    var minutes = Math.floor(sec_num / 60) % 60;\n    var seconds = sec_num % 60;\n\n    return [hours, minutes, seconds]\n      .map((v) => (v < 10 ? \"0\" + v : v))\n      .filter((v, i) => v !== \"00\" || i > 0)\n      .join(\":\");\n  };\n\n  export const sanitizedChannel = function (channel: any): Channel {\n    \n\n    const sanitizedChannel: Channel = {\n      id: channel.id,\n      user_id: channel.user,\n      name: channel.name,\n      about: channel.about,\n      short_description: channel.shortDescription,\n      logo: channel.logo,\n      banner: channel.banner,\n      follower_count: channel.followerCount,\n      like_count: channel.likeCount,\n      video_count: channel.videoCount,\n      total_views: channel.totalViews\n    };\n\n    return sanitizedChannel;\n    // TODO\n  }","import User, { Channel, Subscription } from \"../models/User\";\nimport axios, { AxiosInstance } from \"axios\";\n// import Video from \"../models/Video\";\nimport { sanitizedChannel } from \"../utils/functions\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport Video, { VideoComment, VideoPurchase } from \"../models/Video\";\n\nexport interface IBillingDetails {\n  billingCardBrand: string;\n  billingCardExpMonth: string;\n  billingCardExpYear: string;\n  billingCardLast4: string;\n  hasBillingCard: boolean;\n  cvv: string;\n}\n\ninterface IUserApi {\n  _api: AxiosInstance;\n\n  getFollowing(): Promise<Subscription[]>;\n  updateDetails(body: any): Promise<User>;\n  unSubscribe(channel: string): Promise<{ deleted: boolean }>;\n  subscribe(channel: string): Promise<Subscription>;\n  viewHistory(): Promise<ViewHistory[]>;\n  purchases(): Promise<VideoPurchase[]>;\n  addCard(data: IBillingDetails): Promise<IBillingDetails>;\n  viewVideoRestricted(\n    videoId: string,\n    accessToken: string,\n    duration: number\n  ): Promise<any>;\n\n  viewVideo(videoId: string, duration: number): Promise<any>;\n  getRestrictedVideo(accessCode: string, id?: string): Promise<Video>; //</Video>\n  reactToVideo(like: boolean, video: Video): Promise<{ like: boolean }>;\n  purchase(videoId: string): Promise<VideoPurchase>;\n  checkForAccess(videoId: string): Promise<VideoPurchase>;\n  addComment(videoId: string, body: string): Promise<VideoComment>;\n  getComments(videoId: string): Promise<VideoComment[]>;\n}\n\nclass UserApi implements IUserApi {\n  _api: AxiosInstance;\n\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"/api/user\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n  async getComments(videoId: string): Promise<VideoComment[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<VideoComment[]>(\n      `/comment/${videoId}`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n  async addComment(videoId: string, body: string): Promise<VideoComment> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.post<VideoComment>(\n      `/comment/${videoId}`,\n      { body },\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n  async viewVideoRestricted(\n    videoId: string,\n    accessToken: string,\n    duration: number\n  ): Promise<any> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get(\n      `/view/${videoId}?accessToken=${accessToken}&duration=${\n        duration > 1000 ? duration : 1000\n      }`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async checkForAccess(videoId: string): Promise<VideoPurchase> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<VideoPurchase>(\n      `/check-access/${videoId}`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n  async purchase(videoId: string): Promise<VideoPurchase> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<VideoPurchase>(\n      `/purchase/${videoId}`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async getRestrictedVideo(accessCode: string, id?: string): Promise<Video> {\n    let url = id ? \"?videoId=\" + id : \"\";\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<Video>(\n      `/restricted/${accessCode}` + url,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async reactToVideo(like: boolean, video: Video): Promise<{ like: boolean }> {\n    let url = like ? \"/like\" : \"/un-like\";\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    let channelId =\n      typeof video.channel === \"string\"\n        ? video.channel\n        : (video.channel as Channel).id;\n\n    const response = await this._api.post<{\n      like: boolean;\n    }>(\n      url,\n      {\n        videoLiked: video.id,\n        channel: channelId,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async viewVideo(videoId: string, duration: number): Promise<any> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get(\n      `/view/${videoId}?duration=${duration > 1000 ? duration : 1000}`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n\n    return response.data;\n  }\n  async addCard(data: IBillingDetails): Promise<IBillingDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.post<IBillingDetails>(\"/card\", data, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n\n    return response.data;\n  }\n  async purchases(): Promise<VideoPurchase[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<VideoPurchase[]>(`/paid-videos`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async viewHistory(): Promise<ViewHistory[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<ViewHistory[]>(`/history`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async subscribe(channel: string): Promise<Subscription> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<Subscription>(\n      `/subscribe/${channel}`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    response.data.channel = sanitizedChannel(response.data.channel);\n    return response.data; // comment\n  }\n  async unSubscribe(channel: string): Promise<{ deleted: boolean }> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<{ deleted: boolean }>(\n      `/subscribe/${channel}?unsubscribe=true`,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n  async updateDetails(body: any): Promise<User> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.post<User>(\"/update\", body, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n\n    return response.data;\n  }\n\n  async getFollowing(): Promise<Subscription[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n\n    const response = await this._api.get<any[]>(\"/following\", {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    let data: Subscription[] = response.data.map((v) => {\n      return {\n        ...v,\n        channel: sanitizedChannel(v.channel),\n      };\n    });\n    return data;\n  }\n}\n\nexport default function UserApiSignleton(): IUserApi {\n  let instance: IUserApi | undefined;\n  if (!instance) instance = new UserApi();\n  return instance;\n}\n","import React from 'react';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport Centered from './Centered';\n\n\n\n\nconst ErrorPageIndicator: React.FC<{height?: string, errorMessage: string, retry: () => void}> = ({height = '100vh', ...props}) => (\n    <Centered sx={{ height }}>\n        <Box> \n            \n            <Typography variant=\"h6\">\n            Error\n        </Typography>\n\n           \n        <Typography color=\"error\">\n            {props.errorMessage}\n        </Typography>\n\n        <Button variant=\"contained\" onClick={props.retry}>\n            Retry\n        </Button>\n        </Box>\n\n    </Centered>\n)\n\n\nexport default ErrorPageIndicator;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\nimport VideoGrid from \"../../components/VideoGrid\";\nimport Container from \"@mui/material/Container\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from '@mui/material/Button'\nimport { Link } from \"react-router-dom\";\nimport { Channel } from \"../../models/User\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport UserApiSignleton from \"../../api/userApi\";\nimport ErrorPageIndicator from \"../../components/ErrorPageIndicator\";\nimport AppLink from \"../../components/AppLink\";\n\n\nconst Sidebar = () => {\n  const [creators, setCreators] = useState<Channel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('')\n  const sliceCreators = () =>  creators;\n\n  function retry() {\n    if (creators.length > 0) return;\n    const userApi = UserApiSignleton();\n    userApi.getFollowing().then(c => {\n      setCreators(c.map(s => s.channel));\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n  }\n  useEffect(() => {\n    const userApi = UserApiSignleton();\n    userApi.getFollowing().then(c => {\n      setCreators(c.map(s => s.channel));\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n\n\n  },[])\n\n  \n  if (loading) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <LoadingPageIndicator height={\"80vh\"} />\n    </Box>);\n  }\n  if(hasError) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <ErrorPageIndicator errorMessage={errorMessage} retry={retry} height={\"80vh\"} />\n    </Box>);\n  }\n\n  return (\n    <Box\n      sx={{\n        display: { md: \"block\", sm: \"none\" },\n        width: { md: \"250px\", sm: \"90vw\" },\n\n      }}\n      style={{ padding: '1em 0 0' }}\n    >\n      <Typography fontWeight=\"bold\" component=\"span\" style={{ marginLeft: 15 }}>Following ({creators.length})</Typography> <AppLink to=\"/main/all-creators\"> All Creators</AppLink>\n      <Paper elevation={0} style={{ height: \"95%\", overflowY: 'scroll' }}>\n        {sliceCreators().map((creator, index) => {\n          return (\n            <Link to={\"#/creator/\" + index} key={\"creator\" + index} style={{ display: 'block', textDecoration: 'none', color: 'inherit', marginBottom: 10 }}>\n              <Button style={{ textTransform: 'none', display: 'flex', width: '100%', justifyContent: 'flex-start', color: 'inherit' }}>\n                <Avatar\n                  alt={creator.name}\n                  src={creator.logo}\n                />\n\n                <Typography style={{ marginLeft: 15 }}>{creator.name}</Typography>\n              </Button>\n            </Link>\n          )\n        })}\n      </Paper>\n    </Box>\n  );\n\n\n}\n\nconst Dashboard = () => {\n  // \n  return (\n    <Box>\n      <Box style={{ maxHeight: 'calc(100vh )', overflow: 'hidden', paddingTop: '64px' }} sx={{ position: \"relative\", display: { sm: \"block\", md: \"flex\" } }}>\n        <Box style={{ overflowY: 'scroll', height: '100vh' }} flex={1}>\n\n          <Container maxWidth=\"md\">\n\n            <VideoGrid videoPlaceholderCount={24} lg={4} md={4} prefix=\"/main\" />\n          </Container>\n        </Box>\n        <Sidebar />\n\n      </Box>\n    </Box>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from \"react\";\nimport CloseIcon from '@mui/icons-material/Close';\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"./Container\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ReactPlayer from \"react-player\";\nimport { useDebounce } from \"@react-hook/debounce\";\nimport SkipPreviousIcon from \"@mui/icons-material/SkipPrevious\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport SkipNextIcon from \"@mui/icons-material/SkipNext\";\nimport Centered from \"./Centered\";\nimport PauseIcon from \"@mui/icons-material/Pause\";\nimport Slider from \"@mui/material/Slider\";\nimport Snackbar from '@mui/material/Snackbar';\nimport useHover from \"../hooks/useHover\";\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\nimport useWindowSize, { Size } from \"../hooks/useWindowSize\";\nimport { toHHMMSS } from \"../utils/functions\";\nimport Video from \"../models/Video\";\nimport UserApiSignleton from \"../api/userApi\";\n\ntype VideoViewProps = {\n  url: string;\n  video: Video;\n  accessToken?: string\n};\n\nconst VideoView: React.FC<VideoViewProps> = ({ url, video , accessToken}) => {\n  // const url = \"/video.mp4\"//https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4\n\n  const videoRef: any = React.useRef();\n  const ref: any = React.useRef();\n  const timeoutRef = React.useRef(0);\n  const val = useHover(ref);\n  const [playing, setPlaying] = useState(false);\n  const [playedSecondString, setPlayedSecondString] = useState(\"00:00\");\n  const [playedSeconds, setPlayedSeconds] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [durationString, setDurationString] = useState(\"00:00\");\n  const [liked, setLiked] = useState(false);\n  const [value, setValue] = useDebounce(false, 1000);\n  const [show, setShow] = useState(false);\n  const [fullScreen, setFullScreen] = useState(false);\n  const [open, setOpen] = React.useState(true);\n\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string,\n  ) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    const updateView = async () => {\n      try {\n        const Api = UserApiSignleton()\n        let b;\n        if(!accessToken) b = await Api.viewVideo(video.id, playedSeconds * 1000);\n        else b = await Api.viewVideoRestricted(video.id, accessToken, duration);\n        console.log(b);\n      } catch (error: any) {\n        console.log(error)\n      }\n    }\n    if (playedSeconds > 0) {\n      if(Math.round(playedSeconds) === 1) {\n        updateView();\n        return\n      }\n      let m = Math.round(playedSeconds);\n      if ((m % 60) === 0 && m > 0) {\n        updateView()\n      }\n    }\n  }, [playedSeconds, video, accessToken])\n\n  const getMd = () => {\n    if (fullScreen) {\n      return show ? \"block\" : \"none\";\n    } else return val ? \"block\" : \"none\";\n  };\n\n  useEffect(() => {\n    const func = (event: Event) => {\n      // document.fullscreenElement will point to the element that\n      // is in fullscreen mode if there is one. If there isn't one,\n      // the value of the property is null.\n      if (document.fullscreenElement) {\n        console.log(\n          `Element: ${document.fullscreenElement.id} entered full-screen mode.`\n        );\n      } else {\n        if (fullScreen) setFullScreen(false);\n      }\n    };\n    document.addEventListener(\"fullscreenchange\", func);\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", func);\n    };\n  });\n\n  const size: Size = useWindowSize();\n\n  useEffect(() => {\n    if (!!ref.current && fullScreen) {\n      ref.current.requestFullscreen();\n    } else if (!fullScreen) {\n      if (document.fullscreenElement) document.exitFullscreen().catch(console.log);\n    }\n  }, [fullScreen]);\n\n\n\n  const toggleVideoLike = () => {\n    const Api = UserApiSignleton();\n\n    Api.reactToVideo(!liked, video)\n    .then(console.log)\n    .catch(console.log);\n\n    \n    setLiked(!liked);\n  };\n\n  useEffect(() => {\n    setValue(liked);\n\n    return () => { };\n  }, [liked, setValue]);\n\n  useEffect(() => {\n    const sendApiRequest = () => {\n      console.log(\"sending request\");\n    };\n    sendApiRequest();\n    return () => { };\n  }, [value]);\n\n  useEffect(() => {\n    if (timeoutRef.current !== 0) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = window.setTimeout(() => {\n      setShow(false);\n      timeoutRef.current = 0;\n    }, 2000);\n\n    return () => {\n      if (timeoutRef.current !== 0) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [show]);\n\n  useEffect(() => {\n    setDurationString(toHHMMSS(duration));\n    return () => { };\n  }, [duration]);\n\n  useEffect(() => {\n    setPlayedSecondString(toHHMMSS(playedSeconds));\n    return () => { };\n  }, [playedSeconds]);\n  const getWidth = () => {\n    return fullScreen\n      ? window.innerWidth + \"px\"\n      : size.width\n        ? size.width < 640\n          ? size.width + \"px\"\n          : \"640px\"\n        : \"640px\";\n  };\n  const action = (\n\n\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n\n  );\n  return (\n    <Container sx={{ paddingTop: \"1em\", maxWidth: \"640px\" }}>\n      {\" \"}\n      <div\n        onClick={() => {\n          setShow(true);\n          setPlaying(!playing)\n        }\n        }\n        style={{ position: \"relative\" }}\n        ref={ref}\n      >\n        <ReactPlayer\n          ref={videoRef}\n          onProgress={(state) => {\n            setProgress(state.played);\n            setPlayedSeconds(state.playedSeconds);\n          }}\n          height={fullScreen ? \"100%\" : 'auto'}\n\n          width={getWidth()}\n          onDuration={setDuration}\n          playing={playing}\n          url={url}\n        />\n\n        <Box\n          sx={{\n            position: \"absolute\",\n            bottom: 10,\n            left: 0,\n            width: \"100%\",\n            display: {\n              xs: show ? \"block\" : \"none\",\n              sm: show ? \"block\" : \"none\",\n              md: getMd(),\n            },\n          }}\n        >\n          <Centered sx={{ marginTop: \"1em\" }}>\n            <Box sx={{ width: \"85%\", backgroundColor: \"#000000ad\", p: 1 }}>\n              <Box\n                alignItems=\"center\"\n                justifyContent=\"space-between\"\n                display=\"flex\"\n                sx={{ alignItems: \"center\" }}\n              >\n                <IconButton\n                  onClick={() => setFullScreen(!fullScreen)}\n                  style={{ color: \"white\" }}\n                  aria-label=\"next\"\n                >\n                  {fullScreen ? <CloseFullscreenIcon /> : <OpenInFullIcon />}\n                </IconButton>\n                <Box\n                  alignItems=\"center\"\n                  display=\"flex\"\n                  sx={{ alignItems: \"center\" }}\n                >\n                  <IconButton style={{ color: \"white\" }} aria-label=\"previous\">\n                    <SkipPreviousIcon />\n                  </IconButton>\n                  <IconButton\n                    onClick={() => setPlaying(!playing)}\n                    sx={{\n                      margin: \"0 0.5em\",\n                      color: \"white\",\n                    }}\n                    aria-label=\"play/pause\"\n                  >\n                    {!playing ? (\n                      <PlayArrowIcon sx={{ height: 30, width: 30 }} />\n                    ) : (\n                      <PauseIcon sx={{ height: 30, width: 30 }} />\n                    )}\n                  </IconButton>\n                  <IconButton style={{ color: \"white\" }} aria-label=\"next\">\n                    <SkipNextIcon />\n                  </IconButton>\n                </Box>\n                <Typography id=\"seek\" sx={{ color: \"white\" }}>\n                  {playedSecondString}/{durationString}\n                </Typography>\n              </Box>\n              <Box sx={{ width: \"100%\" }}>\n                <Slider\n                  size=\"small\"\n                  value={progress * 100}\n                  aria-label=\"Small\"\n                  valueLabelDisplay=\"off\"\n                  color=\"secondary\"\n                  onChange={(v, n) => {\n                    if (videoRef.current) {\n                      let num: number = Array.isArray(n) ? n[0] : n;\n                      setProgress(num / 100);\n                      videoRef.current.seekTo(num / 100, \"fraction\");\n                    }\n                  }}\n                />\n              </Box>\n            </Box>\n          </Centered>\n        </Box>\n      </div>\n      <Box display=\"flex\" marginTop={1}>\n        <Box\n          display=\"flex\"\n          padding={\"0 2em 0 0\"}\n          color=\"primary\"\n          alignItems={\"center\"}\n        >\n\n          <VisibilityIcon color=\"primary\" />{\" \"}\n          <Typography color=\"primary\" variant=\"subtitle1\" component=\"span\">\n            {video.viewCount} Views\n\n          </Typography>\n        </Box>\n        <Divider orientation=\"vertical\" flexItem />\n        <Box display=\"flex\" padding={\"0 0 0 2em\"} alignItems={\"center\"}>\n\n          <IconButton\n            onClick={toggleVideoLike}\n            color={liked ? \"error\" : \"default\"}\n          >\n\n            <FavoriteIcon color=\"inherit\" />{\" \"}\n          </IconButton>{\" \"}\n          <Typography color=\"secondary\" variant=\"subtitle1\" component=\"span\">\n            {liked ? video.likeCount + 1 : video.likeCount } likes\n\n\n          </Typography>\n        </Box>\n      </Box>\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message=\"Tap Video to play or pause\"\n        action={action}\n      />\n\n    </Container>\n  );\n};\n\nexport default VideoView;\n","import React, { useState, useEffect } from \"react\";\n\nexport default  function useHover (\n  ref: React.RefObject<HTMLElement>,\n  defaultState= false,\n  delay = 0\n){\n  const [state, setState] = useState(defaultState);\n  \n  useEffect(() => {\n    const onHover = () => setState(true);\n    const onLeave = () => setTimeout(() => setState(false), delay);\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(\"mouseover\", onHover);\n      node.addEventListener(\"mouseleave\", onLeave);\n   \n    return () => {\n      \n      const node2 = node;\n      if (node2) {\n        node2.removeEventListener(\"mouseover\", onHover);\n        node2.removeEventListener(\"mouseleave\", onLeave);\n      }\n    };\n}\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ref]);\n\n  return state;\n};\n","import { useState, useEffect } from \"react\";\n// Define general type for useWindowSize hook, which includes width and height\nexport interface Size {\n  width: number | undefined;\n  height: number | undefined;\n}\n// Usage\n\nexport default function useWindowSize(): Size {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<Size>({\n    width: 640,\n    height: 100,\n  });\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.outerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}","import React, { useState, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport SendIcon from '@mui/icons-material/Send';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Avatar from \"@mui/material/Avatar\";\nimport Paper from \"@mui/material/Paper\";\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport UserApiSignleton from '../api/userApi';\nimport { VideoComment } from '../models/Video';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nconst CommentComponent: React.FC<{ videoId: string; }> = function ({ videoId }) {\n\n    const [loading, setLoading] = useState(false);\n    const [loading2, setLoading2] = useState(false);\n    const [comments, setComments] = useState<VideoComment[]>([])\n    const [hasError, setHasError] = useState(false)\n    const [body, setBody] = useState('')\n\n\n    const handleSubmit = async () => {\n        setLoading2(true)\n        const Api = UserApiSignleton();\n\n        try {\n            let c = await Api.addComment(videoId, body);\n            setComments([c, ...comments]);\n            setBody('')\n        } catch (error) {\n            alert(\"An error occured\");\n        }\n        setLoading2(false);\n\n    }\n    const retry = async () => {\n        setHasError(false);\n        setLoading(true);\n\n\n        const Api = UserApiSignleton();\n        try {\n            let c = await Api.getComments(videoId);\n            setComments(c);\n\n        }\n        catch (err) {\n            setHasError(true);\n        }\n        setLoading(false);\n    }\n    useEffect(() => {\n        const func = async () => {\n            setLoading(true)\n            const Api = UserApiSignleton();\n            try {\n                let c = await Api.getComments(videoId);\n                setComments(c);\n\n            }\n            catch (err) {\n                setHasError(true);\n            }\n            setLoading(false);\n        }\n        func();\n    }, [videoId])\n\n\n\n    return (\n\n        <Paper elevation={0}>\n            {loading2 && <LinearProgress />}\n            <Box padding=\"1em\">\n\n\n                <TextField\n\n                    rows={3}\n                    multiline\n                    margin=\"dense\"\n                    id=\"comment\"\n                    label=\"Comment\"\n                    type=\"text\"\n                    fullWidth\n                    value={body}\n                    onChange={(e) => {\n                        setBody(e.target.value)\n                    }}\n                    variant=\"standard\"\n                    InputProps={{\n                        endAdornment:\n                            (<InputAdornment position=\"end\">\n                                <IconButton\n                                    disabled={body.length === 0}\n                                    onClick={handleSubmit}\n\n                                >\n                                    <SendIcon />\n                                </IconButton>\n                            </InputAdornment>)\n\n                    }}\n                />\n          <div style={{marginBottom: '2em'}}/>\n          <Typography fontWeight=\"bold\" sx={{mb: 2}}> Comments</Typography>\n\n                {comments.map((c, i) => {\n                    let { user } = c;\n                    return (\n                        <Box display=\"flex\" key={'comment-' + i} sx={{mb: 2}}>\n\n                            <div style={{padding: '0 1.5em'}}>\n                                <Avatar\n                                    sx={{ width: 30, height: 30 }}\n                                    alt={user.fullName}\n                                    src={user.profilePic}\n                                />\n                            </div>\n\n                            <Typography paragraph>{c.body}</Typography>\n                        </Box>\n                    )\n                })}\n\n                {loading && <CircularProgress />}\n\n                {hasError && (\n                    <Box style={{ padding: '1em' }}>\n                        <Typography sx={{ mb: 2 }}>An error occurred</Typography>\n                        <Button onClick={retry}></Button>\n                    </Box>\n                )}\n            </Box>\n        </Paper>\n    );\n}\n\nexport default CommentComponent;","import React, { useState} from  'react';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from \"dayjs\"\n\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\n \nimport ApiLoader from \"../../components/ApiLoader\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport VideoView from \"../../components/VideoView\";\nimport {  useParams } from \"react-router\";\nimport Video from '../../models/Video';\nimport ApiSignleton from '../../api/api';\nimport { Channel } from '../../models/User';\nimport CommentComponent from '../../components/CommentComponent';\ndayjs.extend(relativeTime)\n\nconst View = () => {\n    const prefix = \"\"\nconst [video, setVideo] = useState<Video|undefined>();\n\nconst [loading, setLoading] = useState(true);\n\n\nlet { id } = useParams<{id: string}>();\n\n\n\n   const getVideo = async () => {\n      const Api = ApiSignleton();\n      setLoading(true)\n    \n     let v =  await Api.getVideo(id);\n     console.log(v, 'lion')\nsetVideo(v);\nsetLoading(false)\n    return v;\n   }\n   \n\n\n  const getBody = () => {\n    if(loading && !video) return <LoadingPageIndicator />\n    if(video)\n      return (\n        <Box style={{ paddingTop: \"4em\" }}>\n          <Grid container spacing={2}>\n            <Grid  item md={8} sm={12}>\n           <VideoView url={prefix + video.url} video={video} />\n            </Grid>\n            <Grid item md={4} sm={12}>\n              <Box padding={2}>\n        \n                <Typography variant=\"caption\">{typeof video.channel === \"string\" ? video.channel : (video.channel as Channel).name}</Typography>\n                <Typography variant=\"h4\">{video.title} </Typography>\n                <Typography variant=\"body2\">\n                {video.description}\n                </Typography>\n                <Typography sx={{mt: 1, mb: 2}} variant=\"caption\">\n                  {dayjs(video.createdAt).fromNow()}\n                </Typography>\n\n              <CommentComponent videoId={video.id} />\n              </Box>\n            </Grid>\n          </Grid>\n  \n    \n        </Box>\n      );\n    \n    \n    \n      return <p>lol</p>\n  }\n  return (\n    <div>\n      {getBody()}\n      <ApiLoader setLoading={setLoading} request={getVideo} onLoad={(v) => {\n           console.log(v);\n           setVideo(v as Video);\n           setLoading(false);\n         }} />\n    </div>\n  )\n};\n\nexport default View;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Container from \"@mui/material/Container\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from \"@mui/system\";\nimport Spacer from \"./Spacer\";\nimport Button from \"@mui/material/Button\";\n\nimport Divider from \"@mui/material/Divider\";\nimport User from \"../models/User\";\nimport AppLink from \"./AppLink\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { useForm } from \"react-hook-form\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Paper  from \"@mui/material/Paper\";\n\n\n\n\ntype CountryItem = {\n  value: string;\n  title: string;\n};\n\nconst Countries: CountryItem[] = [\n  {\n    value: \"nigeria\",\n    title: \"Nigeria\",\n  },\n  {\n    value: \"civ\",\n    title: \"Cote'ivore\",\n  },\n  {\n    value: \"ghana\",\n    title: \"Ghana\",\n  },\n  {\n    value: \"the_gambia\",\n    title: \"The Gambia\",\n  },\n];\n\n\n\n\n\nconst CardDetails: React.FC<{ user: User }> = ({ user }) => {\n\n  const [showDetails, setShowDetails] = useState(false);\n\n\n\n  if (!showDetails) return <Button variant=\"contained\" onClick={() => setShowDetails(true)}>Show Card Details </Button>\n  if (user.has_billing_card) {\n    return (<React.Fragment>\n      <Typography variant=\"caption\" color=\"GrayText\">\n        Card Details\n      </Typography>\n      <Box display=\"flex\" sx={{ mb: 1, maxWidth: '200px' }} alignItems=\"center\">    <Typography style={{ flex: 1 }} >{user.billing_card_brand || \"none\"} {\"->\"} {user.billing_card_last4} </Typography>\n        <AppLink to=\"/main/update-billing\">\n          Update\n        </AppLink>\n      </Box>\n      <Button onClick={() => setShowDetails(false)}>Hide Card Details </Button>\n\n    </React.Fragment>)\n  }\n  return (\n    <Box display=\"flex\" sx={{ mb: 1, maxWidth: '200px' }} alignItems=\"center\">    <Typography style={{ flex: 1 }} >No Card Details </Typography>\n      <AppLink to=\"/main/update-billing\">\n        Add\n      </AppLink>\n    </Box>\n  )\n}\n\nconst TabOne: React.FC<{ user?: User }> = (props) => {\n  const base = \"\";\n  const [open, setOpen] = useState(false);\n  const [user, setUser] = useState(props.user)\n  const [file, setFile] = useState<any>();\n  const [loadedCurrent, setLoadedCurrent] = useState(0)\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false)\n  const handleClick = (m: string) => {\n    setMessage(m);\n\n\n\n    setOpen(true);\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  }\n  const theme = useTheme();\n  const {\n    register,\n    handleSubmit,\n\n  } = useForm({});\n  const [country] = useState(Countries[0].value);\n  const userApi = UserApiSignleton()\n  const onSubmit = (data: any) => {\n    setLoading(true);\n    let keys = Object.keys(data);\n    let v: any = { ...user };\n    for (let key of keys) {\n\n      if (!data[key] || (v && (data[key] === (v[key])))) delete data[key];\n\n    }\n\n    userApi.updateDetails(data)\n      .then(() => {\n\n        setLoading(false);\n        handleClick('Details Updated successfully')\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false);\n        handleClick('An error occured while trying to update')\n      })\n\n  };\n\n  const onFileChange = (e: any) => {\n    let f = e.target.files[0];\n    setFile(f);\n\n\n  }\n  const action = (\n\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n\n  );\n  const handleUpload = function (url: string, name: string) {\n    if (!file) return;\n\n\n    let xhr = new window.XMLHttpRequest();\n    console.log(name)\n    // TODO hanle error\n\n    xhr.open(\"POST\", url);\n    xhr.setRequestHeader('authorization', `Bearer ${window.localStorage.getItem('jwt') || 'None'}`)\n    xhr.upload.addEventListener(\"progress\", ({ loaded, total }) => {\n      let loaded2 = Math.ceil((loaded / total) * 100)\n      setLoadedCurrent(loaded2);\n\n    })\n    let data = new FormData();\n    data.append(name, file);\n    xhr.send(data);\n\n    xhr.addEventListener(\"readystatechange\", (e: any) => {\n      if (e && e.target) {\n        if (e.target.readyState === 4) {\n          let c: User = JSON.parse(xhr.response);\n          // console.log(up)\n          // setVideoId(up.id)\n          setUser(c);\n\n          setFile(undefined)\n          setLoadedCurrent(0);\n          alert(\"done\")\n          // setLoading(false);\n\n\n\n        }\n        // setDone(true);\n      }\n\n    })\n\n\n  }\n\n\n  return (\n    <Container maxWidth=\"md\" >\n\n  \n      <Typography sx={{ mt: 2, mb: 2, color: 'text.primary' }} fontWeight=\"bold\">\n        Profile Picture\n      </Typography>\n      <Box sx={{ mt: 2 }}>\n<Paper>\n  <LinearProgress variant=\"determinate\" value={loadedCurrent} />\n \n<Box padding=\"2em\">\n        <Avatar\n          alt={user?.fullName || \"None\"}\n          src={user?.profilePic || \"/images/me.jpeg\"}\n          sx={{ width: 100, height: 100 }}\n        />\n        <div  style={{marginTop: '20px'}} />\n        <OutlinedInput\n          id=\"file-input\"\n          type={\"file\"}\n          onChange={onFileChange}\n\n          inputProps={{\n            accept: \"image/png, image/jpeg\",\n          }}\n\n          startAdornment={\n            <InputAdornment position=\"start\">\n              <IconButton\n                onClick={() => handleUpload(`${base}/api/user/upload-profile-pic`, 'profile')}\n\n              >\n                <CloudUploadIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                onClick={() => {\n                  // let l: any = document.getElementById('file-input');\n                  // setFile(null)\n                  // if (l) l.value = \"\"\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n</Box>\n</Paper>\n\n        <Spacer space={20} />\n        <Divider variant=\"middle\" /> <Spacer space={20} />\n        <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n          {loading && <LinearProgress />}\n          <Typography sx={{ mt: 2, mb: 2, color: 'text.primary' }} fontWeight=\"bold\">\n            Contact Details\n          </Typography>\n          <FormControl fullWidth>\n            <TextField\n              defaultValue={user?.fullName}\n              id=\"fullName\"\n              label=\"Full Name\"\n              variant=\"outlined\"\n              InputProps={{\n                type: \"text\",\n              }}\n\n              {...register(\"fullName\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n          <FormControl fullWidth>\n            <TextField\n              id=\"email\"\n              defaultValue={user?.email}\n              label=\"Email\"\n              variant=\"outlined\"\n              InputProps={{\n                type: \"email\",\n              }}\n              {...register(\"emailAddress\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n\n          <FormControl fullWidth>\n            <TextField\n              variant=\"filled\"\n              type=\"date\"\n              defaultValue={user?.birthdate}\n              InputProps={{ inputProps: { max: \"12-12-2021\" } }}\n\n              {...register(\"dob\")}\n            />\n          </FormControl>\n          <Spacer space={20} />\n\n          <InputLabel id=\"demo-simple-select-label\">Country</InputLabel>\n          <FormControl fullWidth>\n            {\" \"}\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={country}\n              label=\"Country\"\n\n              {...register(\"country\")}\n            >\n              {Countries.map(({ value, title }, index) => (\n                <MenuItem key={\"country\" + index} value={value}>\n                  {title}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <Spacer space={20} />\n          <Button type=\"submit\" variant=\"contained\">\n            Update Details\n          </Button>\n        </form>\n        <Spacer space={20} />\n        <Divider variant=\"middle\" /> <Spacer space={20} />\n\n        {user && (<CardDetails user={user} />)}\n\n\n\n      </Box>\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={message}\n        action={action}\n      />\n    </Container>\n  );\n};\n\nexport default TabOne;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Container from \"@mui/material/Container\";\nimport Button from \"@mui/material/Button\";\nimport { Channel } from \"../models/User\";\nimport AppLink from \"./AppLink\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\nconst TabTwo: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n  const [loadingResponse, setLoadingResponse] = useState(false)\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [channels, setChannels] = useState<Channel[]>([]);\n  const [channelUnfollowed, setChannelUnfollowed] = useState<Channel | null>(\n    null\n  );\n\n\n\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request two\");\n      setShown(true)\n\n      const userApi = UserApiSignleton();\n\n      userApi.getFollowing()\n        .then((subs) => {\n          setChannels(subs.map(s => s.channel))\n          setLoading(false)\n        })\n        .catch(err => {\n\n          setOpen(true);\n          setMessage(err.message)\n          setLoading(false)\n\n        })\n    }\n\n  }, [shown, showing])\n  const handleClick = (channelToUnfollow: Channel) => {\n    if (loadingResponse) return;\n    const userApi = UserApiSignleton();\n    setLoadingResponse(true);\n\n    userApi.unSubscribe(channelToUnfollow.id)\n      .then(ans => {\n        console.log(ans);\n        setMessage(\"unfollowed \" + channelToUnfollow.name);\n        setChannelUnfollowed(channelToUnfollow);\n        setChannels(channels.filter((c) => c.id !== channelToUnfollow.id));\n        setLoadingResponse(false)\n        setOpen(true);\n      })\n      .catch(err => {\n        // TODO handle error properly\n        setLoadingResponse(false);\n        setMessage(\"An error occured\")\n        setOpen(true);\n\n      })\n\n\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    if (reason !== \"undo\") {\n      console.log(\"unfollowed \" + channelUnfollowed?.name);\n    }\n\n    setOpen(false);\n    setChannelUnfollowed(null);\n  };\n\n  const handleUndo = (event: React.SyntheticEvent | React.MouseEvent) => {\n    if (channelUnfollowed !== null) {\n      if (loadingResponse) return;\n      const userApi = UserApiSignleton();\n      setLoadingResponse(true);\n\n      userApi.subscribe(channelUnfollowed.id)\n        .then(sub => {\n          setChannels([sub.channel, ...channels]);\n          setChannelUnfollowed(null);\n          setMessage(\"Subscribed to \" + sub.channel.name)\n          setLoadingResponse(false)\n          setOpen(true);\n        }).catch(err => {\n          // TODO handle error properly\n          setLoadingResponse(false);\n          setMessage(\"An error occured\")\n          setOpen(true);\n\n        })\n\n    }\n    // handleClose(event, \"undo\");\n  };\n\n  const action = (\n    <React.Fragment>\n      <Button color=\"secondary\" size=\"small\" onClick={handleUndo}>\n        UNDO\n      </Button>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  if (loading && channels.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"sm\" style={{ paddingTop: \"2em\" }}>\n      {channels.map((creator, index) => {\n        return (\n          <Box display=\"flex\" sx={{mb: 1}} key={\"channel-\" + index}>\n            <AppLink\n              to={\"/main/creator/\" + creator.id}\n\n              style={{ marginBottom: 10, flex: 1, display: \"flex\", }}\n              sx={{\n                textTransform: \"none\",\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"flex-start\",\n                color: \"inherit\",\n              }}\n            >\n              <Avatar alt={creator.name} src={creator.logo} />\n              <Box padding=\"0 0 0 1em\">\n                <Typography fontWeight=\"bold\" sx={{ color: 'text.primary' }}>\n                  {creator.name}\n                </Typography>\n                <Typography component=\"p\" variant=\"subtitle2\" color=\"GrayText\" align=\"left\">\n                  {creator.follower_count +\n                    (creator.follower_count === 1\n                      ? \" follower\"\n                      : \" followers\")}\n                </Typography>\n              </Box>\n            </AppLink>\n\n            <Button\n\n              style={{ display: \"inline\" }}\n              onClick={() => handleClick(creator)}\n            >\n              Unfollow\n            </Button>\n          </Box>\n        );\n      })}\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={message}\n        action={action}\n      />\n    </Container>\n  );\n};\n\n\nexport default TabTwo;\n","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Chip from '@mui/material/Chip';\nimport Container from \"@mui/material/Container\";\nimport Spacer from \"./Spacer\";\nimport AppLink from \"./AppLink\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport { shortenText } from \"../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\n\n\nconst TabThree: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n\n  const [viewHistory, setViewHistory] = useState<ViewHistory[]>([]);\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request three\");\n      const userApi = UserApiSignleton();\n      userApi.viewHistory().then((v) => {\n        setLoading(false)\n        setViewHistory(v);\n\n      }).catch(() => {\n        setLoading(false);\n      });\n\n\n      setShown(true)\n    }\n\n  }, [shown, showing])\n\n  if (loading && viewHistory.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"md\" >\n      <Spacer space={30} />\n      {viewHistory.map(({ video, channel }, index) => {\n        let variant: \"outlined\" | \"filled\" = video.videoType === 'restricted' ? 'filled': 'outlined';\n        return (<Box key={'view-history-' + index} sx={{mb: 1}} display=\"flex\" alignItems=\"center\">\n\n          <div style={{ width: \"40%\", maxWidth: '230px' }}>\n            <Link to={\"/main/watch/\" + video.id} >\n              <img style={{ display: 'block', width: '100%' }} src={video.thumbnail} alt={video.title} />\n            </Link>\n          </div>\n          <Box flex={1} padding=\"1em\">\n            <Typography fontWeight=\"bold\" sx={{ color: 'text.primary' }}>\n              {video.title}\n            </Typography>\n            <Typography sx={{ color: 'text.primary' }} fontSize={\".85rem\"} >\n              {shortenText(video.description || \"No description\", 100)}\n            </Typography>\n            <AppLink to={\"/main/channel/\" + channel.id} sx={{ mt: 1, textTransform: 'none', padding: 0 }}>\n              <Typography sx={{ color: 'text.primary' }} variant=\"subtitle2\"  >\n                {channel.name}\n              </Typography>\n            </AppLink>\n            <div style={{marginTop: '0.5em'}}>\n            <Chip variant={variant} label={video.videoType} size=\"small\" />\n            </div>\n          \n\n\n          </Box>\n\n        </Box>)\n      })}\n    </Container>\n  )\n}\n\nexport default TabThree;","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Container from \"@mui/material/Container\";\nimport Spacer from \"./Spacer\";\nimport AppLink from \"./AppLink\";\nimport { shortenText } from \"../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport { VideoPurchase } from \"../models/Video\";\nimport UserApiSignleton from \"../api/userApi\";\nimport Centered from \"./Centered\";\n\n\ninterface KosyTabProps {\n  showing: boolean;\n}\n\n\n\n\n\n\n\nconst TabFour: React.FC<KosyTabProps> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [loading, setLoading] = useState(true)\n\n\n  const [purchases, setPurchases] = useState<VideoPurchase[]>([]);\n\n\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log(\"request four\");\n      const userApi = UserApiSignleton();\n      userApi.purchases().then((v) => {\n        setLoading(false)\n        setPurchases(v);\n\n      }).catch(() => {\n        setLoading(false);\n      });\n\n      setShown(true)\n    }\n\n  }, [shown, showing])\n  if (loading && purchases.length === 0) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  return (\n    <Container maxWidth=\"md\" >\n      <Spacer space={30} />\n      {purchases.map(({ videoPurchased: video, amountPaid: price, channel, accessCode }, index) => {\n\n        return (<Box sx={{mb: 1}} key={'view-history-' + index} display=\"flex\" alignItems=\"center\">\n\n          <div style={{ width: \"40%\", maxWidth: '230px' }}>\n            <Link to={\"/main/restricted/\" + accessCode} >\n              <img style={{ display: 'block', width: '100%' }} src={video.thumbnail} alt={video.title} />\n            </Link>\n          </div>\n          <Box flex={1} padding=\"1em\">\n            <Typography sx={{ color: 'text.primary' }} fontWeight=\"bold\" >\n              {video.title}\n            </Typography>\n            <Typography sx={{ color: 'text.primary' }} fontSize={\".85rem\"} >\n              {shortenText(video.description, 80)}\n            </Typography>\n\n            <AppLink to={\"/main/channel/\" + channel.id} sx={{ mt: 1, textTransform: 'none', padding: 0 }}>\n              <Typography variant=\"subtitle2\"  >\n                {channel.name}\n              </Typography>\n            </AppLink>\n            <Typography sx={{ color: 'success.main' }} fontWeight=\"bold\" component=\"p\" variant=\"caption\"  >\n              {price}(NGN)\n            </Typography>\n          </Box>\n\n        </Box>)\n      })}\n    </Container>\n  )\n}\n\nexport default TabFour;","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Paper from \"@mui/material/Paper\";\nimport { AppState } from \"../../store\";\nimport Container from \"@mui/material/Container\";\nimport { Helmet } from \"react-helmet\";\nimport Spacer from \"../../components/Spacer\";\nimport TabOne from \"../../components/TabOne\";\nimport TabTwo from \"../../components/TabTwo\";\nimport TabThree from \"../../components/TabThree\";\nimport TabFour from \"../../components/TabFour\";\n \n\n\n\n\n\n\nconst Profile = () => {\n  const TabNames = [\"Profile\", \"Channels\", \"History\", \"Purchases\"]\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [value, setValue] = useState(0);\n\n  useEffect(() => {\n    let pathName = window.location.hash.slice(1)\n    if (pathName) {\n      const dictionary: any = {};\n      const TabNames2 = [\"Profile\", \"Channels\", \"History\", \"Purchases\"]\n      TabNames2.forEach((name, index) => {\n        dictionary[name.toLocaleLowerCase()] = index;\n      })\n      dictionary[\"channel\"] = 1;\n      let index = dictionary[pathName];\n      if (index) {\n        setValue(index)\n      }\n\n    }\n\n  }, [])\n  const handleChange1 = (event: React.SyntheticEvent, newValue: number) => {\n    setValue(newValue);\n  };\n\n\n  return (\n    <Box style={{ paddingTop: \"4em\", position: \"relative\" }}>\n      <Helmet>\n\n        <title>{user?.fullName + \" / \" + TabNames[value]}</title>\n\n      </Helmet>\n      <Paper style={{ padding: \"1em 0 0\", border: 'none', boxShadow: 'none' }} elevation={0}>\n        <Container maxWidth=\"md\">\n          <Typography variant=\"h5\">{user?.fullName || \"None\"}</Typography>\n        </Container>\n      </Paper>\n\n      <Paper style={{ position: \"sticky\", top: 64, left: 0, zIndex: 99, borderTop: 'none' }} square>\n        <Container maxWidth=\"md\">\n          <Box\n            sx={{\n              width: \"100%\",\n              bgcolor: \"background.paper\",\n              position: \"sticky\",\n              top: 64,\n              left: 0,\n              zIndex: 99,\n            }}\n          >\n            <Tabs\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              value={value}\n              onChange={handleChange1}\n            >\n              <Tab href=\"#profile\" label=\"Profile\" />\n              <Tab href=\"#channel\" label=\"Channels\" />\n              <Tab href=\"#history\" label=\"History\" />\n              <Tab href=\"#purchases\" label=\"Purchases\" />\n            </Tabs>\n          </Box>\n        </Container>\n      </Paper>\n\n      <Box style={{ display: (value === 0 ? 'block' : 'none') }}>\n        <TabOne user={user} />\n      </Box>\n      <Box style={{ display: (value === 1 ? 'block' : 'none') }}>\n        <TabTwo showing={value === 1} />\n      </Box>\n      <Box style={{ display: (value === 2 ? 'block' : 'none') }}>\n        <TabThree showing={value === 2} />\n      </Box>\n\n      <Box style={{ display: (value === 3 ? 'block' : 'none') }}>\n        <TabFour showing={value === 3} />\n      </Box>\n      <Spacer space={30} />\n\n\n    </Box>\n  );\n};\n\nexport default Profile;\n","import * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport { Link } from 'react-router-dom';\nimport { useScrollTrigger } from '@mui/material';\n\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n  children: React.ReactElement;\n}\n\nfunction ElevationScroll(props: Props) {\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n    target: window ? window() : undefined,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n}\n\nexport default function ButtonAppBar(v: any) {\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <ElevationScroll {...v.props}>\n      < AppBar>\n        <Toolbar>\n        <Link to=\"/\" style={{display: 'block', textDecoration: 'none', color: 'white', flex: 1 }} >\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Ereder\n          </Typography>\n          </Link>\n          <Link to=\"/login\" style={{display: 'block', textDecoration: 'none', color: 'white'}} >\n          <Button color=\"inherit\">Login</Button>\n          </Link>\n        </Toolbar>\n      </AppBar>\n      </ElevationScroll>\n    </Box>\n  );\n}","import { Typography } from '@mui/material'\nimport React from 'react'\nimport ButtonAppBar from './ButtonAppBar'\n\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n  \n\n}\nconst LayoutOpen: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <div className=\"layout\">\n          <ButtonAppBar />\n            {children}\n\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </div>\n    )\n}\n\nexport default LayoutOpen;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nimport Button from \"@mui/material/Button\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Centered from \"../../components/Centered\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"../../store\";\nimport { Redirect } from \"react-router\";\nimport ApiSignleton from \"../../api/api\";\n\nconst BecomeACreator = () => {\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [loading, setLoading] = useState(false)\n  const [open, setOpen] = useState(false)\n  const [reason, setReason] = useState('')\n  const dispatch = useDispatch();\n  const Api = ApiSignleton();\n\n\n\n  const activateCreatorMode = () => {\n    setLoading(true)\n    Api.becomeCreator().then(({ isCreator }) => {\n      if (isCreator) {\n        dispatch({ type: 'become_creator' })\n      }\n      else {\n        setReason('Failed to make you a creator')\n        setOpen(true)\n      }\n    }).catch(err => {\n      setReason(\"Request Could not be completed at this time\"); setOpen(true)\n    })\n  }\n\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        Failed\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {reason}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n\n        <Button onClick={handleClose} autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n\n\n\n  return (\n    <Box style={{ paddingTop: \"4em\", minHeight: 'calc(100vh - 64px)' }}>\n\n      {user?.isCreator && (<Redirect to=\"/creator/dashboard\" />)}\n\n      <Container maxWidth=\"sm\" style={{ height: '100%' }} >\n        <Centered sx={{ height: '100%' }}>\n          <Paper style={{ padding: '2em', textAlign: 'center' }} elevation={3}>\n            <img style={{ width: '100%', maxWidth: 350 }} alt=\"Become a creator\" src=\"/images/share.png\" />\n\n            <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} variant=\"h4\">\n              Become a Creator\n            </Typography>\n\n            <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} >\n              Join over <Typography component=\"span\" color=\"#e770de\"> 1000</Typography> creators who create everyday on Ereder\n            </Typography>\n\n            <Typography fontSize={\".9em\"} color=\"GrayText\" align=\"center\" sx={{ mt: 2, mb: 2 }} >\n              By becoming a creator you are required to comply with our <a href=\"/content-policy\">content policy</a> and follow all the <a href=\"/community-guidelines\">Community Guidelines</a>\n            </Typography>\n\n            <Button onClick={activateCreatorMode} variant=\"contained\" style={{ minWidth: 103 }}>{loading ? <CircularProgress size={30} color=\"inherit\" /> : 'Continue'}</Button>\n          </Paper>\n        </Centered>\n{dialog}\n      </Container>\n\n    </Box>\n  );\n};\n\nexport default BecomeACreator;\n","import { Channel, Wallet, WithdrawalRequest } from \"../models/User\";\nimport axios, { AxiosInstance } from \"axios\";\nimport ViewHistory from \"../models/ViewHistory\";\nimport Video, { Like, VideoPurchase } from \"../models/Video\";\nimport { Subscription } from \"react-hook-form/dist/utils/subject\";\n\nexport interface IBankAccountDetails {\n  bankName: string;\n  bankAccountName: string;\n  bankAccountNumber: string;\n}\ntype analyticsValid = \"subscription\" | \"view\" | \"like\" | \"purchase\" | \"video\";\n\ntype Analytic =  Array<ViewHistory | Like | Video | Subscription | VideoPurchase>;\ninterface ICreatorApi {\n  _api: AxiosInstance;\n  getChannel(): Promise<Channel>;\n  editChannel(channel: any): Promise<Channel>;\n  getBankDetails(): Promise<IBankAccountDetails>;\n  updateBankDetails(data: IBankAccountDetails): Promise<IBankAccountDetails>;\n  analytics(model: analyticsValid, populate?: string, since?: Date): Promise<Analytic>;\n  uploadVideo(uploadId: string, data: any): Promise<Video>;\n  deleteItems(model: 'video' | 'comment', data: string[]): Promise<Array<Video | Comment>>;\n  getWallet(): Promise<Wallet>;\n  getRequests(): Promise<WithdrawalRequest[]>;\n  createRequest(amount: number): Promise<WithdrawalRequest>;\n  \n}\n\nclass CreatorApi implements ICreatorApi {\n  _api: AxiosInstance;\n  constructor() {\n    this._api = axios.create({\n      baseURL: \"/api/creator\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n async createRequest(amount: number): Promise<WithdrawalRequest> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<WithdrawalRequest>(`/requests`, {amount}, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async getRequests(): Promise<WithdrawalRequest[]> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<WithdrawalRequest[]>(`/requests`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async getWallet(): Promise<Wallet> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<Wallet>(`/wallet`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n\n\n async deleteItems(model: \"video\" | \"comment\", data: string[]): Promise<(Video | Comment)[]> {\n  let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n  const response = await this._api.post<Array<Video | Comment>>(`/delete/${model}`, {records: data.join(',')}, {\n    headers: {\n      authorization: `Bearer ${config.token}`,\n    },\n  });\n  return response.data;\n  }\n\n\n\n  async uploadVideo(uploadId: string, data: any): Promise<Video> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<Video>(`/video/${uploadId}`, data, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async analytics(model: analyticsValid,populate?: string, since?: Date): Promise<Analytic> {\n\n    let url = `/analytics/${model}`;\n    let str = []\n    if(populate) {\n      str.push('populate=' + populate)\n    }\n    if(since ) {\n       str.push('since=' +  since.getTime())\n    }\n\n    if(str.length > 0) {\n      let s = '?' +  (str.length > 1  ? str.join('&'): str[0]);\n      url+= s;\n\n    }\n\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<Analytic>(url, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  \n  async updateBankDetails(\n    data: IBankAccountDetails\n  ): Promise<IBankAccountDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<IBankAccountDetails>(\n      `/bank-details`,\n      data,\n      {\n        headers: {\n          authorization: `Bearer ${config.token}`,\n        },\n      }\n    );\n    return response.data;\n  }\n\n  async editChannel(channel: any): Promise<Channel> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.post<Channel>(`/channel`, channel, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n  async getChannel(): Promise<Channel> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<Channel>(`/channel`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n\n  async getBankDetails(): Promise<IBankAccountDetails> {\n    let config = { token: window.localStorage.getItem(\"jwt\") || \"NO_TOKEN\" };\n    const response = await this._api.get<IBankAccountDetails>(`/bank-details`, {\n      headers: {\n        authorization: `Bearer ${config.token}`,\n      },\n    });\n    return response.data;\n  }\n}\n\nexport default function CreatorApiSignleton(): ICreatorApi {\n  let instance: ICreatorApi | undefined;\n  if (!instance) instance = new CreatorApi();\n  return instance;\n}\n","import React, { useState, useEffect } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport AppLink from \"../../../components/AppLink\";\nimport { Channel } from \"../../../models/User\";\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\nimport Centered from '../../../components/Centered';\nimport CreatorApiSingleton, { IBankAccountDetails } from '../../../api/creatorApi';\n\n\nconst ChannelInfoText = `These Details would be displayed when someone navigates to your Channel page.\nPlease Note that the details here must comply with our Community Guidelines`\n\nconst ChannelAnalyticsText = `Analtytics on your Channel based on user interaction. \nYou can view a full summary of analytics by going to the Analytics section in the sidebar`;\n\nconst BankInfoText = `Information that we would use to pay your withdrawal requests`;\n\n\n\n\nconst BankDetailsTab: React.FC<{ showing: boolean }> = ({ showing }) => {\n  const [shown, setShown] = useState(false);\n  const [bankDetails, setBankDetails] = useState<IBankAccountDetails | undefined>();\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    if (!shown && showing) {\n      console.log('load details');\n      if (bankDetails) return;\n      const Api = CreatorApiSingleton();\n      Api.getBankDetails()\n        .then(v => {\n          setBankDetails(v);\n          setLoading(false);\n\n        })\n        .catch(err=> {\n          console.log(err)\n          setLoading(false)\n        })\n\n      setShown(true)\n    }\n  }, [shown, showing, bankDetails])\n\n  if(!showing) {\n    return <React.Fragment/>;\n  }\n\n\n  if (loading && !bankDetails) {\n    return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n      <Centered sx={{ height: '100%' }}>\n        <Box>\n          <CircularProgress />\n          <Typography>Loading</Typography>\n        </Box>\n      </Centered>\n    </Container>)\n  }\n  else if (bankDetails) {\n    return (\n      <React.Fragment>\n        <Typography variant=\"caption\" color=\"GrayText\">\n          Bank Account Name\n        </Typography>\n        <Typography sx={{ mb: 1 }}>{bankDetails.bankAccountName}</Typography>\n\n\n\n        <Typography variant=\"caption\" color=\"GrayText\" >\n          Bank Account Number\n        </Typography>\n\n\n\n        <Typography fontSize={'.9em'} sx={{ mb: 1 }}>\n          {bankDetails.bankAccountNumber}\n        </Typography>\n\n        <Typography variant=\"caption\" color=\"GrayText\">\n          Bank Name\n        </Typography>\n        <Typography sx={{ mb: 1 }}>{bankDetails.bankName}</Typography>\n\n      </React.Fragment>\n    )\n  }\n  else\n    {\n      return (\n      <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n        <Centered sx={{ height: \"60vh\" }}>\n          <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n          <AppLink to=\"/\" doNotUseButton>\n            Go Back\n          </AppLink>\n        </Centered>\n      </Box>\n    );\n}\n}\n\n\n\n\n\nconst CreatorDashboard = () => {\n  const [channel, setChannel] = useState<Channel>();\n  const [loading, setLoading] = useState(true)\n  const [open, setOpen] = React.useState(false);\n  const [showing, setShowing] = useState(false)\n  const [dialogHeader, setDialogHeader] = useState(\"\")\n  const [dialogContent, setDialogContent] = useState(\"\")\n\n  const [errrorMessage, setErrorMessage] = useState(\"\");\n  const toggleBankDetails = () => {\n    setShowing(!showing);\n  }\n\n  useEffect(() => {\n    const Api = CreatorApiSingleton();\n    if (channel) {\n      setLoading(false)\n      return;\n    }\n    Api.getChannel().then(ch => {\n      setChannel(ch);\n      setLoading(false);\n    }).catch((e) => {\n      if (e.response) {\n        setLoading(false)\n        console.log(e.response);\n        switch (e.response.status) {\n\n\n          case 404:\n            setErrorMessage(e.response.data.message);\n\n            break;\n\n          case 500:\n            setErrorMessage(\"Server Error\");\n\n            break;\n          default:\n            setErrorMessage(\"Unknown Error\")\n            break;\n        }\n        setLoading(false)\n        return\n\n      }\n      setErrorMessage(e.message);\n      setLoading(false)\n\n    })\n\n  }, [channel])\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const dialog = (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        {dialogHeader}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {dialogContent}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n\n        <Button onClick={handleClose} autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  if (loading) {\n    return (\n      <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n      >\n        <LoadingPageIndicator />\n      </Container>\n    );\n  }\n\n  if (channel) return (\n    <Container\n\n\n      style={{ marginTop: \"64px\", minHeight: '80vh' }}\n      sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n    >\n      <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Channel Dashboard</Typography>\n\n\n      <Grid container spacing={2}>\n        <Grid item sm={12} md={6} style={{ flex: 1 }}>\n          <Paper sx={{ minWidth: '300px' }}>\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Channel Information</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Channel Info Help\")\n                  setDialogContent(ChannelInfoText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n              <Typography variant=\"caption\" color=\"GrayText\">\n                Channel Name\n              </Typography>\n              <Typography sx={{ mb: 1 }}>{channel.name}</Typography>\n\n\n\n              <Typography variant=\"caption\" color=\"GrayText\" >\n                Channel Description\n              </Typography>\n\n\n\n              <Typography fontSize={'.9em'} sx={{ mb: 1 }}>\n                {channel.short_description || \"No description provided\"}\n              </Typography>\n\n\n\n              <Typography variant=\"caption\" color=\"GrayText\" >\n                Channel About Section\n              </Typography>\n              <Typography paragraph fontSize={'.9em'} sx={{ mb: 1 }}>\n                {channel.about || \"No about provided\"}\n              </Typography>\n\n              <AppLink to=\"/creator/edit-channel\">\n                Edit Channel Info\n              </AppLink>\n\n            </Box>\n          </Paper>\n        </Grid>\n\n        <Grid item sm={12} md={6} style={{ flex: 1 }}>\n          <Paper sx={{ minWidth: '300px', }}>\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Channel Analytics</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Channel Analytics Help\")\n                  setDialogContent(ChannelAnalyticsText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n              <Typography variant=\"caption\" color=\"GrayText\">\n                Total Followers\n              </Typography>\n\n              <Typography variant=\"h5\" component=\"p\" sx={{ mb: 1 }} >{channel.follower_count}</Typography>\n              <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                Total Videos\n              </Typography>\n\n              <Typography paragraph sx={{ mb: 1 }}>\n                {channel.video_count || \"0\"}\n              </Typography>\n\n              <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                Total Views\n              </Typography>\n\n              <Typography paragraph sx={{ mb: 1 }}>\n                {channel.total_views || \"0\"}\n              </Typography>\n\n\n            </Box>\n          </Paper>\n        </Grid>\n        <Grid item sm={12} md={6}>\n\n          <Paper sx={{ minWidth: '300px' }}>\n\n            <Box padding=\"1em\">\n              <div style={{ display: 'flex' }}>\n                <Typography variant=\"h6\" style={{ flex: 1 }}>Bank Information</Typography>\n                <IconButton color=\"info\" onClick={() => {\n                  setDialogHeader(\"Bank Info Help\")\n                  setDialogContent(BankInfoText);\n                  handleClickOpen();\n                }}>\n                  <HelpOutlineIcon />\n                </IconButton>\n              </div>\n                <BankDetailsTab showing={showing} />\n           <div style={{display: \"flex\", maxWidth: 300}}>\n           <Button onClick={toggleBankDetails}> {showing? 'Hide Bank Details' : 'Show Bank Details'}</Button>\n           <div style={{flexGrow: 1}} />\n           <AppLink to=\"/creator/edit-bank-account\">Edit Details </AppLink>\n           </div>\n            </Box>\n\n          </Paper>\n        </Grid>\n      </Grid>\n      {dialog}\n    </Container>\n  );\n  return (<Container style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n    sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n  >\n    <Centered sx={{ height: '100%' }}>\n      <Typography>An error occured {errrorMessage}</Typography>\n    </Centered>\n  </Container>)\n};\n\nexport default CreatorDashboard;\n","import * as React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport IconButton from \"@mui/material/IconButton\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport AddIcon from \"@mui/icons-material/Add\";\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport Switch from \"@mui/material/Switch\";\nimport { useDispatch  } from \"react-redux\";\n\nimport AppLink from \"./AppLink\";\nimport Home  from \"@mui/icons-material/Home\";\n\nconst drawerWidth = 200;\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n}\n\ninterface IDrawerMenuItem {\n  title: string;\n  url: string;\n  Icon: any;\n}\n\nconst DrawerItems: IDrawerMenuItem[] = [\n  { title: \"Dashboard\", url: \"/dashboard\", Icon: DashboardIcon },\n  { title: \"Create Video\", url: \"/add-video\", Icon: AddCircleIcon },\n  { title: \"Edit Channel\", url: \"/edit-channel\", Icon: EditIcon },\n  { title: \"Bank Account\", url: \"/edit-bank-account\", Icon: EditIcon },\n  { title: \"Analytics\", url: \"/analytics\", Icon: AnalyticsIcon },\n  { title: \"Income\", url: \"/income\", Icon: AccountBalanceWalletIcon },\n\n];\nexport default function CreatorHeader(props: Props) {\n  let location = useLocation();\n  const dispatch = useDispatch();\n  // const state = useSelector((state: AppState) => state.settings.darkMode);\n  const [dark, setDark] = React.useState(false);\n  const { window } = props;\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const [settingsAnchorEl, setSettingsAnchorEl] = React.useState(null);\n  const isSettingsMenuOpen = Boolean(settingsAnchorEl);\n\n  const handleSettingsMenuClose = () => {\n    setSettingsAnchorEl(null);\n  };\n\n  const handleSettingsMenuOpen = (event: any) => {\n    setSettingsAnchorEl(event.currentTarget);\n  };\n\n  const menuId2 = \"settings-menu\";\n  const settingsMenu = (\n    <Menu\n      anchorEl={settingsAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId2}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isSettingsMenuOpen}\n      onClose={handleSettingsMenuClose}\n    >\n      <MenuItem\n        onClick={() => {\n          dispatch({ type: \"change-theme\", value: !dark });\n          setDark(!dark);\n          //  handleSettingsMenuClose();\n        }}\n      >\n        <Switch checked={dark} size=\"small\" /> <span> Dark Mode </span>\n      </MenuItem>\n    </Menu>\n  );\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <Box padding=\"0 1em\"></Box>\n      <Divider />\n      <List>\n        {DrawerItems.map((Item, index) => {\n          const to = ('/creator' + Item.url) \n            const selected = to === location.pathname\n          return (\n            <AppLink to={to} doNotUseButton key={'ereder-drawer-item' + index}>\n          <ListItem selected={selected} button >\n            <ListItemIcon >\n              <Item.Icon/>\n            </ListItemIcon>\n            <ListItemText primary={Item.title} />\n          </ListItem>\n          </AppLink>\n        )\n        }\n        )}\n             <AppLink to={'/'} doNotUseButton >\n          <ListItem  button >\n            <ListItemIcon >\n              <Home />\n            </ListItemIcon>\n            <ListItemText primary={\"Home\"} />\n          </ListItem>\n          </AppLink>\n      </List>\n      {/* <Divider />\n      <List>\n        {[\"All mail\", \"Trash\", \"Spam\"].map((text, index) => (\n          <ListItem button key={text}>\n            <ListItemIcon>\n              {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n            </ListItemIcon>\n            <ListItemText primary={text} />\n          </ListItem>\n        ))} \n      </List>\n      */}\n    </div>\n  );\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <AppBar\n        color=\"default\"\n        elevation={0}\n        position=\"fixed\"\n        style={{ top: 0 }}\n        sx={{\n          width: { md: `calc(100% - ${drawerWidth}px)` },\n          ml: { md: `${drawerWidth}px` },\n        }}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            sx={{ mr: 2, display: { md: \"none\" } }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Ereder Creator\n          </Typography>\n          <Box sx={{ flexGrow: 1 }} />\n          <AppLink to=\"/creator/add-video\" doNotUseButton>\n          <Tooltip title=\"Create Video\">\n            <IconButton\n             \n              size=\"large\"\n              edge=\"end\"\n              color=\"inherit\"\n            >\n              <AddIcon />\n            </IconButton>\n          </Tooltip>\n          </AppLink>\n          <Tooltip title=\"Settings\">\n            <IconButton\n              onClick={handleSettingsMenuOpen}\n              size=\"large\"\n              edge=\"end\"\n              color=\"inherit\"\n            >\n              <SettingsIcon />\n            </IconButton>\n          </Tooltip>\n        </Toolbar>\n        {settingsMenu}\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n        aria-label=\"mailbox folders\"\n      >\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n          sx={{\n            display: { sm: \"block\", md: \"none\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n        >\n          {drawer}\n        </Drawer>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { sm: \"none\", xs: \"none\", md: \"block\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          p: 3,\n          pt: 0,\n          width: { sm: `calc(100% - ${drawerWidth}px)` },\n        }}\n      ></Box>\n    </Box>\n  );\n}\n","import { Typography } from '@mui/material'\nimport React from 'react'\nimport CreatorHeader from './CreatorHeader'\n\n\n\n// import {\n \n//   Redirect,\n//   useLocation\n// } from \"react-router-dom\";\n\ntype LayoutProps = {\n    children: any;\n \n}\nconst CreatorLayout: React.FC<LayoutProps> = ({children}) => {\n  // let location = useLocation();\n\n\n\n  // const user = useSelector((state: AppState) => state.auth.user);\n  \n    return (\n        <div className=\"layout\">\n          <CreatorHeader />\n            {children}\n\n            <footer>\n          <Typography align=\"center\">&copy; KRC media 2021 </Typography>\n        </footer>\n        </div>\n    )\n}\n\nexport default CreatorLayout\n","import React, { useState, useEffect } from 'react';\n \nimport { useForm } from \"react-hook-form\";\nimport Avatar from \"@mui/material/Avatar\";\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from \"@mui/material/IconButton\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Spacer from \"../../../components/Spacer\";\nimport Grid from \"@mui/material/Grid\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport Button from \"@mui/material/Button\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport { Channel } from '../../../models/User';\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\nimport Centered from '../../../components/Centered';\nimport CreatorApiSingleton from '../../../api/creatorApi';\n\n\n\nconst EditChannel = () => {\n    const base = \"\";\n    const [channel, setChannel] = useState<Channel>();\n    const [loading, setLoading] = useState(true);\n    const [file, setFile] = useState<any>();\n    const [loadedCurrent, setLoadedCurrent] = useState(0)\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const {\n        register,\n        handleSubmit,\n\n    } = useForm();\n    useEffect(() => {\n        const Api = CreatorApiSingleton();\n        if (channel) {\n            setLoading(false)\n            return;\n        }\n        Api.getChannel().then(ch => {\n            setChannel(ch);\n            setLoading(false);\n        }).catch((e) => {\n            if (e.response) {\n                setLoading(false)\n                console.log(e.response);\n                switch (e.response.status) {\n\n\n                    case 404:\n                        setErrorMessage(e.response.data.message);\n\n                        break;\n\n                    case 500:\n                        setErrorMessage(\"Server Error\");\n\n                        break;\n                    default:\n                        setErrorMessage(\"Unknown Error\")\n                        break;\n                }\n                setLoading(false);\n                return\n\n            }\n            setErrorMessage(e.message);\n            setLoading(false)\n\n        })\n\n    }, [channel])\n\n    const onSubmit = (data: any) => {\n        console.log(data);\n        setLoading(true);\n        const Api = CreatorApiSingleton();\n        Api.editChannel(data)\n            .then((ch) => {\n                setChannel(ch);\n                setLoading(false);\n                console.log(ch);\n            })\n            .catch(() => {\n                alert(\"an error occured\")\n                setLoading(false);\n            })\n    }\n    const onFileChange = (e: any) => {\n        let f = e.target.files[0];\n        setFile(f);\n\n\n    }\n\n    const handleUpload = function (url: string, name: string) {\n        if (!file) return;\n\n\n        let xhr = new window.XMLHttpRequest();\n        // TODO hanle error\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('authorization', `Bearer ${window.localStorage.getItem('jwt') || 'None'}`)\n        xhr.upload.addEventListener(\"progress\", ({ loaded, total }) => {\n            let loaded2 = Math.ceil((loaded / total) * 100)\n            setLoadedCurrent(loaded2);\n\n        })\n        let data = new FormData();\n        data.append(name, file);\n        xhr.send(data);\n\n        xhr.addEventListener(\"readystatechange\", (e: any) => {\n            if (e && e.target) {\n                if (e.target.readyState === 4) {\n                    let c: Channel = JSON.parse(xhr.response);\n                    // console.log(up)\n                    // setVideoId(up.id)\n                    setChannel(c);\n\n                    setFile(undefined)\n                    setLoadedCurrent(0);\n                    alert(\"done\")\n                    // setLoading(false);\n\n\n\n                }\n                // setDone(true);\n            }\n\n        })\n\n\n    }\n\n\n\n\n    if (loading) {\n        return (\n            <Container style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n                sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n            >\n                <LoadingPageIndicator />\n            </Container>\n        );\n    }\n    if (channel) return (\n        <Container\n\n\n            style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <div style={{position: 'relative'}}>\n                <img  src={channel.banner || \"/none.png\"} alt=\"Channel banner\" style={{width: '100%', height: '250px'}}/>\n                <Avatar\n                style={{position: 'absolute', left: 10, bottom: 10}}\n            alt={channel.name}\n            src={channel.logo}\n            sx={{ width: 50, height: 50 }}\n          />\n            </div>\n     \n            <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Edit Channel</Typography>\n\n            <Grid container spacing={2}>\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper>\n                        <LinearProgress variant=\"determinate\" value={loadedCurrent} />\n\n                        <Box style={{ padding: '1em 1.2em', minWidth: \"300px\" }} >\n\n                            <Typography style={{ marginBottom: '20px' }}>Edit Channel Logo</Typography>\n\n\n                            <OutlinedInput\n                                id=\"file-input\"\n                                type={\"file\"}\n                                onChange={onFileChange}\n\n                                inputProps={{\n                                    accept: \"image/png, image/jpeg\",\n                                }}\n\n                                startAdornment={\n                                    <InputAdornment position=\"start\">\n                                        <IconButton\n                                            onClick={() => handleUpload(`${base}/api/creator/channel/upload-logo`, 'logo')}\n\n                                        >\n                                            <CloudUploadIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                                endAdornment={\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            onClick={() => {\n                                                // let l: any = document.getElementById('file-input');\n                                                // setFile(null)\n                                                // if (l) l.value = \"\"\n                                            }}\n                                        >\n                                            <CloseIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                            />\n\n                            <Typography style={{ marginBottom: '20px' }}>Edit Channel Banner</Typography>\n\n\n                            <OutlinedInput\n                                id=\"file-inpu-2t\"\n                                type={\"file\"}\n\n                                onChange={onFileChange}\n                                inputProps={{\n                                    accept: \"image/png, image/jpeg\",\n                                }}\n\n                                startAdornment={\n                                    <InputAdornment position=\"start\">\n                                        <IconButton\n\n                                            onClick={() => handleUpload(`${base}/api/creator/channel/upload-banner`, 'banner')}\n                                        >\n                                            <CloudUploadIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                                endAdornment={\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            onClick={() => {\n                                                // let l: any = document.getElementById('file-input');\n                                                // setFile(null)\n                                                // if (l) l.value = \"\"\n                                            }}\n                                        >\n                                            <CloseIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                            />\n                        </Box>\n                    </Paper>\n                </Grid>\n\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper style={{ padding: '1em 1.2em' }} >\n                        <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                            <Typography style={{ marginBottom: '20px' }}>Edit Channel Details</Typography>\n\n                            <FormControl fullWidth>\n                                <TextField\n                                    defaultValue={channel.name}\n                                    id=\"name\"\n\n                                    label=\"Channel Name\"\n                                    variant=\"outlined\"\n                                    {...register('name')}\n\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <FormControl fullWidth>\n                                <TextField\n                                    defaultValue={channel.name || \"\"}\n                                    id=\"short_description\"\n                                    {...register('shortDescription')}\n\n                                    label=\"Channel Description\"\n                                    variant=\"outlined\"\n                                    multiline\n                                    rows={3}\n\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <FormControl fullWidth>\n                                <TextField\n                                    id=\"about\"\n                                    label=\"Channel About\"\n                                    defaultValue={channel.about || \"No About\"}\n                                    multiline\n                                    {...register('about')}\n                                    rows={6}\n\n                                    variant=\"standard\"\n                                />\n                            </FormControl>\n                            <Spacer space={20} />\n                            <Button type=\"submit\" variant=\"contained\">\n                                Submit\n                            </Button>\n                        </form>\n                    </Paper>\n                </Grid>\n\n\n            </Grid>\n            <Spacer space={20} />\n        </Container>\n    );\n    return (<Container style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n    >\n        <Centered sx={{ height: '100%' }}>\n            <Typography>An error occured {errrorMessage}</Typography>\n        </Centered>\n    </Container>)\n};\n\nexport default EditChannel;\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"@mui/material/Button\";\nimport FormControl from \"@mui/material/FormControl\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppState } from \"../../store\";\nimport Centered from \"../../components/Centered\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport AppLink from \"../../components/AppLink\";\nimport Spacer from \"../../components/Spacer\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport UserApiSignleton, { IBillingDetails } from \"../../api/userApi\";\nimport User from \"../../models/User\";\n\n\nconst schema = yup\n    .object({\n        billingCardNumber: yup.string().max(16).min(10).required(),\n        cvv: yup.string().length(3).required(),\n\n    })\n    .required();\n\n\nconst AddCard: React.FC = () => {\n    const user = useSelector((state: AppState) => state.auth.user);\n    const dispatch = useDispatch()\n    const [expiry, setExpiry] = useState('');\n    const [loading, setLoading] = useState(false)\n    const [cardNumberIsValid, setCardNumberIsValid] = useState(true);\n\n\n    const { register, handleSubmit,\n        formState: { errors }, } = useForm({ resolver: yupResolver(schema) });\n\n    const handleChange: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (event) => {\n        if (!cardNumberIsValid) setCardNumberIsValid(true)\n\n        let str = event.target.value;\n        if (/[a-zA-Z]/.test(str)) return;\n        let len = str.length;\n        if (len < expiry.length) {\n            setExpiry(str);\n            return;\n        }\n        if (len >= 6) return;\n        switch (len) {\n            case 2:\n                setExpiry(str + '/')\n                break;\n\n            default:\n                setExpiry(str)\n                break;\n        }\n    }\n\n    const onSubmit = (data: any) => {\n        console.log(data)\n        if (expiry.length < 5) {\n            setCardNumberIsValid(false)\n        }\n        else {\n\n            let n: number[] = expiry.split('/').map(v => parseInt(v));\n            console.log(n)\n            let isInvalid = n.some(v => isNaN(v))\n\n            if (!isInvalid) {\n                isInvalid = n[0] > 12 || n[0] < 1\n\n            }\n            if (!isInvalid) {\n                const d = new Date();\n                let nb = parseInt(d.getFullYear().toString().slice(2));\n\n                isInvalid = n[1] < nb;\n            }\n            if (isInvalid) {\n                setCardNumberIsValid(false);\n                return\n            }\n            setLoading(true);\n            const userApi = UserApiSignleton();\n            data = { ...data, billingCardBrand: \"visa\", billingCardExpMonth: n[0].toString(), billingCardExpYear: n[1].toString() };\n            userApi.addCard(data as IBillingDetails)\n                .then((v) => {\n                    console.log(v)\n                    if (user) {\n                        let u: User = { ...user, billing_card_last4: v.billingCardLast4, billing_card_brand: v.billingCardBrand }\n                        dispatch({ type: \"login\", user: u });\n                    }\n                    setLoading(false);\n                }).catch(err => {\n                    console.log(err);\n                    setLoading(false);\n\n\n                })\n            console.log(data);\n\n        }\n    }\n\n    if (loading) return <LoadingPageIndicator />\n\n    if (user)\n        return (\n            <Box style={{ marginTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Container maxWidth=\"md\">\n                    <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                        <Typography\n                            sx={{ mt: 2, mb: 2, color: \"text.primary\" }}\n                            fontWeight=\"bold\"\n                        >\n                            Billing Details\n                        </Typography>\n                        <FormControl fullWidth>\n                            <TextField\n                                placeholder={user.has_billing_card ? '************' + user.billing_card_last4 : \"'************XXXX\"}\n                                id=\"cardNumber\"\n                                label=\"Card Number\"\n                                helperText={errors.billingCardNumber?.message}\n\n                                error={!!errors.billingCardNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"billingCardNumber\")}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <FormControl fullWidth>\n                            <TextField\n\n                                error={!cardNumberIsValid}\n                                helperText={!cardNumberIsValid ? \"Invalid card number\" : \"The expiry MM/YY on your card\"}\n\n                                value={expiry}\n                                id=\"cardExpiry\"\n                                label=\"Card Expiry\"\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                name=\"CardExpiry\"\n                                onChange={handleChange}\n\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n\n                                id=\"cvv\"\n                                label=\"CVV\"\n                                helperText={errors.cvv?.message}\n\n                                error={!!errors.billingCardNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"cvv\")}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <Button type=\"submit\" variant=\"contained\">\n                            Update Details\n                        </Button>\n                    </form>\n                </Container>\n            </Box>\n        );\n    else\n        return (\n            <Box style={{ paddingTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Centered sx={{ height: \"60vh\" }}>\n                    <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n                    <AppLink to=\"/\" doNotUseButton>\n                        Go Back\n                    </AppLink>\n                </Centered>\n            </Box>\n        );\n};\n\nexport default AddCard;\n","import React, { useState, useEffect } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"@mui/material/Button\";\nimport FormControl from \"@mui/material/FormControl\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Centered from \"../../../components/Centered\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport CreatorApiSingleton, { IBankAccountDetails } from '../../../api/creatorApi';\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport AppLink from \"../../../components/AppLink\";\nimport Spacer from \"../../../components/Spacer\";\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\n\n\nconst schema = yup\n    .object({\n        bankAccountName: yup.string().required(),\n        bankName: yup.string().required(),\n        bankAccountNumber: yup.string().length(10).required(),\n        password: yup.string().min(4).required(),\n    })\n    .required();\n\n\nconst BankDetails: React.FC = () => {\n\n\n    const [loading, setLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n\n    const [errorMessage, setErrorMessage] = useState('')\n\n    const { register, handleSubmit,\n        formState: { errors }, } = useForm({ resolver: yupResolver(schema) });\n    const [bankDetails, setBankDetails] = useState<IBankAccountDetails | undefined>();\n\n\n    useEffect(() => {\n        const Api = CreatorApiSingleton();\n        setLoading(true)\n        Api.getBankDetails()\n            .then(v => {\n                setBankDetails(v);\n                setLoading(false);\n\n            })\n            .catch(err => {\n                console.log(err)\n\n                setLoading(false)\n            })\n\n    }, [])\n\n\n    const onSubmit = (data: IBankAccountDetails) => {\n        console.log(data)\n        setLoading(true)\n        setHasError(false);\n\n        const Api = CreatorApiSingleton();\n\n        Api.updateBankDetails(data)\n            .then(v => {\n                setBankDetails(v);\n                setErrorMessage(\"Updated\")\n                setHasError(true);\n                setLoading(false);\n             \n            })\n            .catch(err => {\n                console.log(err)\n                if (err.response) {\n                    console.log(err.response)\n                    switch (err.response.status as number) {\n                        case 400:\n                            \n                            setHasError(true);\n                            setErrorMessage(err.response.data.problems);\n                            break;\n                    }\n                    setLoading(false);\n                    return\n                }\n                setHasError(true);\n                setErrorMessage(err.message);\n                // setBankDetails(undefined);\n                setLoading(false)\n            })\n    }\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setHasError(false);\n      }\n      const action = (\n          <IconButton\n            size=\"small\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            onClick={handleClose}\n          >\n      \n            <CloseIcon fontSize=\"small\" />\n        </IconButton>\n      );\n    if (loading && !bankDetails) return <LoadingPageIndicator />\n\n    if (bankDetails)\n        return (\n            <Box style={{ paddingTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Container maxWidth=\"md\"     sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}>\n                {loading && <LinearProgress />}\n                    <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                        <Typography\n                            sx={{ mt: 2, mb: 2, color: \"text.primary\" }}\n                            fontWeight=\"bold\"\n                        >\n                            Billing Details\n                        </Typography>\n                        <FormControl fullWidth>\n                            <TextField\n                                defaultValue={bankDetails.bankAccountName}\n                                id=\"bankAccountNamer\"\n                                label=\"Bank Account Name\"\n                                helperText={errors.bankAccountName?.message}\n\n                                error={!!errors.bankAccountName}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                {...register(\"bankAccountName\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n                                placeholder={bankDetails.bankAccountNumber}\n                                id=\"bankAccountNamer\"\n                                label=\"Bank Account Number\"\n                                helperText={errors.bankAccountNumber?.message}\n\n                                error={!!errors.bankAccountNumber}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"number\",\n                                }}\n                                {...register(\"bankAccountNumber\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n\n                        <FormControl fullWidth>\n                            <TextField\n                                defaultValue={bankDetails.bankName}\n                                id=\"bankNamer\"\n                                label=\"Bank Name\"\n                                helperText={errors.bankName?.message}\n\n                                error={!!errors.bankName}\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"text\",\n                                }}\n                                {...register(\"bankName\")}\n                            />\n                        </FormControl>\n\n                        <Spacer space={20} />\n                        <FormControl fullWidth>\n                            <TextField\n                                id=\"password\"\n                                error={!!errors.password}\n                                helperText={errors.password?.message}\n                                {...register(\"password\")}\n                                label=\"Password\"\n                                variant=\"outlined\"\n                                InputProps={{\n                                    type: \"password\",\n                                }}\n                            />\n                        </FormControl>\n                        <Spacer space={20} />\n                        <Button disabled={loading} type=\"submit\" variant=\"contained\">\n                            Update Details\n                        </Button>\n                    </form>\n                </Container>\n                <Snackbar\n                    open={hasError}\n                    autoHideDuration={6000}\n                    onClose={handleClose}\n                    message={errorMessage}\n                    action={action}\n                />\n            </Box>\n        );\n    else\n        return (\n            <Box style={{ paddingTop: \"4em\", position: \"relative\" }} sx={{ pt: 1 }}>\n                <Centered sx={{ height: \"60vh\" }}>\n                    <Typography sx={{ mb: 1 }}>An internal error has occured</Typography>\n                    <AppLink to=\"/\" doNotUseButton>\n                        Go Back\n                    </AppLink>\n                </Centered>\n            </Box>\n        );\n};\n\nexport default BankDetails;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme } from '@mui/material/styles';\n\nimport Box from \"@mui/material/Box\";\n\nimport { alpha } from '@mui/material/styles';\nimport Checkbox from '@mui/material/Checkbox';\n\nimport Tooltip from '@mui/material/Tooltip';\nimport Toolbar from '@mui/material/Toolbar';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport PreviewIcon from '@mui/icons-material/Preview';\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\nimport AppLink from \"./AppLink\";\nimport Container from \"@mui/material/Container\";\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TablePagination from '@mui/material/TablePagination';\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport LastPageIcon from '@mui/icons-material/LastPage';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CreatorApiSingleton from '../api/creatorApi';\nimport Centered from \"./Centered\";\nimport { shortenText } from \"../utils/functions\";\nimport Video from \"../models/Video\";\n\ntype KosyTabProps = {\n    showing: boolean;\n}\n\n\ninterface TablePaginationActionsProps {\n    count: number;\n    page: number;\n    rowsPerPage: number;\n    onPageChange: (\n        event: React.MouseEvent<HTMLButtonElement>,\n        newPage: number,\n    ) => void;\n\n\n}\n\ninterface EnhancedTableToolbarProps {\n    numSelected: number; onDeleteClick: (event: React.MouseEvent<HTMLButtonElement>) => void;\n    loading: boolean;\n}\ninterface EnhancedTableProps {\n    numSelected: number;\n    headCells: string[];\n    onSelectAllClick: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    rowCount: number;\n\n}\nconst EnhancedTableToolbar = (props: EnhancedTableToolbarProps) => {\n    const { numSelected ,loading} = props;\n\n    return (\n        <div>\n        <Toolbar\n            sx={{\n                pl: { sm: 2 },\n                pr: { xs: 1, sm: 1 },\n                ...(numSelected > 0 && {\n                    bgcolor: (theme) =>\n                        alpha(theme.palette.primary.main, theme.palette.action.activatedOpacity),\n                }),\n            }}\n        >\n            {numSelected > 0 ? (\n                <Typography\n                    sx={{ flex: '1 1 100%' }}\n                    color=\"inherit\"\n                    variant=\"subtitle1\"\n                    component=\"div\"\n                >\n                    {numSelected} selected\n                </Typography>\n            ) : (\n                <Typography\n                    sx={{ flex: '1 1 100%' }}\n                    variant=\"h6\"\n                    id=\"tableTitle\"\n                    component=\"div\"\n                >\n                    Videos\n                </Typography>\n            )}\n            {numSelected > 0 && (\n                <Tooltip title=\"Delete\">\n                    <IconButton onClick={props.onDeleteClick}>\n                        <DeleteIcon />\n                    </IconButton>\n                </Tooltip>\n\n            )}\n     \n        </Toolbar>\n        {loading && (\n               <LinearProgress/>\n\n            )}\n        </div>\n    );\n};\nfunction EnhancedTableHead(props: EnhancedTableProps) {\n    const { onSelectAllClick, numSelected, rowCount, headCells } =\n        props;\n\n\n    return (\n        <TableHead>\n            <TableRow>\n                <TableCell padding=\"checkbox\">\n                    <Checkbox\n                        color=\"primary\"\n                        indeterminate={numSelected > 0 && numSelected < rowCount}\n                        checked={rowCount > 0 && numSelected === rowCount}\n                        onChange={onSelectAllClick}\n                        inputProps={{\n                            'aria-label': 'select all desserts',\n                        }}\n                    />\n                </TableCell>\n                {headCells.map((headCell, index) => (\n                    <TableCell\n                        key={'cell-' + index}\n                        align={'left'}\n                        padding={'normal'}\n\n                    >\n                        {headCell}\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onPageChange } = props;\n\n    const handleFirstPageButtonClick = (\n        event: React.MouseEvent<HTMLButtonElement>,\n    ) => {\n        onPageChange(event, 0);\n    };\n\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, page - 1);\n    };\n\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, page + 1);\n    };\n\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n\n    return (\n        <Box sx={{ flexShrink: 0, ml: 2.5 }}>\n            <IconButton\n                onClick={handleFirstPageButtonClick}\n                disabled={page === 0}\n                aria-label=\"first page\"\n            >\n                {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n            </IconButton>\n            <IconButton\n                onClick={handleBackButtonClick}\n                disabled={page === 0}\n                aria-label=\"previous page\"\n            >\n                {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            </IconButton>\n            <IconButton\n                onClick={handleNextButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"next page\"\n            >\n                {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n            </IconButton>\n            <IconButton\n                onClick={handleLastPageButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"last page\"\n            >\n                {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n            </IconButton>\n        </Box>\n    );\n}\n\n\n\nconst VideosTab: React.FC<KosyTabProps> = ({ showing }) => {\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(5);\n    const theme = useTheme();\n    const [selected, setSelected] = React.useState<readonly string[]>([]);\n\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [deleting, setDeleting] = useState(false)\n    const [videos, setVideos] = useState<Video[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n    const emptyRows =\n        page > 0 ? Math.max(0, (1 + page) * rowsPerPage - videos.length) : 0;\n\n\n    const handleSelectAllClick = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target.checked) {\n            const newSelecteds = videos.map((n) => n.id);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const onDelete = async (event: React.MouseEvent<HTMLButtonElement>) => {\n        setDeleting(true)\n        console.log(selected)\n        let data =  selected.slice();\n        const Api = CreatorApiSingleton();\n        try {\n         await  Api.deleteItems('video', data)\n        // .then(() => {\n            setVideos(videos.filter( v => !isSelected(v.id)));\n            setSelected([])\n        // })\n        // .catch(console.log)\n    }catch(err: any) {\nconsole.log(err)\n    }\n       setDeleting(false)\n    }\n\n    const handleClick = (event: React.MouseEvent<unknown>, id: string) => {\n        const selectedIndex = selected.indexOf(id);\n        let newSelected: readonly string[] = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, id);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1),\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n\n    const handleChangePage = (\n        event: React.MouseEvent<HTMLButtonElement> | null,\n        newPage: number,\n    ) => {\n        setPage(newPage);\n    };\n    const isSelected = (name: string) => selected.indexOf(name) !== -1;\n    const handleChangeRowsPerPage = (\n        event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    ) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            console.log(showing)\n            if (!shown && showing) {\n                console.log(\"here\")\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"video\");\n\n\n                    setVideos(_views as Video[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (videos.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, videos])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        let rows = videos;\n\n        if (loading && videos.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (videos.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>Nothing Found Here</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Container maxWidth=\"md\" style={{ padding: '1em' }} >\n                <Paper  >\n                    <EnhancedTableToolbar numSelected={selected.length} onDeleteClick={onDelete} loading={deleting} />\n\n                    <TableContainer >\n                        <Table sx={{ minWidth: 500 }} aria-label=\"custom pagination table\">\n                            <EnhancedTableHead\n                                numSelected={selected.length}\n\n                                onSelectAllClick={handleSelectAllClick}\n                                headCells={['Title', 'Type', 'Views','Likes', 'Watch']}\n                                rowCount={rows.length}\n                            />\n                            <TableBody>\n                                {(rowsPerPage > 0\n                                    ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    : rows\n                                ).map((row, index) => {\n                                    const isItemSelected = isSelected(row.id);\n                                    const labelId = `enhanced-table-checkbox-${index}`;\n                                    return (\n                                        <TableRow selected={isItemSelected} key={row.id}>\n\n                                            <TableCell padding=\"checkbox\">\n                                                <Checkbox\n                                                    onClick={(event) => {\n                                                        handleClick(event, row.id)\n                                                    }}\n                                                    color=\"primary\"\n                                                    checked={isItemSelected}\n                                                    inputProps={{\n                                                        'aria-labelledby': labelId,\n                                                    }}\n                                                />\n                                            </TableCell>\n                                            <TableCell component=\"th\" scope=\"row\">\n                                                {shortenText(row.title, 20)}\n                                            </TableCell>\n\n                                            <TableCell style={{ width: 160 }} align=\"left\">\n                                                {row.videoType}\n                                            </TableCell>\n                                            <TableCell style={{ width: 160 }} align=\"left\">\n                                                {row.viewCount} \n\n                                            </TableCell>\n                                            <TableCell style={{ width: 160 }} align=\"left\">\n                                                {row.likeCount} \n\n                                            </TableCell>\n                                            <TableCell style={{ width: 160 }} align=\"left\">\n                                                <AppLink to={(\"/main/watch/\" ) + row.id} doNotUseButton>\n                                                    <IconButton >\n                                                        <PreviewIcon htmlColor={theme.palette.primary.main} />\n                                                    </IconButton>\n                                                </AppLink>\n\n                                            </TableCell>\n                                        </TableRow>\n                                    )\n                                })}\n                                {emptyRows > 0 && (\n                                    <TableRow style={{ height: 53 * emptyRows }}>\n                                        <TableCell colSpan={6} />\n                                    </TableRow>\n                                )}\n                            </TableBody>\n\n                        </Table>\n                    </TableContainer>\n                    <TablePagination\n                        sx={{ width: '100%', display: 'block' }}\n                        rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n                        colSpan={3}\n                        count={rows.length}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        SelectProps={{\n                            inputProps: {\n                                'aria-label': 'rows per page',\n                            },\n                            native: true,\n                        }}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                        ActionsComponent={TablePaginationActions}\n                    />\n                </Paper>\n            </Container>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n}\n\n\nexport default VideosTab;","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\n\nimport Box from \"@mui/material/Box\";\n\n\nimport { Helmet } from \"react-helmet\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Paper from \"@mui/material/Paper\";\nimport AppLink from \"../../../components/AppLink\";\nimport Container from \"@mui/material/Container\";\nimport { AppState } from \"../../../store\";\nimport ViewHistory from \"../../../models/ViewHistory\";\nimport Table from '@mui/material/Table';\nimport dayjs from \"dayjs\"\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\n\n\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CreatorApiSingleton from '../../../api/creatorApi';\nimport Centered from \"../../../components/Centered\";\nimport { toHHMMSS } from \"../../../utils/functions\";\nimport ApiLoader from \"../../../components/ApiLoader\";\nimport { Channel } from \"../../../models/User\";\nimport VideosTab from \"../../../components/VideosTab\";\n\ntype KosyTabProps = {\n    showing: boolean;\n}\n\n\n\n\n\n\n\nconst ViewsTab: React.FC<KosyTabProps> = ({ showing }) => {\n\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [views, setViews] = useState<ViewHistory[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            if (!shown && showing) {\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"view\", \"video\");\n\n\n                    setViews(_views as ViewHistory[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (views.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, views])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        if (loading && views.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (views.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>No Views Found</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Box>\n                <Typography variant=\"h5\"> Total: {views.length}</Typography>\n                <TableContainer component={Paper} style={{ minHeight: '60vh' }}>\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Video</TableCell>\n                                <TableCell align=\"right\">Duration</TableCell>\n                                <TableCell align=\"right\">isPayedView</TableCell>\n                                <TableCell align=\"right\">Date</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {views.map(({ video, duration, isPayedView, createdAt }, i) => (\n                                <TableRow\n                                    key={'view-history' + i}\n                                    sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        <AppLink doNotUseButton to={\"/creator/watch/\" + video.id}><Typography color=\"primary.main\" fontWeight=\"bold\"> {video.title}</Typography> </AppLink>\n                                    </TableCell>\n                                    <TableCell align=\"right\"><Typography>{toHHMMSS(duration / 1000)}</Typography> </TableCell>\n                                    <TableCell align=\"right\"><Typography>{isPayedView.toString()}</Typography></TableCell>\n                                    <TableCell align=\"right\"><Typography>{dayjs(createdAt).format('DD/MM/YYYY')}</Typography></TableCell>\n                                    {/*\n                    <TableCell align=\"right\">{row.protein}</TableCell> */}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n\n}\n\n\nconst OverviewTab: React.FC<{ channel: Channel }> = ({ channel }) => {\n    return (<Grid container spacing={2}>\n\n\n        <Grid item sm={12} md={6} style={{ flex: 1 }}>\n            <Paper sx={{ minWidth: '300px', }}>\n                <Box padding=\"1em\">\n\n                    <Typography variant=\"caption\" color=\"GrayText\">\n                        Total Followers\n                    </Typography>\n\n                    <Typography variant=\"h5\" component=\"p\" sx={{ mb: 1 }} >{channel.follower_count}</Typography>\n                    <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                        Total Videos\n                    </Typography>\n\n                    <Typography paragraph sx={{ mb: 1 }}>\n                        {channel.video_count || \"0\"}\n                    </Typography>\n\n                    <Typography variant=\"caption\" color=\"GrayText\" style={{ display: 'block' }} sx={{ mt: 1 }}>\n                        Total Views\n                    </Typography>\n\n                    <Typography paragraph sx={{ mb: 1 }}>\n                        {channel.total_views || \"0\"}\n                    </Typography>\n\n\n                </Box>\n            </Paper>\n        </Grid>\n\n    </Grid>)\n}\n\n\nconst Analytics: React.FC = () => {\n    const [channel, setChannel] = useState<Channel | undefined>();\n    const [loading, setLoading] = useState(true)\n\n\n\n    const user = useSelector((state: AppState) => state.auth.user);\n    const TabNames = [\"Overview\", \"Views\", \"Videos\"]\n\n    const [value, setValue] = useState(0);\n\n    const handleChange1 = (event: React.SyntheticEvent, newValue: number) => {\n        setValue(newValue);\n    };\n\n    useEffect(() => {\n        let pathName = window.location.hash.slice(1)\n        if (pathName) {\n            const dictionary: any = {};\n            const TabNames2 = [\"Overview\", \"Views\", \"Videos\"]\n            TabNames2.forEach((name, index) => {\n                dictionary[name.toLocaleLowerCase()] = index;\n            })\n\n            let index = dictionary[pathName];\n            if (index) {\n                setValue(index)\n            }\n\n        }\n\n    }, []);\n\n    const retry = async function () {\n        const Api = CreatorApiSingleton();\n        let c = await Api.getChannel();\n        // setChannel(c);\n        // setLoading(false)\n\n        return c;\n    }\n\n    const getBody = () => {\n        if (loading) {\n            return (\n                <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n                    sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n                >\n                    <LoadingPageIndicator />\n                </Container>\n            );\n        }\n        if (channel) {\n            return (<>   <Helmet>\n\n                <title>{channel.name || \"None\"} </title>\n\n            </Helmet>\n                <Paper style={{ padding: \"1em 0 0\", border: 'none', boxShadow: 'none' }} elevation={0}>\n                    <Container maxWidth=\"md\">\n                        <Typography variant=\"h5\">{user?.fullName || \"None\"} / {channel.name}</Typography>\n                    </Container>\n                </Paper>\n\n                <Paper style={{ position: \"sticky\", top: 64, left: 0, zIndex: 99, borderTop: 'none' }} square>\n                    <Container maxWidth=\"md\">\n                        <Box\n                            sx={{\n                                width: \"100%\",\n                                bgcolor: \"background.paper\",\n                                position: \"sticky\",\n                                top: 64,\n                                left: 0,\n                                zIndex: 99,\n                            }}\n                        >\n                            <Tabs\n                                variant=\"scrollable\"\n                                scrollButtons=\"auto\"\n                                value={value}\n                                onChange={handleChange1}\n                            >\n                                {TabNames.map((v, k) => (<Tab key={'ereder-tab' + k} href={'#' + v.toLocaleLowerCase()} label={v} />))}\n                            </Tabs>\n                        </Box>\n                    </Container>\n                </Paper>\n                <Box padding=\"1em\" style={{ display: (value === 0 ? 'block' : 'none') }}>\n                    <OverviewTab channel={channel} />\n\n                </Box>\n                <Box padding=\"1em\" style={{ display: (value === 1 ? 'block' : 'none') }}>\n                    <ViewsTab showing={value === 1} />\n                </Box>\n\n\n                <Box padding=\"1em\" style={{ display: (value === 2 ? 'block' : 'none') }}>\n                    <VideosTab showing={value === 2} />\n                </Box>\n           \n            </>);\n        }\n\n        return (<Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Centered sx={{ height: '100%' }}>\n                <Typography>An error occured </Typography>\n            </Centered>\n        </Container>)\n    }\n\n    return (\n        <Box style={{ paddingTop: \"4em\", position: \"relative\", height: '100vh' }} sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}>\n\n            {getBody()}\n            <ApiLoader setLoading={setLoading} request={retry} onLoad={(v) => {\n                console.log(v);\n                setChannel(v as Channel)\n                setLoading(false)\n            }} />\n        </Box>\n\n\n\n    )\n}\n\nexport default Analytics\n","import {  useState } from 'react';\n\nimport { useForm } from \"react-hook-form\";\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Box from \"@mui/material/Box\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from \"@mui/material/IconButton\";\nimport CreatorApiSingleton from '../../../api/creatorApi';\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\nimport Spacer from \"../../../components/Spacer\";\nimport Grid from \"@mui/material/Grid\";\nimport Button from \"@mui/material/Button\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { toHHMMSS } from '../../../utils/functions';\nimport CircularProgress, {\n    CircularProgressProps,\n} from '@mui/material/CircularProgress';\nimport Centered from '../../../components/Centered';\nimport AppLink from '../../../components/AppLink';\nimport Video from '../../../models/Video';\n\nconst schema = yup\n    .object({\n        title: yup.string().min(6).required(),\n        description: yup.string().min(6).required(),\n    })\n    .required();\n\n\nfunction CircularProgressWithLabel(\n    props: CircularProgressProps & { value: number },\n) {\n    return (\n        <Box sx={{ position: 'relative', display: 'inline-flex' }}>\n            <CircularProgress variant=\"determinate\" {...props} />\n            <Box\n                sx={{\n                    top: 0,\n                    left: 0,\n                    bottom: 0,\n                    right: 0,\n                    position: 'absolute',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                }}\n            >\n                <Typography\n                    variant=\"caption\"\n                    component=\"div\"\n                    color=\"text.secondary\"\n                >{`${(props.value)}%`}</Typography>\n            </Box>\n        </Box>\n    );\n}\n\n\n\nconst AddVideo = () => {\n    const base = \"http://localhost:1337\"\n    const VideoTypes: { value: string, title: string }[] = [{\n        title: \"Public Video\",\n        value: \"public\"\n    }, {\n        title: \"Restricted Video\",\n        value: 'restricted'\n    }]\n    const [videoType, setVideoType] = useState('public');\n    const [video, setVideo] = useState<Video>()\n\n    const [loading, setLoading] = useState(true);\n    const [loadedCurrent, setLoadedCurrent] = useState(0)\n    const [file, setFile] = useState<any>();\n    const [videoId, setVideoId] = useState('')\n    const [done, setDone] = useState(true);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [hasError, setHasError] = useState(false);\n    const [hasSubmittedDetails, setHasSubmittedDetails] = useState(false)\n    const [duration, setDuration] = useState(0)\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n    } = useForm({ resolver: yupResolver(schema) });\n\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setHasError(true);\n    }\n\n    const handleChange = (event: SelectChangeEvent<string>) => {\n        setVideoType(event.target.value);\n    };\n    const onSubmit = (data: any) => {\n        console.log(data);\n        setLoading(true);\n        setErrorMessage(\"\");\n        setHasError(false)\n        setDone(false)\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0;\n        const Api = CreatorApiSingleton();\n        data.duration = duration;\n        Api.uploadVideo(videoId, data).then(v => {\n            console.log(v)\n            setVideoId(v.id);\n            setVideo(v)\n            setHasSubmittedDetails(true);\n            setLoading(false)\n        }).catch(e => {\n            let message = \"An Error Occured\"\n            if (e.response) {\n                setLoading(false)\n\n                console.log(e.response);\n                switch (e.response.status) {\n                    case 400:\n                        handleOpen(e.response.data.problems || message);\n\n                        break;\n\n                    case 404:\n                        handleOpen(e.response.data.problems || message);\n\n                        break;\n\n                    case 500:\n                        handleOpen(e.response.data.problems || message);\n\n                        break;\n                    default:\n                        handleOpen(e.response.data.problems || message);\n                        break;\n                }\n                handleOpen(message);\n                return\n\n            }\n\n            handleOpen(message);\n        })\n\n    }\n\n    const onFileChange = (e: any) => {\n        let f = e.target.files[0];\n        setFile(f);\n        console.log(f);\n        var videoNode = document.getElementById(\"video-temp\") as HTMLVideoElement;\n        if (!(f && videoNode)) return;\n        let type = f.type;\n        let cp = videoNode.canPlayType(type);\n        if (cp) {\n            var fileURL = URL.createObjectURL(f);\n            videoNode.src = fileURL;\n\n        }\n        else {\n            alert(\"cannot play video\")\n        }\n\n\n    }\n\n    const handleUpload = function (url: string, name: string, image = false) {\n        if (!file) return;\n        if (!image) {\n            console.log(\"Uploding\")\n            var videoNode = document.getElementById(\"video-temp\") as HTMLVideoElement;\n            let nb = Math.floor(videoNode.duration);\n            if((nb * 1000) < 12000)  {alert(\"Minimum duration is 2:00 mins\");\n            return;}\n            setDuration(nb * 1000)\n       \n        }\n\n        let xhr = new window.XMLHttpRequest();\n        // TODO hanle error\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('authorization', `Bearer ${window.localStorage.getItem('jwt') || 'None'}`)\n        xhr.upload.addEventListener(\"progress\", ({ loaded, total }) => {\n            let loaded2 = Math.ceil((loaded / total) * 100)\n            setLoadedCurrent(loaded2);\n\n        })\n        let data = new FormData();\n        data.append(name, file);\n        xhr.send(data);\n\n        xhr.addEventListener(\"readystatechange\", (e: any) => {\n            if (e && e.target) {\n                if (e.target.readyState === 4 && !image) {\n                    let { up } = JSON.parse(xhr.response);\n                    console.log(up)\n                    setVideoId(up.id)\n                \n                    setFile(undefined)\n                    setLoadedCurrent(0)\n                    setLoading(false);\n\n\n\n                }\n                setDone(true);\n            }\n\n        })\n\n\n    }\n\n    if (done && hasSubmittedDetails && video) {\n        return (<Box style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n\n            <Centered sx={{ height: '70vh' }}>\n\n                <Paper style={{ padding: '3em', minWidth: '300px' }}>\n                    <div style={{ textAlign: 'center' }}>\n                        <img\n                            src=\"/images/upload.png\"\n                            alt=\"done\"\n                            style={{ maxWidth: 200, marginBottom: 10 }}\n                        />\n                    </div>\n                    <Typography align=\"center\" color=\"success.main\" sx={{ mt: 2, mb: 2 }}> Done Creating Video</Typography>\n                    <div style={{ textAlign: 'center' }}>\n                        <AppLink to={ `/creator/watch/${videoId}`}>\n                            View\n                        </AppLink>\n                    </div>\n                </Paper>\n            </Centered>\n\n        </Box>)\n    }\n\n\n    if (!videoId) {\n        return (<Box\n\n\n            style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Container maxWidth=\"sm\">\n                <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Upload Video </Typography>\n                <Box padding=\"1em\">\n                    <Typography variant=\"h6\" style={{ marginBottom: '20px' }}>Step One (Select Video File)</Typography>\n                    <Paper style={{ display: \"flex\", alignItems: 'center', padding: '2em 1em' }}>\n\n                        <OutlinedInput\n                            id=\"file-input\"\n                            type={\"file\"}\n\n\n                            inputProps={{\n                                accept: \"video/mp4, video/ogg\"\n                            }}\n                            onChange={onFileChange}\n                            startAdornment={\n                                <InputAdornment position=\"start\">\n                                    <IconButton\n\n                                        onClick={() => handleUpload(`${base}/api/creator/upload`, 'video')}\n                                    >\n                                        <CloudUploadIcon />\n                                    </IconButton>\n                                </InputAdornment>\n                            }\n                            endAdornment={\n                                <InputAdornment position=\"end\">\n                                    <IconButton\n                                        onClick={() => {\n                                            let l: any = document.getElementById('file-input');\n                                            setFile(null)\n                                            if (l) l.value = \"\"\n                                        }}\n                                    >\n                                        <CloseIcon />\n                                    </IconButton>\n                                </InputAdornment>\n                            }\n                        />\n                        <div style={{ flexGrow: 1 }} />\n                        <video id=\"video-temp\" style={{ display: 'none' }} />\n                        <div style={{ textAlign: 'center', }}>\n                            <CircularProgressWithLabel value={loadedCurrent} />\n                        </div>\n\n                    </Paper>\n                </Box>\n            </Container>\n        </Box>)\n    }\n    return (\n        <Container\n\n\n            style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Typography variant=\"h5\" style={{ marginBottom: '20px' }}>Add Video </Typography>\n\n            <Grid container spacing={2}>\n\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n                    <Paper >\n                        {loading && <LinearProgress />}\n                        <Box style={{ padding: '1em 1.2em' }} >\n                            <Typography variant=\"h6\" style={{ marginBottom: '20px' }} >Step Two</Typography>\n                            <form style={{ maxWidth: \"500px\" }} onSubmit={handleSubmit(onSubmit)}>\n                                <Typography style={{ marginBottom: '20px' }}>Video Details</Typography>\n                                {hasError && (<Typography color=\"error.main\" style={{ marginBottom: '20px' }}>{errrorMessage}</Typography>)}\n                                <FormControl fullWidth>\n                                    <TextField\n\n                                        helperText={errors.title?.message}\n                                        id=\"title\"\n                                        error={!!errors.title}\n\n                                        label=\"Video Title\"\n                                        variant=\"outlined\"\n                                        {...register('title')}\n\n                                    />\n                                </FormControl>\n                                <Spacer space={20} />\n                                <FormControl fullWidth>\n                                    <TextField\n                                        helperText={errors.description?.message}\n                                        id=\"description\"\n                                        error={!!errors.description}\n\n                                        {...register('description')}\n\n                                        label=\"Video Description\"\n                                        variant=\"outlined\"\n                                        multiline\n                                        rows={4}\n\n                                    />\n                                </FormControl>\n\n\n                                <Spacer space={20} />\n                                <InputLabel id=\"demo-simple-select-label\">Video Type</InputLabel>\n\n                                <FormControl fullWidth >  <Select\n                                    {...register('videoType')}\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    value={videoType}\n                                    label=\"Video Type\"\n                                    onChange={handleChange}\n                                >\n                                    {VideoTypes.map(({ value, title }, index) => (<MenuItem key={'video-type' + index} value={value}>{title}</MenuItem>))}\n                                </Select>\n                                </FormControl>\n                                <Spacer space={20} />\n\n\n                                <FormControl fullWidth>\n                                    <TextField\n\n                                        id=\"duration\"\n                                        label=\"Video Duration(msecs)\"\n                                        disabled\n                                        value={duration}\n\n\n                                        variant=\"outlined\"\n                                        InputProps={{\n                                            type: \"text\",\n                                        }}\n                                        {...register(\"duration\")}\n                                        helperText={toHHMMSS(duration / 1000)}\n                                    />\n                                </FormControl>\n                                <Spacer space={20} />\n\n\n                                <FormControl fullWidth>\n                                    <TextField\n\n                                        id=\"price\"\n                                        label=\"Video Price\"\n                                        disabled={videoType === 'public'}\n\n                                        variant=\"outlined\"\n                                        InputProps={{\n                                            type: \"number\",\n                                        }}\n                                        {...register(\"price\")}\n                                    />\n                                </FormControl>\n\n\n                                <Spacer space={20} />\n                                <Button disabled={hasSubmittedDetails} type=\"submit\" variant=\"contained\">\n                                    Submit\n                                </Button>\n                            </form>\n                        </Box>\n                    </Paper>\n                </Grid>\n                <Grid item md={6} sm={12} style={{ flex: 1 }}>\n\n                    <Paper style={{ padding: '1em 1.2em', minWidth: \"300px\" }} >\n                        <Typography variant=\"h6\" style={{ marginBottom: '20px' }}>Step Three</Typography>\n                        {!hasSubmittedDetails && (<Typography component=\"small\" fontSize={14} color=\"GrayText\"> You must submit video details first</Typography>)}\n\n                        <Spacer space={20} />\n\n                        <InputLabel id=\"video-thumbnail\">Video Thumbnail</InputLabel>\n                        <Box display=\"flex\">\n                            <OutlinedInput\n                                id=\"file-input\"\n                                type={\"file\"}\n                                disabled={!hasSubmittedDetails}\n\n                                inputProps={{\n                                    accept: \"image/png, image/jpeg\",\n                                }}\n                                onChange={onFileChange}\n                                startAdornment={\n                                    <InputAdornment position=\"start\">\n                                        <IconButton\n                                            disabled={!hasSubmittedDetails}\n                                            onClick={() => {\n                                                handleUpload(`${base}/api/creator/thumbnail/` + videoId, 'thumb', true)\n                                            }}\n                                        >\n                                            <CloudUploadIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                                endAdornment={\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            disabled={!hasSubmittedDetails}\n                                            onClick={() => {\n                                                let l: any = document.getElementById('file-input');\n                                                setFile(null)\n                                                if (l) l.value = \"\"\n                                            }}\n                                        >\n                                            <CloseIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                }\n                            />\n\n\n\n\n                        </Box>\n                        <div style={{ textAlign: 'center', marginTop: '2em' }}>\n                            <CircularProgressWithLabel value={loadedCurrent} />\n                        </div>\n                    </Paper>\n                </Grid>\n\n\n            </Grid>\n            <Spacer space={20} />\n        </Container>\n    );\n\n};\n\nexport default AddVideo;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useTheme } from '@mui/material/styles';\nimport Toolbar from '@mui/material/Toolbar';\nimport Tooltip from '@mui/material/Tooltip';\nimport AddIcon from \"@mui/icons-material/Add\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport AppBar from '@mui/material/AppBar';\nimport TextField from '@mui/material/TextField';\n\nimport Box from \"@mui/material/Box\";\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport LastPageIcon from '@mui/icons-material/LastPage';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { Wallet } from '../../../models/User'\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Paper from \"@mui/material/Paper\";\nimport AppLink from \"../../../components/AppLink\";\nimport Container from \"@mui/material/Container\";\nimport { AppState } from \"../../../store\";\nimport ViewHistory from \"../../../models/ViewHistory\";\nimport TablePagination from '@mui/material/TablePagination';\nimport Table from '@mui/material/Table';\nimport dayjs from \"dayjs\"\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport LoadingPageIndicator from \"../../../components/LoadingPageIndicator\";\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport { alpha } from '@mui/material/styles';\n\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CreatorApiSingleton from '../../../api/creatorApi';\nimport Centered from \"../../../components/Centered\";\nimport { toHHMMSS } from \"../../../utils/functions\";\nimport ApiLoader from \"../../../components/ApiLoader\";\nimport { VideoPurchase } from \"../../../models/Video\";\nimport { Channel, WithdrawalRequest } from \"../../../models/User\";\nimport VideosTab from \"../../../components/VideosTab\";\nimport Slide from '@mui/material/Slide';\nimport { TransitionProps } from '@mui/material/transitions';\n\nconst Transition = React.forwardRef(function Transition(\n    props: TransitionProps & {\n        children: React.ReactElement;\n    },\n    ref: React.Ref<unknown>,\n) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n\nconst BalanceInfoText = \"We take 10% of all payments as is contained in our terms of use\"\n\nconst BalanceInfoText2 = `Check that the amount entered is not more than the balance of your wallet`\n\n\ntype KosyTabProps = {\n    showing: boolean;\n}\ninterface TablePaginationActionsProps {\n    count: number;\n    page: number;\n    rowsPerPage: number;\n    onPageChange: (\n        event: React.MouseEvent<HTMLButtonElement>,\n        newPage: number,\n    ) => void;\n\n\n}\n\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onPageChange } = props;\n\n    const handleFirstPageButtonClick = (\n        event: React.MouseEvent<HTMLButtonElement>,\n    ) => {\n        onPageChange(event, 0);\n    };\n\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, page - 1);\n    };\n\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, page + 1);\n    };\n\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n\n    return (\n        <Box sx={{ flexShrink: 0, ml: 2.5 }}>\n            <IconButton\n                onClick={handleFirstPageButtonClick}\n                disabled={page === 0}\n                aria-label=\"first page\"\n            >\n                {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n            </IconButton>\n            <IconButton\n                onClick={handleBackButtonClick}\n                disabled={page === 0}\n                aria-label=\"previous page\"\n            >\n                {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            </IconButton>\n            <IconButton\n                onClick={handleNextButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"next page\"\n            >\n                {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n            </IconButton>\n            <IconButton\n                onClick={handleLastPageButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n                aria-label=\"last page\"\n            >\n                {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n            </IconButton>\n        </Box>\n    );\n}\n\n\n\n\n\nconst OverviewTab: React.FC<{ wallet: Wallet }> = ({ wallet }) => {\n\n    const [open, setOpen] = React.useState(false);\n\n    const [dialogHeader, setDialogHeader] = useState(\"\")\n    const [dialogContent, setDialogContent] = useState(\"\")\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const dialog = (\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {dialogHeader}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {dialogContent}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n\n                <Button onClick={handleClose} autoFocus>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n    return (\n        <Box>\n            <Box padding=\"3em 1em\" sx={{ backgroundColor: 'primary.main', minHeight: 'calc(100vh - 164px)' }}>\n                <Centered sx={{ height: '100%' }}>\n                    <Paper style={{ padding: '2em', textAlign: 'center' }} elevation={3}>\n                        <img style={{ width: '100%', maxWidth: 350 }} alt=\"Become a creator\" src=\"/images/earn.png\" />\n\n                        <div style={{ display: 'flex' }}>\n                            <Typography variant=\"h6\" style={{ flex: 1 }}>Total Balance (NGN){wallet.income}</Typography>\n                            <IconButton color=\"info\" onClick={() => {\n                                setDialogHeader(\"Balance Info Help\")\n                                setDialogContent(BalanceInfoText);\n                                handleClickOpen();\n                            }}>\n                                <HelpOutlineIcon />\n                            </IconButton>\n                        </div>\n\n                    </Paper>\n                </Centered>\n            </Box>\n\n            {dialog}\n        </Box>\n    )\n}\n\nconst PurchasesTab: React.FC<KosyTabProps> = ({ showing }) => {\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(5);\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [purchases, setPurchases] = useState<VideoPurchase[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n\n    const handleRetry = () => {\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    const handleChangePage = (\n        event: React.MouseEvent<HTMLButtonElement> | null,\n        newPage: number,\n    ) => {\n        setPage(newPage);\n    };\n    const handleChangeRowsPerPage = (\n        event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    ) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            if (!shown && showing) {\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.analytics(\"purchase\", \"videoPurchased\");\n\n\n                    setPurchases(_views as VideoPurchase[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (purchases.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, purchases])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const body = () => {\n        if (loading && purchases.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (purchases.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>Nothing Found Here</Typography>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            ReLoad\n                        </Button>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Container maxWidth=\"md\" style={{ padding: '1em' }}>\n                <Paper>\n                    <TableContainer style={{ minHeight: '40vh' }}>\n                        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>Video</TableCell>\n                                    <TableCell align=\"right\">Amount Paid</TableCell>\n                                    <TableCell align=\"right\">Date</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {(rowsPerPage > 0\n                                    ? purchases.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    : purchases).map(({ videoPurchased: video, amountPaid, createdAt }, i) => (\n                                        <TableRow\n                                            key={'purchase-' + i}\n                                            sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                        >\n                                            <TableCell component=\"th\" scope=\"row\">\n                                                <AppLink doNotUseButton to={\"/creator/watch/\" + video.id}><Typography color=\"primary.main\" fontWeight=\"bold\"> {video.title}</Typography> </AppLink>\n                                            </TableCell>\n                                            <TableCell align=\"right\"><Typography>NGN{amountPaid}</Typography> </TableCell>\n                                            <TableCell align=\"right\"><Typography>{dayjs(createdAt).format('DD/MM/YYYY')}</Typography></TableCell>\n                                            {/*\n                    <TableCell align=\"right\">{row.protein}</TableCell> */}\n                                        </TableRow>\n                                    ))}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                    <TablePagination\n                        sx={{ width: '100%', display: 'block' }}\n                        rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n                        colSpan={3}\n                        count={purchases.length}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        SelectProps={{\n                            inputProps: {\n                                'aria-label': 'rows per page',\n                            },\n                            native: true,\n                        }}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                        ActionsComponent={TablePaginationActions}\n                    />\n                </Paper>\n            </Container>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n\n}\n\n\n\n\n\nconst RequestsTab: React.FC<KosyTabProps & {\n    onRequestChange: (amount: number) => void;\n}> = ({ showing, onRequestChange }) => {\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(5);\n    const [shown, setShown] = useState(false);\n    const [loading, setLoading] = useState(true)\n    const [requests, setRequests] = useState<WithdrawalRequest[]>([]);\n    const [errrorMessage, setErrorMessage] = useState(\"\");\n    const [errorPresent, setErrorPresent] = useState(false);\n    const [retries, setRetries] = useState(0);\n    const [loading2, setLoading2] = useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [amount, setAmount] = useState(0);\n\n\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleCloseDialog = () => {\n        setOpen(false);\n    };\n    const handleRetry = () => {\n        if (amount > 0) return;\n        setRetries(retries + 1);\n        setShown(false)\n    }\n\n    const sendRequest = async () => {\n        const Api = CreatorApiSingleton();\n        if (amount === 0) return;\n        setLoading2(true)\n        try {\n            let request = await Api.createRequest(amount);\n\n            setRequests(requests.concat([request]));\n\n            onRequestChange(request.amount);\n            alert(\"Request successful\");\n            handleCloseDialog();\n\n        } catch (error: any) {\n            if (error.response) {\n                if (error.response.status === 400) {\n                    console.log(error.response.data);\n                    if (amount < 100) handleOpen(`${amount} is less than minimum which is (NGN)100`);\n                    else handleOpen(error.response.data.problems)\n                }\n            }\n        }\n        setLoading2(false);\n    }\n\n    const handleChangePage = (\n        event: React.MouseEvent<HTMLButtonElement> | null,\n        newPage: number,\n    ) => {\n        setPage(newPage);\n    };\n    const handleChangeRowsPerPage = (\n        event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    ) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    useEffect(() => {\n        const loadFunc = async () => {\n            if (!shown && showing) {\n                const Api = CreatorApiSingleton();\n\n                try {\n                    let _views: any[];\n                    _views = await Api.getRequests();\n\n\n                    setRequests(_views as WithdrawalRequest[]);\n                }\n                catch (err: any) {\n                    handleOpen(err.message || \"An error occured\");\n                }\n                setLoading(false);\n                setShown(true)\n            }\n\n        }\n        if (requests.length > 0) return;\n        loadFunc()\n\n    }, [retries, showing, shown, requests])\n    const handleOpen = (message: string) => {\n        setErrorMessage(message);\n        setErrorPresent(true);\n        setLoading(false);\n\n    }\n\n\n    const handleClose = () => {\n        setErrorMessage(\"\");\n        setErrorPresent(false);\n    }\n\n    const toolbar = (<div>\n        <Toolbar\n            sx={{\n                pl: { sm: 2 },\n                pr: { xs: 1, sm: 1 },\n                bgcolor: (theme) =>\n                    alpha(theme.palette.primary.main, theme.palette.action.activatedOpacity),\n            }}\n        >\n\n            <Typography\n                sx={{ flex: '1 1 100%' }}\n                color=\"inherit\"\n                variant=\"subtitle1\"\n                component=\"div\"\n            >\n                {requests.length}  Requests\n            </Typography>\n\n\n            <Tooltip title=\"Add\">\n                <IconButton onClick={handleClickOpen}>\n                    <AddIcon />\n                </IconButton>\n            </Tooltip>\n\n\n\n        </Toolbar>\n\n    </div>\n    );\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                Retry\n            </Button>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n\n\n    const dialog = (<Dialog open={open} onClose={handleCloseDialog}>\n        {loading2 && <LinearProgress />}\n        <DialogTitle>Request Withdrwawal</DialogTitle>\n        <DialogContent>\n\n            <DialogContentText>\n                {BalanceInfoText2}\n            </DialogContentText>\n            <TextField\n                defaultValue={0}\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Amount\"\n                type=\"number\"\n                fullWidth\n                variant=\"standard\"\n                onChange={(e) => {\n                    setAmount(parseInt(e.target.value))\n                }}\n            />\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={handleCloseDialog}>Cancel</Button>\n            <Button onClick={sendRequest}>Send</Button>\n        </DialogActions>\n    </Dialog>)\n\n    const body = () => {\n        if (loading && requests.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%' }}>\n                    <Box>\n                        <CircularProgress />\n                        <Typography>Loading</Typography>\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n\n        if (requests.length === 0) {\n            return (<Container maxWidth=\"sm\" style={{ paddingTop: \"2em\", height: '60vh' }} >\n                <Centered sx={{ height: '100%', textAlign: 'center' }}>\n                    <Box>\n\n                        <Typography sx={{ mb: 2 }}>Nothing Found Here</Typography>\n                        <Button variant=\"contained\" onClick={handleClickOpen} sx={{ mr: 2 }}> Create </Button>\n                        <Button color=\"secondary\" size=\"small\" onClick={handleRetry}>\n                            Reload\n                        </Button>\n\n                    </Box>\n                </Centered>\n            </Container>)\n        }\n        else return (\n            <Container maxWidth=\"md\" style={{ padding: '1em' }}>\n                <Paper>\n                    {toolbar}\n                    <TableContainer style={{ minHeight: '40vh' }}>\n                        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>Status</TableCell>\n                                    <TableCell align=\"right\">Amount</TableCell>\n                                    <TableCell align=\"right\">Date</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {(rowsPerPage > 0\n                                    ? requests.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    : requests).map(({ status, amount, createdAt }, i) => (\n                                        <TableRow\n                                            key={'request-' + i}\n                                            sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                        >\n                                            <TableCell component=\"th\" scope=\"row\">\n\n                                                <Typography color=\"primary.main\" fontWeight=\"bold\"> {status}</Typography>\n                                            </TableCell>\n                                            <TableCell align=\"right\"><Typography>NGN{amount}</Typography> </TableCell>\n                                            <TableCell align=\"right\"><Typography>{dayjs(createdAt).format('DD/MM/YYYY')}</Typography></TableCell>\n                                            {/*\n                    <TableCell align=\"right\">{row.protein}</TableCell> */}\n                                        </TableRow>\n                                    ))}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                    <TablePagination\n                        sx={{ width: '100%', display: 'block' }}\n                        rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n                        colSpan={3}\n                        count={requests.length}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        SelectProps={{\n                            inputProps: {\n                                'aria-label': 'rows per page',\n                            },\n                            native: true,\n                        }}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                        ActionsComponent={TablePaginationActions}\n                    />\n                </Paper>\n            </Container>\n        )\n    }\n\n\n    return (<Box>\n\n        {body()}\n\n        {dialog}\n\n        <Snackbar\n            open={errorPresent}\n            autoHideDuration={6000}\n\n            onClose={handleClose}\n            message={errrorMessage}\n            action={action}\n        />\n    </Box>);\n\n}\n\n\n\n\n\nconst WalletPage: React.FC = () => {\n\n    const TabNames = [\"Overview\", \"Requests\", \"Transactions\", \"Purchases\"];\n    const [value, setValue] = useState(0);\n    const [wallet, setWallet] = useState<Wallet | undefined>()\n    const [loading, setLoading] = useState(false)\n    const user = useSelector((state: AppState) => state.auth.user);\n    useEffect(() => {\n        let pathName = window.location.hash.slice(1)\n        if (pathName) {\n            const dictionary: any = {};\n            const TabNames2 = [\"Overview\", \"Requests\", \"Transactions\", \"Purchases\"];\n            TabNames2.forEach((name, index) => {\n                dictionary[name.toLocaleLowerCase()] = index;\n            })\n\n            let index = dictionary[pathName];\n            if (index) {\n                setValue(index)\n            }\n\n        }\n\n    }, []);\n\n    const retry = async function () {\n        const Api = CreatorApiSingleton();\n        let w = await Api.getWallet();\n        // setChannel(c);\n        // setLoading(false)\n\n        return w;\n    }\n    // const action = (\n    //     <IconButton\n    //         size=\"small\"\n    //         aria-label=\"close\"\n    //         color=\"inherit\"\n    //         onClick={handleClose}\n    //     >\n\n    //         <CloseIcon fontSize=\"small\" />\n    //     </IconButton>\n    // ); \n    const handleChange1 = (event: React.SyntheticEvent, newValue: number) => {\n        setValue(newValue);\n    };\n\n    const getBody = () => {\n        if (loading) {\n            return (\n                <Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n                    sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n                >\n                    <LoadingPageIndicator />\n                </Container>\n            );\n        }\n        if (wallet) {\n            return (\n                <>\n                    <Paper style={{ padding: \"1em 0 0\", border: 'none', boxShadow: 'none' }} elevation={0}>\n                        <Container maxWidth=\"md\">\n                            <Typography variant=\"h5\">{user?.fullName || \"None\"} / Wallet</Typography>\n                        </Container>\n                    </Paper>\n\n                    <Paper style={{ position: \"sticky\", top: 64, left: 0, zIndex: 99, borderTop: 'none' }} square>\n                        <Container maxWidth=\"md\">\n                            <Box\n                                sx={{\n                                    width: \"100%\",\n                                    bgcolor: \"background.paper\",\n                                    position: \"sticky\",\n                                    top: 64,\n                                    left: 0,\n                                    zIndex: 99,\n                                }}\n                            >\n                                <Tabs\n                                    variant=\"scrollable\"\n                                    scrollButtons=\"auto\"\n                                    value={value}\n                                    onChange={handleChange1}\n                                >\n                                    {TabNames.map((v, k) => (<Tab key={'ereder-tab' + k} href={'#' + v.toLocaleLowerCase()} label={v} />))}\n                                </Tabs>\n                            </Box>\n                        </Container>\n                    </Paper>\n\n                    <Box style={{ display: (value === 0 ? 'block' : 'none') }}>\n                        <OverviewTab wallet={wallet} />\n\n                    </Box>\n                    <Box style={{ display: (value === 1 ? 'block' : 'none') }}>\n                        <RequestsTab showing={value === 1} onRequestChange={(amount) => {\n                            let w = { ...wallet };\n                            w.income = wallet.income - amount;\n                            setWallet(w);\n                        }} />\n\n                    </Box>\n\n                    <Box style={{ display: (value === 3 ? 'block' : 'none') }}>\n                        <PurchasesTab showing={value === 3} />\n\n                    </Box>\n                </>);\n        }\n\n        return (<Container style={{ marginTop: \"64px\", minHeight: '80vh' }}\n            sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n        >\n            <Centered sx={{ height: '100%' }}>\n                <Typography>An error occured </Typography>\n            </Centered>\n        </Container>)\n    }\n\n    return (\n        <Box style={{ paddingTop: \"4em\", position: \"relative\", height: '100vh' }} sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}>\n\n            {getBody()}\n            <ApiLoader setLoading={setLoading} request={retry} onLoad={(v) => {\n                console.log(v);\n                setWallet(v as Wallet)\n                setLoading(false)\n            }} />\n        </Box>\n    );\n};\n\nexport default WalletPage;\n","import React, { useEffect, useState } from \"react\";\n\nimport Button from \"@mui/material/Button\";\nimport LinearProgress from '@mui/material/LinearProgress';\n\nimport Typography from \"@mui/material/Typography\";\nimport ApiLoader from \"../../components/ApiLoader\";\nimport Paper from \"@mui/material/Paper\";\nimport Centered from \"../../components/Centered\";\nimport Container from \"@mui/material/Container\";\nimport { useParams, Redirect } from \"react-router\";\nimport UserApiSignleton from \"../../api/userApi\";\nimport Video from \"../../models/Video\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\n\n\nconst Purchase = () => {\n    let { id } = useParams<{ id: string }>();\n    const [loading, setLoading] = useState(false);\n    const [loading2, setLoading2] = useState(false);\n    const [video, setVideo] = useState<Video>();\n\n    const [accessCode, setAccessCode] = useState<string>();\n\n    const purchaseVideo = async() => {\n        const Api = UserApiSignleton();\n        try {\n            if(video){\n                setLoading2(true)\n          let p = await  Api.purchase(video.id);\n          console.log(p);\n          setAccessCode(p.accessCode);\n        }\n        }catch(error: any) {\n            if(error.response) {\n            if(error.response.data.problems)    alert(error.response.data.problems);\n            }\n        }\n\n        setLoading2(false)\n    }\n\n    const getVideo = async () => {\n        const Api = UserApiSignleton();\n\n        setLoading(true);\n        try{\n        const p = await Api.checkForAccess(id);\n        window.location.pathname = '/main/restricted/' + p.accessCode;\n      \n      }\n      catch(err) {\n\n      }\n        let v = await Api.getRestrictedVideo(\"lion\", id);\n        setVideo(video)\n        setLoading(false)\n        return v;\n\n\n\n    }\n\n\n\n    const getBody = () => {\n        if (loading) return <LoadingPageIndicator />;\n\n        if (video && (!accessCode)) {\n            return (<Centered sx={{ height: '100vh', width: '100%' }}>\n                <Paper style={{  textAlign: 'center', minWidth: \"270px\" }} elevation={3}>\n                    {loading2 && <LinearProgress />}\n\n                    <div style={{padding: '2em',}}>\n                    <img style={{ width: '100%', maxWidth: 350 }} alt=\"Become a creator\" src={video.thumbnail} />\n\n                    <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} variant=\"h6\">\n                        Purchas Video\n                    </Typography>\n                    <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} color=\"GrayText\">\n                        (NGN){video.price}\n                    </Typography>\n                    <Button onClick={purchaseVideo}  variant=\"contained\">Purchase</Button>\n\n                    </div>\n\n                </Paper>\n            </Centered>)\n        }\n        if (accessCode) return <Redirect to={`/main/restricted/${accessCode}`} />\n\n        return (<Centered sx={{ height: '100%' }}>\n            <Paper style={{ padding: '2em', textAlign: 'center' }} elevation={3}>\n                <img style={{ width: '100%', maxWidth: 350 }} alt=\"Become a creator\" src=\"/images/share.png\" />\n\n\n\n                <Typography align=\"center\" sx={{ mt: 2, mb: 2 }} >\n                    An Error occurred          </Typography>\n\n            </Paper>\n        </Centered>)\n\n\n    }\n\n    return (\n        <Container maxWidth=\"md\" style={{ maxHeight: 'calc(100vh )', overflow: 'hidden', paddingTop: '64px' }} sx={{ position: \"relative\", display: { sm: \"block\", md: \"flex\" } }}>\n\n            {getBody()}\n\n\n            <ApiLoader setLoading={setLoading} request={getVideo} onLoad={(v) => {\n                console.log(v);\n                setVideo(v as Video);\n                setLoading(false);\n            }} />\n        </Container>\n    )\n}\n\nexport default Purchase\n","import React, { useState } from 'react';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from \"dayjs\"\n\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\n\nimport ApiLoader from \"../../components/ApiLoader\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport VideoView from \"../../components/VideoView\";\nimport { useParams } from \"react-router\";\nimport Video from '../../models/Video';\nimport UserApiSignleton from '../../api/userApi';\nimport { Channel } from '../../models/User';\nimport CommentComponent from '../../components/CommentComponent';\ndayjs.extend(relativeTime)\nconst ViewRestricted = () => {\n  const prefix = \"\"\n  const [video, setVideo] = useState<Video | undefined>();\n\n  const [loading, setLoading] = useState(true);\n\n\n  let { accessCode } = useParams<{ accessCode: string }>();\n\n\n\n  const getVideo = async () => {\n    const Api = UserApiSignleton();\n    setLoading(true)\n\n    let v = await Api.getRestrictedVideo(accessCode);\n    console.log(v, 'lion')\n    setVideo(v);\n    setLoading(false)\n    return v;\n  }\n\n\n\n  const getBody = () => {\n    if (loading && !video) return <LoadingPageIndicator />\n    if (video)\n      return (\n        <Box style={{ paddingTop: \"4em\" }}>\n          <Grid container spacing={2}>\n            <Grid item md={8} sm={12}>\n              <VideoView url={prefix + video.url} video={video} accessToken={accessCode} />\n            </Grid>\n            <Grid item md={4} sm={12}>\n              <Box padding={2}>\n\n                <Typography variant=\"caption\">{typeof video.channel === \"string\" ? video.channel : (video.channel as Channel).name}</Typography>\n                <Typography variant=\"h4\">{video.title} </Typography>\n                <Typography variant=\"body2\">\n                  {video.description}\n                </Typography>\n                <Typography sx={{mt: 1, mb: 2}} variant=\"caption\">\n                  {dayjs(video.createdAt).fromNow()}\n                </Typography>\n\n              <CommentComponent videoId={video.id} />\n              </Box>\n            </Grid>\n          </Grid>\n\n\n        </Box>\n      );\n\n\n\n    return <p>lol</p>\n  }\n  return (\n    <div>\n      {getBody()}\n      <ApiLoader setLoading={setLoading} request={getVideo} onLoad={(v) => {\n        console.log(v);\n        setVideo(v as Video);\n        setLoading(false);\n      }} />\n    </div>\n  )\n};\n\nexport default ViewRestricted;\n","import React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Paper from \"@mui/material/Paper\";\nimport VideoGrid from \"../../components/VideoGrid\";\nimport Container from \"@mui/material/Container\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from '@mui/material/Button'\nimport { Link } from \"react-router-dom\";\nimport { Channel } from \"../../models/User\";\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport ApiSignleton from \"../../api/api\";\nimport ErrorPageIndicator from \"../../components/ErrorPageIndicator\";\nimport AppLink from \"../../components/AppLink\";\n\n\nconst Sidebar = () => {\n  const [creators, setCreators] = useState<Channel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('')\n  const sliceCreators = () =>  creators;\n\n  function retry() {\n    if (creators.length > 0) return;\n    const userApi = ApiSignleton();\n    userApi.getChannels().then(c => {\n      setCreators(c);\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n  }\n  useEffect(() => {\n    const userApi = ApiSignleton();\n    userApi.getChannels().then(c => {\n      setCreators(c);\n      setLoading(false)\n    }).catch((error) => {\n      console.log(error);\n      if (error.response) {\n        setErrorMessage(error.response.data.problems || error.response.data.message);\n        setHasError(true)\n        setLoading(false)\n      }\n      else {\n        setErrorMessage(\"An error occured \" +  error.message);\n        setHasError(true)\n        setLoading(false)\n      }\n    })\n  \n  },[])\n\n  \n  if (loading) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <LoadingPageIndicator height={\"80vh\"} />\n    </Box>);\n  }\n  if(hasError) {\n    return (<Box padding=\"0\" sx={{\n      display: { md: \"block\", sm: \"none\" },\n      width: { md: \"250px\", sm: \"90vw\" },\n\n    }}>\n      <ErrorPageIndicator errorMessage={errorMessage} retry={retry} height={\"80vh\"} />\n    </Box>);\n  }\n\n  return (\n    <Box\n  \n      style={{ padding: '1em 0 0' }}\n    >\n      <Paper elevation={0} style={{ height: \"95%\", overflowY: 'scroll' }}>\n        {sliceCreators().map((creator, index) => {\n          return (\n            <Link to={\"/main/creator/\" + creator.id} key={\"creator\" + index} style={{ display: 'block', textDecoration: 'none', color: 'inherit', marginBottom: 10 }}>\n              <Button style={{ textTransform: 'none', display: 'flex', width: '100%', justifyContent: 'flex-start', color: 'inherit' }}>\n                <Avatar\n                  alt={creator.name}\n                  src={creator.logo}\n                />\n\n                <Typography style={{ marginLeft: 15 }}>{creator.name}</Typography>\n              </Button>\n            </Link>\n          )\n        })}\n      </Paper>\n    </Box>\n  );\n\n\n}\n\nconst AllChannels = () => {\n  // \n  return (\n    <Box>\n      <Box style={{ maxHeight: 'calc(100vh )', overflow: 'hidden', paddingTop: '64px' }} sx={{ position: \"relative\", display: { sm: \"block\", md: \"flex\" } }}>\n        <Box style={{ overflowY: 'scroll', height: '100vh' }} flex={1}>\n\n          <Container maxWidth=\"md\">\n          <Sidebar />\n          </Container>\n        </Box>\n    \n\n      </Box>\n    </Box>\n  );\n};\n\nexport default AllChannels;\n","import React, { useState, useEffect } from 'react';\n\nimport { useForm } from \"react-hook-form\";\nimport Avatar from \"@mui/material/Avatar\";\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from \"@mui/material/IconButton\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Spacer from \"../../components/Spacer\";\nimport Grid from \"@mui/material/Grid\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Button from \"@mui/material/Button\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport { Channel } from '../../models/User';\nimport LoadingPageIndicator from \"../../components/LoadingPageIndicator\";\nimport Centered from '../../components/Centered';\nimport ApiSingleton from '../../api/api';\nimport UserApiSingleton from '../../api/userApi';\nimport { useParams } from 'react-router';\nimport VideoGrid from '../../components/VideoGrid';\n\n\n\nconst ChannelPage = () => {\n    let { id } = useParams<{ id: string }>();\n    const base = \"\";\n    const [channel, setChannel] = useState<Channel>();\n    const [loading, setLoading] = useState(true);\n    const [loading2, setLoading2] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('')\n    useEffect(() => {\n        const Api = ApiSingleton();\n        if (channel) {\n            setLoading(false)\n            return;\n        }\n        Api.getChannel(id).then(ch => {\n            setChannel(ch);\n            setLoading(false);\n        }).catch((e) => {\n            if (e.response) {\n                setLoading(false)\n                console.log(e.response);\n                switch (e.response.status) {\n\n\n                    case 404:\n                        setErrorMessage(e.response.data.message);\n\n                        break;\n\n                    case 500:\n                        setErrorMessage(\"Server Error\");\n\n                        break;\n                    default:\n                        setErrorMessage(\"Unknown Error\")\n                        break;\n                }\n                setLoading(false);\n                return\n\n            }\n            setErrorMessage(e.message);\n            setLoading(false)\n\n        })\n\n    }, [channel])\n\n\n    const handleSub = () => {\n        setLoading2(true)\n        const Api = UserApiSingleton()\n        if (channel) {\n             Api.subscribe(channel.id).then(() => {\n                 alert(\"success\");\n                 setLoading2(false)\n             })\n             .catch((err: any) => {\n                 if(err.response) {\n                     if(err.response.data) {\n                         alert(err.response.data.problems);\n                     }\n                 }\n                 setLoading2(false)\n             }) \n            \n            }\n    }\n\n\n\n    if (loading) {\n        return (\n            <Container style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n                sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n            >\n                <LoadingPageIndicator />\n            </Container>\n        );\n    }\n    if (channel) return (\n        <Container\n            style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n        >\n            <div style={{ position: 'relative', minHeight: '150px' }}>\n                <img src={channel.banner || \"/none.png\"} alt=\"Channel banner\" style={{ width: '100%', height: '250px' }} />\n                <Avatar\n                    style={{ position: 'absolute', left: 10, bottom: 10 }}\n                    alt={channel.name}\n                    src={channel.logo}\n                    sx={{ width: 50, height: 50 }}\n                />\n            </div>\n\n            <Box display={'flex'} style={{ marginBottom: '20px', }}>\n                <Typography variant=\"h5\" style={{ flex: 1 }}>{channel.name}</Typography>\n                <Button onClick={handleSub} >{loading2 ? <CircularProgress /> :\"Subscribe\"}</Button>\n            </Box>\n            <Spacer space={20} />\n\n            <Container maxWidth=\"md\">\n\n                <VideoGrid videoPlaceholderCount={24} channelId={channel.id} lg={4} md={4} prefix=\"/main\" />\n            </Container>\n        </Container>\n    );\n    return (<Container style={{ paddingTop: \"64px\", minHeight: '80vh' }}\n        sx={{ marginLeft: { sm: 0, md: \"200px\" }, maxWidth: { md: 'calc(100vw - 200px)', sm: 'auto' }, }}\n    >\n        <Centered sx={{ height: '100%' }}>\n            <Typography>An error occured {errorMessage}</Typography>\n        </Centered>\n    </Container>)\n};\n\nexport default ChannelPage;\n","import React from 'react'\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useRouteMatch,\n  useLocation,\n  Redirect,\n} from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\n\nimport { AppState } from \"./store\";\nimport LandingPage from \"./pages/LandingPage\";\nimport Layout from \"./components/Layout\";\nimport Explore from \"./pages/Explore\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/Signup\";\nimport Dashboard from \"./pages/authenticated/Dashboard\";\nimport View from \"./pages/authenticated/View\";\nimport Profile from \"./pages/authenticated/Profile\";\nimport LayoutOpen from \"./components/LayoutOpen\";\nimport BecomeACreator from \"./pages/authenticated/BecomeACreator\";\nimport CreatorDashboard from \"./pages/authenticated/creator/CreatorDashboard\";\nimport CreatorLayout from \"./components/CreatorLayout\";\nimport EditChannel from \"./pages/authenticated/creator/EditChannel\";\nimport ApiSignleton from \"./api/api\";\n\nimport LoadingPageIndicator from './components/LoadingPageIndicator';\nimport AddCard from './pages/authenticated/AddCard';\nimport BankDetails from './pages/authenticated/creator/BankDetails';\nimport ApiLoader from './components/ApiLoader';\nimport Analytics from './pages/authenticated/creator/Analytics';\nimport AddVideo from './pages/authenticated/creator/AddVideo';\nimport Wallet from './pages/authenticated/creator/Wallet';\nimport Purchase from './pages/authenticated/Purchase';\nimport ViewRestricted from './pages/authenticated/Restricted';\nimport AllChannels from './pages/authenticated/AllChannels';\nimport ChannelPage from './pages/authenticated/ChannelPage';\n \nlet theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});\n\nlet theme2 = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: \"#5352ab\",\n    },\n    secondary: {\n      main: \"rgb(36, 186, 248)\",\n    },\n  },\n});;\n\nfunction CreatorRoutes() {\n  let { path } = useRouteMatch();\n\n  \n  return (\n    <CreatorLayout>\n      <Switch>\n        <Route exact path={`${path}/dashboard`}>\n          <CreatorDashboard />\n        </Route>\n        <Route exact path={`${path}/edit-channel`}>\n          <EditChannel />\n        </Route>\n        <Route exact path={`${path}/edit-bank-account`}>\n          <BankDetails />\n        </Route>\n        <Route exact path={`${path}/analytics`}>\n          <Analytics />\n        </Route>\n\n        <Route exact path={`${path}/add-video`}>\n          <AddVideo />\n        </Route>\n        <Route exact path={`${path}/income`}>\n          <Wallet />\n        </Route>\n\n\n      </Switch>\n    </CreatorLayout>\n  );\n}\n\nfunction UserRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path={path}>\n          <Dashboard />\n        </Route>\n        <Route path={`${path}/my-dashboard`}>\n          <Profile />\n        </Route>\n        <Route exact path={`${path}/purchase/:id`}>\n          <Purchase />\n        </Route>\n        <Route exact path={`${path}/restricted/:accessCode`}>\n          <ViewRestricted /> \n        </Route>\n\n        <Route exact path={`${path}/all-creators`}>\n          <AllChannels /> \n        </Route>\n        <Route exact path={`${path}/watch/:id`}>\n          <View />\n        </Route>\n        <Route exact path={`${path}/become-creator`}>\n          <BecomeACreator />\n        </Route>\n        <Route exact path={`${path}/creator/:id`}>\n          \n          <ChannelPage />\n        </Route>\n \n        <Route exact path={`${path}/update-billing`}>\n          <AddCard />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nfunction DefRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <LayoutOpen>\n      <Switch>\n        <Route exact path={path}>\n          <p>lion</p>\n        </Route>\n        <Route exact path={`${path}/watch/:id`}>\n          <View />\n        </Route>\n      </Switch>\n    </LayoutOpen>\n  );\n}\n\nfunction VideoApp() {\n  let user = useSelector((state: AppState) => state.auth.user);\n  let darkMode = useSelector((state: AppState) => state.settings.darkMode);\n  const [loading, setLoading] = React.useState(true)\n  const dispatch = useDispatch()\n  let location = useLocation();\n  const Api = ApiSignleton();\n  const getUser = async () => {\n    if (user) {\n      setLoading(false);\n      return;\n    }\n    // try {\n      let u = await Api.me();\n     if(u && u.email)dispatch({ type: \"login\", user: u });\n      setLoading(false)\n    // }\n    // catch (err) {\n    //   setLoading(false);\n    // }\n  }\n\n\n  // React.useEffect(() => {\n\n\n  //   getUser();\n\n\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [])\n\n  console.log('darkMode')\n  if (\n    user &&\n    (location.pathname === \"/login\" ||\n      location.pathname === \"/\" ||\n      location.pathname === \"/signup\" ||\n      location.pathname === \"/explore\")\n  ) {\n    console.log(location.pathname)\n    return <Redirect to=\"/main\" />;\n  }\n  else if(!user && !loading) {\n    if(location.pathname.startsWith('/main') || location.pathname.startsWith('/creator')) {\n      return <Redirect to={`/login`} />;\n    }\n  }\n\n\n  const mainBody = (  \n    <div><Switch>\n    <Route exact path=\"/\">\n      <LayoutOpen>\n        <LandingPage />\n      </LayoutOpen>\n    </Route>\n    <Route exact path={`/login`}>\n      <Login />\n    </Route>\n    <Route exact path={`/signup`}>\n      <SignUp />\n    </Route>\n    <Route exact path={`/explore`}>\n      <LayoutOpen>\n        <Explore />\n      </LayoutOpen>\n    </Route>\n    <Route path=\"/main\">\n      <UserRoutes />\n    </Route>\n    <Route path=\"/creator\">\n      <CreatorRoutes />\n    </Route>\n    <Route path=\"/open\">\n      <DefRoutes />\n    </Route>\n    <Route path=\"/creator\">\n      <p>lol</p>\n    </Route>\n  </Switch>\n \n  </div> )\n  \n  return (\n    <ThemeProvider theme={darkMode ? theme2 : theme}>\n      <Box\n        sx={{\n          bgcolor: \"background.default\",\n          minHeight: \"100vh\",\n          color: \"text.primary\",\n        }}\n      >\n     {loading ? <LoadingPageIndicator /> : mainBody}\n     <ApiLoader setLoading={setLoading} request={getUser} onLoad={() => console.log('loaded')} />\n      </Box>\n    </ThemeProvider>\n  );\n}\nfunction App() {\n  console.log(theme);\n  return (\n    <main className=\"App\">\n      <Provider store={store}>\n        <Router>\n          <VideoApp />\n        </Router>\n      </Provider>\n    </main>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}