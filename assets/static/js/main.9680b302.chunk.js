(this["webpackJsonpvideo-frontend"]=this["webpackJsonpvideo-frontend"]||[]).push([[0],{291:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(64),i=n.n(r),s=(n(291),n(10)),o=n.n(s),l=n(13),j=n(3),d=n(263),u=n(510),b=n(22),h=n(29),x=n(32),O=n(511),p=n(155),m=n(512),f=n(504),g=n(513),v=n(515),y=n(236),w=n.n(y),k=n(67),S=n(0),C=function(e){var t,n=e.children,a=e.sx,c=void 0===a?{}:a;Object(k.a)(e,["children","sx"]);return t=Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},c),Object(S.jsx)(O.a,{sx:t,children:n})},T=function(e){var t=e.space,n=void 0===t?10:t;return Object(S.jsx)("div",{style:{margin:"".concat(n,"px 0")}})},N=n(20),W=n(21),E=n(97),I=n.n(E);function B(e){console.warn("In test mode"),e.token&&window.localStorage.setItem("jwt",e.token)}var z=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"",headers:{"Content-Type":"application/json"}})}return Object(W.a)(e,[{key:"getChannelVideos",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/all-channels-videos/"+t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/all-channels/"+t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannels",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/all-channels",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/api/video/"+t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTicket",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/api/user/ticket",{body:n,title:t},{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/logout",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"allVideos",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.get("/videos");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"becomeCreator",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/api/creator/become",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"me",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/api/me",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/signup",t);case 2:return B((n=e.sent).data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/login",t);case 2:return B((n=e.sent).data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function A(){var e;return e||(e=new z),e}var _=[{image:"/images/create.png",header:"Create Magic",description:"Create wonderful and amazing videos that you want to show to the world"},{image:"/images/upload.png",header:"Upload to Ereder",description:"Showcase the world from your perspective by uploading your videos to Ereder"},{image:"/images/share.png",header:"Sharing is Caring",description:"You can share your Ereder videos with your close friends, paying viewers or the world"},{image:"/images/earn.png",header:"Earn Money",description:"Ereder is like OnlyFans but without the 18+ content"}],P=Object(d.a)({palette:{primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}});var L=function(){var e=A(),t=c.a.useState(1e3),n=Object(j.a)(t,2),a=n[0],r=n[1],i=c.a.useRef();return c.a.useEffect((function(){return i.current=setInterval((function(){r(a+1)}),500),function(){clearInterval(i.current)}})),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.a,{sx:{backgroundColor:"primary.main",marginBottom:"1em",paddingTop:"1em"},children:Object(S.jsx)(O.a,{sx:{maxWidth:500,width:"90%",margin:"0 auto",color:"white",display:"flex",alignItems:"center",padding:"3em 0"},children:Object(S.jsxs)("div",{children:[Object(S.jsxs)(p.a,{variant:"h3",fontWeight:"bold",children:["An"," ",Object(S.jsx)("code",{style:{color:P.palette.secondary.main},children:"upcoming"})," ","video sharing platform"]}),Object(S.jsxs)(p.a,{sx:{margin:"1em 0"},children:["Join over"," ",Object(S.jsx)("strong",{style:{fontSize:18},children:a})," users who share videos everyday with viewers around the world"]}),Object(S.jsx)(m.a,{variant:"contained",sx:{backgroundColor:"secondary.main",color:"white",marginRight:"10px",":hover":{backgroundColor:"secondary.main"}},onClick:function(){e.me().then(console.log).catch(console.log)},children:"Get Started"}),Object(S.jsx)(h.b,{to:"/explore",style:{textDecoration:"none",color:"white"},children:Object(S.jsx)(m.a,{color:"inherit",endIcon:Object(S.jsx)(w.a,{}),variant:"text",children:"Explore"})})]})})}),Object(S.jsx)(f.a,{container:!0,sx:{width:"100vw"},children:_.map((function(e,t){return Object(S.jsx)(f.a,{item:!0,sx:{padding:"10px"},md:3,sm:6,children:Object(S.jsxs)(g.a,{elevation:0,sx:{borderRadius:4,minHeight:{md:300,sm:250}},children:[Object(S.jsx)(C,{children:Object(S.jsx)("img",{src:e.image,alt:"create",style:{maxWidth:200,marginBottom:10}})}),Object(S.jsx)(p.a,{variant:"h6",align:"center",children:e.header}),Object(S.jsx)(C,{sx:{padding:"0 1em",margin:".5em 0"},children:Object(S.jsx)(p.a,{fontSize:".85rem",align:"center",children:e.description})})]})},"card"+t)}))}),Object(S.jsx)(T,{space:30}),Object(S.jsx)(O.a,{sx:{backgroundColor:"#b9b9dd",padding:"2em 0"},children:Object(S.jsx)(v.a,{children:Object(S.jsxs)(f.a,{container:!0,children:[Object(S.jsxs)(f.a,{item:!0,md:6,sm:12,sx:{padding:"0 20px"},children:[Object(S.jsxs)(p.a,{children:["Ereder has allowed me to view the works of other content creators and also showcase my new material, What I love most about the platform is that has so many features"," "]}),Object(S.jsx)(p.a,{variant:"h4",children:"Kenechukwu Rhema "}),Object(S.jsx)(p.a,{color:"white",fontStyle:"italic",children:"Lead Creative Director at KRC Entertainent"})]}),Object(S.jsxs)(f.a,{item:!0,md:6,sm:12,sx:{padding:"0 20px"},children:[Object(S.jsx)(p.a,{children:"Investing in Ereder has been one of the best decisions I have made. From modest beginnings, the platform is beginning to make some big moves in the Nigerian Tech Industry"}),Object(S.jsx)(p.a,{variant:"h4",children:"Christopher Okeke "}),Object(S.jsx)(p.a,{color:"white",fontStyle:"italic",children:"CEO, Akaokeke Investment Fund, Africa"})]})]})})}),Object(S.jsx)(T,{space:100})]})},D=n(4),V=n(5),H=n(436),q=n(538),R=n(523),F=n(522),M=n(45),G=n(521),K=n(265),U=n(239),Y=n.n(U),J=n(116),X=n.n(J),Z=n(537),Q=n(91),$=n.n(Q),ee=n(145),te=n.n(ee),ne=n(492),ae=n(505),ce=n(516),re=n(520),ie=n(518),se=n(519),oe=n(517),le=n(15),je=function(e){var t=e.to,n=e.children,a=e.sx,c=e.style,r=e.doNotUseButton,i=void 0!==r&&r,s=Object(k.a)(e,["to","children","sx","style","doNotUseButton"]),o=Object.assign({textDecoration:"none",color:"inherit"},c);return Object(S.jsx)(h.b,Object(le.a)(Object(le.a)({to:t,style:o},s),{},{children:i?n:Object(S.jsx)(m.a,{sx:a,children:n})}))},de=Object(V.a)("div")((function(e){var t=e.theme;return Object(D.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(H.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),ue=Object(V.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),be=Object(V.a)(M.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(D.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));function he(){var e=Object(x.c)((function(e){return e.auth.user})),t=a.useState(null),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(x.b)(),s=a.useState(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],u=a.useState(null),b=Object(j.a)(u,2),f=b[0],g=b[1],v=a.useState(null),y=Object(j.a)(v,2),w=y[0],k=y[1],C=Boolean(c),T=Boolean(w),N=Boolean(f),W=a.useState(!1),E=Object(j.a)(W,2),I=E[0],B=E[1],z=function(){B(!1)},_=function(e){r(e.currentTarget)},P=function(){g(null)},L=function(){r(null),P(),D()},D=function(){k(null)},V=function(e){k(e.currentTarget)},H="primary-search-account-menu",M=Object(S.jsxs)(ce.a,{open:I,onClose:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(oe.a,{id:"alert-dialog-title",children:"Logout?"}),Object(S.jsx)(ie.a,{children:Object(S.jsx)(se.a,{id:"alert-dialog-description",children:"Are you sure you want to log out"})}),Object(S.jsxs)(re.a,{children:[Object(S.jsx)(m.a,{onClick:z,children:"Cancel"}),Object(S.jsx)(m.a,{onClick:function(){A().logout().then((function(){i({type:"logout"}),window.location.pathname="/login"}))},autoFocus:!0,children:"Continue"})]})]}),U=Object(S.jsx)(K.a,{anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"right"},id:"settings-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:T,onClose:D,children:Object(S.jsxs)(G.a,{onClick:function(){i({type:"change-theme",value:!l}),d(!l)},children:[Object(S.jsx)(Z.a,{checked:l,size:"small"})," ",Object(S.jsx)("span",{children:" Dark Mode "})]})}),J=Object(S.jsxs)(K.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:H,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:L,children:[Object(S.jsx)(h.b,{style:{textDecoration:"none",color:"inherit"},to:"/main/my-dashboard",children:Object(S.jsx)(G.a,{onClick:L,children:"My Dashboard"})}),(null===e||void 0===e?void 0:e.isCreator)&&Object(S.jsx)(h.b,{style:{textDecoration:"none",color:"inherit"},to:"/creator/dashboard",children:Object(S.jsx)(G.a,{onClick:L,children:"Creator Dashboard"})}),Object(S.jsx)(G.a,{onClick:function(){B(!0)},children:"Logout"})]}),Q="primary-search-account-menu-mobile",ee=Object(S.jsxs)(K.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:Q,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:P,children:[Object(S.jsx)(je,{to:(null===e||void 0===e?void 0:e.isCreator)?"/creator/add-video":"/main/become-creator",doNotUseButton:!0,children:Object(S.jsxs)(G.a,{onClick:L,children:[Object(S.jsx)(F.a,{size:"large",color:"inherit",children:Object(S.jsx)($.a,{})}),Object(S.jsx)("p",{children:"Add Video"})]})}),Object(S.jsxs)(G.a,{onClick:_,children:[Object(S.jsx)(F.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(S.jsx)(ae.a,{sx:{width:24,height:24},alt:null===e||void 0===e?void 0:e.fullName,src:null===e||void 0===e?void 0:e.profilePic})}),Object(S.jsx)("p",{children:"Profile"})]}),Object(S.jsxs)(G.a,{onClick:V,children:[Object(S.jsx)(F.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(X.a,{})}),Object(S.jsx)("p",{children:"Settings"})]})]});return Object(S.jsxs)(O.a,{sx:{flexGrow:1},children:[Object(S.jsx)(q.a,{color:"default",elevation:0,position:"fixed",style:{top:0},children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(je,{to:"/main",doNotUseButton:!0,children:Object(S.jsx)(p.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Ereder"})}),Object(S.jsxs)(de,{children:[Object(S.jsx)(ue,{children:Object(S.jsx)(Y.a,{})}),Object(S.jsx)(be,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),Object(S.jsx)(O.a,{sx:{flexGrow:1}}),Object(S.jsxs)(O.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(S.jsx)(je,{to:(null===e||void 0===e?void 0:e.isCreator)?"/creator/add-video":"/main/become-creator",doNotUseButton:!0,children:Object(S.jsx)(ne.a,{title:"Add a video",children:Object(S.jsx)(F.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)($.a,{})})})}),Object(S.jsx)(F.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":H,"aria-haspopup":"true",onClick:_,color:"inherit",children:Object(S.jsx)(ae.a,{sx:{width:30,height:30},alt:null===e||void 0===e?void 0:e.fullName,src:null===e||void 0===e?void 0:e.profilePic})}),Object(S.jsx)(ne.a,{title:"Settings",children:Object(S.jsx)(F.a,{onClick:V,size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(X.a,{})})})]}),Object(S.jsx)(O.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(S.jsx)(F.a,{size:"large","aria-label":"show more","aria-controls":Q,"aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:Object(S.jsx)(te.a,{})})})]})}),ee,J,U,M]})}var xe=n(541),Oe=n(524),pe=n(240),me=n.n(pe),fe=n(514),ge=n(502);function ve(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),s=i[0],d=i[1],u=Object(a.useState)(""),b=Object(j.a)(u,2),h=b[0],x=b[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),v=g[0],y=g[1],w=function(){c(!1)},k=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t=A(),e.next=5,t.addTicket(v,h);case 5:w(),alert("ticket submited"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert("an error occurred");case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),C=Object(S.jsxs)(ce.a,{open:n,children:[s&&Object(S.jsx)(Oe.a,{}),Object(S.jsx)(oe.a,{children:"Report An Issue"}),Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(fe.a,{sx:{bgcolor:function(e){return Object(H.a)(e.palette.success.main,e.palette.action.activatedOpacity)},p:2,mb:1},children:Object(S.jsx)(se.a,{children:"This Web App and Service is still in testing and so we would love to hear if you have any issue to report"})}),Object(S.jsx)(ge.a,{autoFocus:!0,margin:"dense",id:"issueTitle",label:"Subject",type:"text",fullWidth:!0,onChange:function(e){y(e.target.value)},variant:"standard"}),Object(S.jsx)(ge.a,{rows:3,multiline:!0,margin:"dense",id:"issueBody",label:"Issue",type:"text",fullWidth:!0,onChange:function(e){x(e.target.value)},variant:"standard",helperText:Object(S.jsxs)(p.a,{fontSize:"12px",children:["You can also check our ",Object(S.jsx)("a",{href:"/faqs",children:"faqs"})," for help"]})})]}),Object(S.jsxs)(re.a,{children:[Object(S.jsx)(m.a,{onClick:w,children:"Cancel"}),Object(S.jsx)(m.a,{disabled:h.length<10||v.length<3,onClick:k,children:"Report"})]})]});return Object(S.jsxs)(O.a,{sx:{position:"fixed",bottom:"20px",right:"20px"},children:[Object(S.jsx)(xe.a,{size:"medium",onClick:function(){c(!0)},color:"primary","aria-label":"add",children:Object(S.jsx)(me.a,{})}),C]})}var ye=function(e){var t=e.children;return Object(S.jsxs)(O.a,{children:[Object(S.jsx)(he,{}),t,Object(S.jsx)(ve,{}),Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},we=function(e){var t,n=e.children,a=e.sx,c=void 0===a?{}:a;Object(k.a)(e,["children","sx"]);return t=Object.assign({width:{sm:"100%",md:"85%"},margin:"0 auto"},c),Object(S.jsx)(O.a,{sx:t,children:n})},ke=n(98),Se=n.n(ke),Ce=n(508),Te=n(542),Ne=n(526),We=n(543),Ee=n(51),Ie=n.n(Ee),Be=n(509),ze=function(e){var t=e.props,n=t.text,a=t.length,c=void 0===a?10:a,r=Object(k.a)(t,["text","length"]);return Object(S.jsx)(p.a,Object(le.a)(Object(le.a)({},r),{},{children:t.text.length>c?n.slice(0,c)+"...":n}))},Ae={user_id:"1",id:"1",name:"Allison Kosy",short_description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Doloremque, assumenda.",logo:"/images/me.jpeg",follower_count:234,about:"When the App Store launched in 2008, YouVersion was one of the first 200 free apps available. That first weekend, 83,000 people installed the Bible on their device. But now, a Community that started with 83,000 downloads in one weekend has nearly reached half a billion.",like_count:4022,video_count:25},_e=n(27),Pe=n.n(_e),Le=n(496),De=function(e){var t=e.request,n=e.setLoading,r=e.onLoad,i=e.data,s=e.onFail,d=void 0===s?console.log:s,u=Object(a.useState)(""),b=Object(j.a)(u,2),h=b[0],x=b[1],O=Object(a.useState)(!1),p=Object(j.a)(O,2),f=p[0],g=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(i);case 3:a=e.sent,r(a),e.next=27;break;case 7:if(e.prev=7,e.t0=e.catch(0),c="An Error Occured",!e.t0.response){e.next=26;break}n(!1),console.log(e.t0.response),e.t1=e.t0.response.status,e.next=400===e.t1?16:404===e.t1?18:500===e.t1?20:22;break;case 16:case 18:case 20:case 22:return y(e.t0.response.data.problems||c),e.abrupt("break",24);case 24:return y(c),e.abrupt("return");case 26:y(c);case 27:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(i);case 3:a=e.sent,r(a),e.next=27;break;case 7:if(e.prev=7,e.t0=e.catch(0),c="An Error Occured",!e.t0.response){e.next=26;break}n(!1),console.log(e.t0.response),e.t1=e.t0.response.status,e.next=400===e.t1?16:404===e.t1?18:500===e.t1?20:22;break;case 16:case 18:case 20:case 22:return y(e.t0.response.data.problems||c),e.abrupt("break",24);case 24:return y(c),e.abrupt("return");case 26:y(c);case 27:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(e){x(e),g(!0),n(!1),d(e)},w=function(){x(""),g(!1)},k=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:function(){v(),g(!1)},children:"Retry"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:w,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]});return Object(S.jsx)(Le.a,{open:f,autoHideDuration:6e3,onClose:w,message:h,action:k})};Ie.a.extend(Se.a);var Ve=function(e){var t=e.videoPlaceholderCount,n=void 0===t?6:t,r=e.loggedIn,i=void 0!==r&&r,s=e.xs,d=void 0===s?12:s,u=e.sm,b=void 0===u?6:u,h=e.md,x=void 0===h?4:h,m=e.lg,v=void 0===m?3:m,y=e.prefix,w=void 0===y?"/main":y,k=e.channelId,T=Object(a.useState)([]),N=Object(j.a)(T,2),W=N[0],E=N[1],I=new Array(n).fill(0),B=Object(a.useState)(!1),z=Object(j.a)(B,2),_=z[0],P=z[1],L=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(W.length>0)){e.next=3;break}return P(!0),e.abrupt("return");case 3:if(t=A(),!k){e.next=10;break}return e.next=7,t.getChannelVideos(k);case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,t.allVideos();case 12:n=e.sent;case 13:return E(n),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(W),P(W.length>0)}),[W]);return Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(f.a,{container:!0,children:_&&W.length>0?Object(S.jsx)(S.Fragment,{children:W.map((function(e,t){var n=Ae;return"string"!==typeof e.channel&&(n=e.channel),Object(S.jsx)(f.a,{item:!0,lg:v,md:x,sm:b,xs:d,style:{minWidth:"260px"},children:Object(S.jsx)(C,{children:Object(S.jsxs)(g.a,{sx:{maxWidth:455,m:2},children:[Object(S.jsx)(Te.a,{style:{textDecoration:"none",fontSize:"0.9em"},avatar:Object(S.jsx)("a",{style:{textDecoration:"none",fontSize:"0.9em"},href:"/channel/".concat(n.id),children:Object(S.jsx)(ae.a,{alt:"Intresting Channel",src:n.logo})}),action:i&&Object(S.jsx)(F.a,{"aria-label":"settings",children:Object(S.jsx)(te.a,{})}),title:n.name,subheader:Ie()(e.createdAt).fromNow()}),Object(S.jsx)(je,{sx:{textDecoration:"none",minHeight:"140px",display:"block",width:"100%"},to:"public"===e.videoType?"".concat(w,"/watch/").concat(e.id):"".concat(w,"/purchase/").concat(e.id),doNotUseButton:!0,children:Object(S.jsx)(We.a,{component:"img",image:e.thumbnail,alt:e.thumbnail,sx:{fontSize:"12px",width:"100%"}})}),Object(S.jsxs)(Ne.a,{children:[Object(S.jsx)(ze,{defaultComponent:"span",props:{color:"text.secondary",variant:"body2",component:"p",text:e.title,length:60}}),Object(S.jsxs)(p.a,{fontSize:"0.8em",sx:{mb:2},children:[e.viewCount," View(s)"]}),Object(S.jsx)(Ce.a,{size:"small",label:e.videoType,variant:"public"===e.videoType?"outlined":"filled"}),e.price>0&&Object(S.jsx)(Ce.a,{label:"N"+e.price,size:"small",variant:"outlined"})]})]})})},"video"+t)}))}):W.length>0?Object(S.jsx)(S.Fragment,{children:I.map((function(e,t){return Object(S.jsx)(f.a,{item:!0,lg:3,md:4,sm:6,xs:12,children:Object(S.jsxs)(g.a,{sx:{maxWidth:345,m:2},children:[Object(S.jsx)(Te.a,{avatar:Object(S.jsx)(Be.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(S.jsx)(Be.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(S.jsx)(Be.a,{animation:"wave",height:10,width:"40%"})}),Object(S.jsx)(Be.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(S.jsx)(Ne.a,{children:Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(Be.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(S.jsx)(Be.a,{animation:"wave",height:10,width:"80%"})]})})]})},"video"+t)}))}):Object(S.jsx)(O.a,{children:Object(S.jsx)(C,{sx:{height:"70vh",justifyContent:"center",alignItems:"center"},children:Object(S.jsxs)(fe.a,{style:{padding:"3em",minWidth:"300px"},children:[Object(S.jsx)("div",{style:{textAlign:"center"},children:Object(S.jsx)("img",{src:"/images/upload.png",alt:"done",style:{maxWidth:200,marginBottom:10}})}),Object(S.jsx)(p.a,{align:"center",color:"success.main",sx:{mt:2,mb:2},children:"No Videos found"})]})})})}),Object(S.jsx)(De,{setLoading:function(e){return P(e)},request:L,onFail:function(e){console.log("In grid"),P(!0)},onLoad:function(e){console.log(W),console.log(e),E(e),P(!0)}})]})},He=function(){return Object(S.jsx)(O.a,{sx:{marginTop:"8em"},children:Object(S.jsx)(we,{children:Object(S.jsx)(Ve,{})})})},qe=n(264),Re={},Fe={darkMode:!1,autoPlay:!1,volume:80};var Me=Object(qe.a)({reducer:{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case"login":(n=Object(le.a)({},e)).user=t.user;break;case"logout":window.localStorage.removeItem("jwt"),n=Re;break;case"become_creator":n=Object(le.a)({},e);var a=Object(le.a)(Object(le.a)({},n.user),{},{isCreator:!0});console.log(t),n.user=a;break;default:console.warn("unknown action "+t.type)}return null==n?e:n},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case"change-autoplay":case"change-theme":(n=Object(le.a)({},e)).darkMode=t.value;break;case"change-volume":(n=Object(le.a)({},e)).volume=t.value;break;default:console.warn("unknown action "+t.type)}return null===n?e:n}},middleware:[function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}}]}),Ge=n(146),Ke=n.n(Ge),Ue=n(525),Ye=n(36),Je=n(66),Xe=n(30),Ze=Xe.a({emailAddress:Xe.b().email().required(),password:Xe.b().min(4).required()}).required(),Qe=function(){var e,t,n,c=A(),r=Object(b.g)(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),x=u[0],O=u[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),y=v[0],w=v[1];r.search&&(n=r.search.slice(1),n=Ke.a.parse(n).rediirectTo,console.log(n));var k=Object(Ye.d)({resolver:Object(Je.a)(Ze)}),N=k.register,W=k.handleSubmit,E=k.formState.errors,I=function(e){O(e),w(!0),l(!1)},B=function(){O(""),w(!1)},z=Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:B,children:Object(S.jsx)(Pe.a,{fontSize:"small"})});return Object(S.jsx)(C,{sx:{height:"100vh",flexDirection:"column",padding:"1em 0"},children:Object(S.jsxs)(g.a,{sx:{maxWidth:"500px",width:"60%",minWidth:"300px",padding:0},children:[o&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)(Ne.a,{sx:{padding:"3em 2em"},children:[Object(S.jsx)(p.a,{variant:"h6",align:"center",children:"Log In"}),Object(S.jsx)(T,{space:10}),Object(S.jsxs)("form",{onSubmit:W((function(e){l(!0),c.logIn(e).then((function(){window.location.pathname=n||"/"})).catch((function(e){if(e.response)switch(l(!1),console.log(e.response),e.response.status){case 400:I("Email or Password Incorrect");break;case 404:I("Email cannot be found");break;case 500:I("Server Error");break;default:I("Unknown Error")}else I(e.message||"Unknown Error")}))})),children:[Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({helperText:null===(e=E.email)||void 0===e?void 0:e.message,id:"email",error:!!E.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},N("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({id:"password",error:!!E.password,helperText:null===(t=E.password)||void 0===t?void 0:t.message},N("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"}),Object(S.jsx)(h.b,{to:"/signup",style:{marginLeft:30,textDecoration:"none"},children:Object(S.jsx)(m.a,{children:"Sign up"})})," ",Object(S.jsx)(T,{space:20})]})]}),"   ",Object(S.jsx)(Le.a,{open:y,autoHideDuration:6e3,onClose:B,message:x,action:z})]})})},$e=n(503),et=n(495),tt=[{value:"nigeria",title:"Nigeria"},{value:"civ",title:"Cote'ivore"},{value:"ghana",title:"Ghana"},{value:"the_gambia",title:"The Gambia"}],nt=Xe.a({emailAddress:Xe.b().email().required(),password:Xe.b().min(4).required(),fullName:Xe.b().min(3).required(),dob:Xe.b().length(10).required()}).required(),at=function(){var e,t,n,c,r=Object(b.g)(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),x=u[0],O=u[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),y=v[0],w=v[1],k=Object(a.useState)(tt[0].value),N=Object(j.a)(k,2),W=N[0],E=N[1],I=Object(a.useState)(),B=Object(j.a)(I,2),z=B[0],_=B[1],P=A();r.search&&(c=r.search.slice(1),c=Ke.a.parse(c).rediirectTo,console.log(c));var L=function(e){O(e),w(!0),l(!1)},D=function(){O(""),w(!1)},V=Object(Ye.d)({resolver:Object(Je.a)(nt)}),H=V.register,q=V.handleSubmit,R=V.formState.errors,M=Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:D,children:Object(S.jsx)(Pe.a,{fontSize:"small"})});return Object(S.jsxs)(C,{sx:{minHeight:"100vh",flexDirection:"column",padding:"1em 0",marginTop:20},children:[Object(S.jsxs)(g.a,{sx:{maxWidth:"500px",width:"60%",minWidth:"300px",padding:0},children:[o&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)(Ne.a,{sx:{padding:"3em 2em"},children:[Object(S.jsx)(p.a,{variant:"h6",align:"center",children:"Sign Up"}),Object(S.jsx)(T,{space:10}),Object(S.jsxs)("form",{onSubmit:q((function(e){console.log(e),l(!0),P.signIn(e).then((function(){window.location.pathname=c||"/"})).catch((function(e){if(e.response)switch(l(!1),console.log(e.response),e.response.status){case 400:L("Email or Password Incorrect");break;case 500:L("Server Error");break;default:L("Unknown Error")}else L(e.message||"Unknown Error")}))})),children:[Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({helperText:null===(e=R.fullName)||void 0===e?void 0:e.message,id:"fullName",error:!!R.fullName,label:"Full Name",variant:"outlined",InputProps:{type:"fullName"}},H("fullName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({helperText:null===(t=R.email)||void 0===t?void 0:t.message,id:"email",error:!!R.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},H("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({id:"password",error:!!R.password,helperText:null===(n=R.password)||void 0===n?void 0:n.message},H("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({variant:"filled"},H("dob")),{},{type:"date",InputProps:{inputProps:{max:"12-12-2021"}},onChange:function(e){_(new Date(e.target.value))}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)($e.a,{id:"demo-simple-select-label",children:"Country"}),Object(S.jsxs)(Ue.a,{fullWidth:!0,children:["  ",Object(S.jsx)(et.a,Object(le.a)(Object(le.a)({},H("country")),{},{labelId:"demo-simple-select-label",id:"demo-simple-select",value:W,label:"Country",onChange:function(e){E(e.target.value),console.log(z)},children:tt.map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(G.a,{value:n,children:a},"country"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"}),Object(S.jsx)(h.b,{to:"/login",style:{marginLeft:30,textDecoration:"none"},children:Object(S.jsx)(m.a,{children:"Log In"})})," ",Object(S.jsx)(T,{space:20}),Object(S.jsx)(p.a,{component:"small",variant:"subtitle2",align:"center",color:"red",children:x})]})]})]}),Object(S.jsx)(Le.a,{open:y,autoHideDuration:6e3,onClose:D,message:x,action:M})]})},ct=n(527),rt=function(e){var t=e.height,n=void 0===t?"100vh":t;return Object(S.jsx)(C,{sx:{height:n},children:Object(S.jsxs)(O.a,{children:[" ",Object(S.jsx)(ct.a,{}),Object(S.jsx)("p",{children:"Loading"})]})})};function it(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function st(e){var t=Math.floor(e);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}var ot=function(e){var t={id:e.id,user_id:e.user,name:e.name,about:e.about,short_description:e.shortDescription,logo:e.logo,banner:e.banner,follower_count:e.followerCount,like_count:e.likeCount,video_count:e.videoCount,total_views:e.totalViews};return t},lt=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"/api/user",headers:{"Content-Type":"application/json"}})}return Object(W.a)(e,[{key:"getComments",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/comment/".concat(t),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/comment/".concat(t),{body:n},{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"viewVideoRestricted",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/view/".concat(t,"?accessToken=").concat(n,"&duration=").concat(a>1e3?a:1e3),{headers:{authorization:"Bearer ".concat(c.token)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"checkForAccess",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/check-access/".concat(t),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"purchase",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/purchase/".concat(t),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRestrictedVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"?videoId="+n:"",c={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=4,this._api.get("/restricted/".concat(t)+a,{headers:{authorization:"Bearer ".concat(c.token)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reactToVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"/like":"/un-like",c={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},r="string"===typeof n.channel?n.channel:n.channel.id,e.next=5,this._api.post(a,{videoLiked:n.id,channel:r},{headers:{authorization:"Bearer ".concat(c.token)}});case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"viewVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/view/".concat(t,"?duration=").concat(n>1e3?n:1e3),{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addCard",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/card",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"purchases",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/paid-videos",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"viewHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/history",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/subscribe/".concat(t),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return(a=e.sent).data.channel=ot(a.data.channel),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unSubscribe",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/subscribe/".concat(t,"?unsubscribe=true"),{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/update",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowing",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/following",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,a=n.data.map((function(e){return Object(le.a)(Object(le.a)({},e),{},{channel:ot(e.channel)})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jt(){var e;return e||(e=new lt),e}var dt=function(e){var t=e.height,n=void 0===t?"100vh":t,a=Object(k.a)(e,["height"]);return Object(S.jsx)(C,{sx:{height:n},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{variant:"h6",children:"Error"}),Object(S.jsx)(p.a,{color:"error",children:a.errorMessage}),Object(S.jsx)(m.a,{variant:"contained",onClick:a.retry,children:"Retry"})]})})},ut=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),g=f[0],v=f[1];return Object(a.useEffect)((function(){jt().getFollowing().then((function(e){c(e.map((function(e){return e.channel}))),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),b(!0),o(!1)):(v("An error occured "+e.message),b(!0),o(!1))}))}),[]),s?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(rt,{height:"80vh"})}):u?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(dt,{errorMessage:g,retry:function(){n.length>0||jt().getFollowing().then((function(e){c(e.map((function(e){return e.channel}))),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),b(!0),o(!1)):(v("An error occured "+e.message),b(!0),o(!1))}))},height:"80vh"})}):Object(S.jsxs)(O.a,{sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},style:{padding:"1em 0 0"},children:[Object(S.jsxs)(p.a,{fontWeight:"bold",component:"span",style:{marginLeft:15},children:["Following (",n.length,")"]})," ",Object(S.jsx)(je,{to:"/main/all-creators",children:" All Creators"}),Object(S.jsx)(fe.a,{elevation:0,style:{height:"95%",overflowY:"scroll"},children:n.map((function(e,t){return Object(S.jsx)(h.b,{to:"#/creator/"+t,style:{display:"block",textDecoration:"none",color:"inherit",marginBottom:10},children:Object(S.jsxs)(m.a,{style:{textTransform:"none",display:"flex",width:"100%",justifyContent:"flex-start",color:"inherit"},children:[Object(S.jsx)(ae.a,{alt:e.name,src:e.logo}),Object(S.jsx)(p.a,{style:{marginLeft:15},children:e.name})]})},"creator"+t)}))})]})},bt=function(){return Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.a,{style:{maxHeight:"calc(100vh )",overflow:"hidden",paddingTop:"64px"},sx:{position:"relative",display:{sm:"block",md:"flex"}},children:[Object(S.jsx)(O.a,{style:{overflowY:"scroll",height:"100vh"},flex:1,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(Ve,{videoPlaceholderCount:24,lg:4,md:4,prefix:"/main"})})}),Object(S.jsx)(ut,{})]})})},ht=n(251),xt=n.n(ht),Ot=n(252),pt=n.n(Ot),mt=n(487),ft=n(244),gt=n.n(ft),vt=n(266),yt=n(247),wt=n.n(yt),kt=n(248),St=n.n(kt),Ct=n(250),Tt=n.n(Ct),Nt=n(249),Wt=n.n(Nt),Et=n(499);var It=n(246),Bt=n.n(It),zt=n(245),At=n.n(zt);var _t=function(e){var t=e.url,n=e.video,r=e.accessToken,i=c.a.useRef(),s=c.a.useRef(),d=c.a.useRef(0),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=Object(a.useState)(t),r=Object(j.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){var t=function(){return s(!0)},a=function(){return setTimeout((function(){return s(!1)}),n)},c=e.current;if(c)return c.addEventListener("mouseover",t),c.addEventListener("mouseleave",a),function(){var e=c;e&&(e.removeEventListener("mouseover",t),e.removeEventListener("mouseleave",a))}}),[e]),i}(s),b=Object(a.useState)(!1),h=Object(j.a)(b,2),x=h[0],m=h[1],f=Object(a.useState)("00:00"),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(0),k=Object(j.a)(w,2),T=k[0],N=k[1],W=Object(a.useState)(0),E=Object(j.a)(W,2),I=E[0],B=E[1],z=Object(a.useState)(0),A=Object(j.a)(z,2),_=A[0],P=A[1],L=Object(a.useState)("00:00"),D=Object(j.a)(L,2),V=D[0],H=D[1],q=Object(a.useState)(!1),R=Object(j.a)(q,2),M=R[0],G=R[1],K=Object(vt.a)(!1,1e3),U=Object(j.a)(K,2),Y=U[0],J=U[1],X=Object(a.useState)(!1),Z=Object(j.a)(X,2),Q=Z[0],$=Z[1],ee=Object(a.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ce=c.a.useState(!0),re=Object(j.a)(ce,2),ie=re[0],se=re[1],oe=function(e,t){"clickaway"!==t&&se(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=jt(),r){e.next=8;break}return e.next=5,t.viewVideo(n.id,1e3*T);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,t.viewVideoRestricted(n.id,r,_);case 10:a=e.sent;case 11:console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();if(T>0){if(1===Math.round(T))return void e();var t=Math.round(T);t%60===0&&t>0&&e()}}),[T,n,r]);Object(a.useEffect)((function(){var e=function(e){document.fullscreenElement?console.log("Element: ".concat(document.fullscreenElement.id," entered full-screen mode.")):ne&&ae(!1)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}));var le=function(){var e=Object(a.useState)({width:640,height:100}),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c({width:window.outerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}();Object(a.useEffect)((function(){s.current&&ne?s.current.requestFullscreen():ne||document.fullscreenElement&&document.exitFullscreen().catch(console.log)}),[ne]);Object(a.useEffect)((function(){return J(M),function(){}}),[M,J]),Object(a.useEffect)((function(){return console.log("sending request"),function(){}}),[Y]),Object(a.useEffect)((function(){return 0!==d.current&&clearTimeout(d.current),d.current=window.setTimeout((function(){$(!1),d.current=0}),2e3),function(){0!==d.current&&clearTimeout(d.current)}}),[Q]),Object(a.useEffect)((function(){return H(st(_)),function(){}}),[_]),Object(a.useEffect)((function(){return y(st(T)),function(){}}),[T]);var je=Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:oe,children:Object(S.jsx)(Pe.a,{fontSize:"small"})});return Object(S.jsxs)(we,{sx:{paddingTop:"1em",maxWidth:"640px"},children:[" ",Object(S.jsxs)("div",{onClick:function(){$(!0),m(!x)},style:{position:"relative"},ref:s,children:[Object(S.jsx)(gt.a,{ref:i,onProgress:function(e){B(e.played),N(e.playedSeconds)},height:ne?"100%":"auto",width:ne?window.innerWidth+"px":le.width&&le.width<640?le.width+"px":"640px",onDuration:P,playing:x,url:t}),Object(S.jsx)(O.a,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:{xs:Q?"block":"none",sm:Q?"block":"none",md:ne?Q?"block":"none":u?"block":"none"}},children:Object(S.jsx)(C,{sx:{marginTop:"1em"},children:Object(S.jsxs)(O.a,{sx:{width:"85%",backgroundColor:"#000000ad",p:1},children:[Object(S.jsxs)(O.a,{alignItems:"center",justifyContent:"space-between",display:"flex",sx:{alignItems:"center"},children:[Object(S.jsx)(F.a,{onClick:function(){return ae(!ne)},style:{color:"white"},"aria-label":"next",children:ne?Object(S.jsx)(At.a,{}):Object(S.jsx)(Bt.a,{})}),Object(S.jsxs)(O.a,{alignItems:"center",display:"flex",sx:{alignItems:"center"},children:[Object(S.jsx)(F.a,{style:{color:"white"},"aria-label":"previous",children:Object(S.jsx)(wt.a,{})}),Object(S.jsx)(F.a,{onClick:function(){return m(!x)},sx:{margin:"0 0.5em",color:"white"},"aria-label":"play/pause",children:x?Object(S.jsx)(Wt.a,{sx:{height:30,width:30}}):Object(S.jsx)(St.a,{sx:{height:30,width:30}})}),Object(S.jsx)(F.a,{style:{color:"white"},"aria-label":"next",children:Object(S.jsx)(Tt.a,{})})]}),Object(S.jsxs)(p.a,{id:"seek",sx:{color:"white"},children:[v,"/",V]})]}),Object(S.jsx)(O.a,{sx:{width:"100%"},children:Object(S.jsx)(Et.a,{size:"small",value:100*I,"aria-label":"Small",valueLabelDisplay:"off",color:"secondary",onChange:function(e,t){if(i.current){var n=Array.isArray(t)?t[0]:t;B(n/100),i.current.seekTo(n/100,"fraction")}}})})]})})})]}),Object(S.jsxs)(O.a,{display:"flex",marginTop:1,children:[Object(S.jsxs)(O.a,{display:"flex",padding:"0 2em 0 0",color:"primary",alignItems:"center",children:[Object(S.jsx)(xt.a,{color:"primary"})," ",Object(S.jsxs)(p.a,{color:"primary",variant:"subtitle1",component:"span",children:[n.viewCount," Views"]})]}),Object(S.jsx)(mt.a,{orientation:"vertical",flexItem:!0}),Object(S.jsxs)(O.a,{display:"flex",padding:"0 0 0 2em",alignItems:"center",children:[Object(S.jsxs)(F.a,{onClick:function(){jt().reactToVideo(!M,n).then(console.log).catch(console.log),G(!M)},color:M?"error":"default",children:[Object(S.jsx)(pt.a,{color:"inherit"})," "]})," ",Object(S.jsxs)(p.a,{color:"secondary",variant:"subtitle1",component:"span",children:[M?n.likeCount+1:n.likeCount," likes"]})]})]}),Object(S.jsx)(Le.a,{open:ie,autoHideDuration:6e3,onClose:oe,message:"Tap Video to play or pause",action:je})]})},Pt=n(17),Lt=n(253),Dt=n.n(Lt),Vt=n(528),Ht=function(e){var t=e.videoId,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!1),d=Object(j.a)(s,2),u=d[0],b=d[1],h=Object(a.useState)([]),x=Object(j.a)(h,2),f=x[0],g=x[1],v=Object(a.useState)(!1),y=Object(j.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)(""),T=Object(j.a)(C,2),N=T[0],W=T[1],E=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),n=jt(),e.prev=2,e.next=5,n.addComment(t,N);case 5:a=e.sent,g([a].concat(Object(Pt.a)(f))),W(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("An error occured");case 13:b(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),i(!0),n=jt(),e.prev=3,e.next=6,n.getComments(t);case 6:a=e.sent,g(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),k(!0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n=jt(),e.prev=2,e.next=5,n.getComments(t);case 5:a=e.sent,g(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),k(!0);case 12:i(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(S.jsxs)(fe.a,{elevation:0,children:[u&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsx)(ge.a,{rows:3,multiline:!0,margin:"dense",id:"comment",label:"Comment",type:"text",fullWidth:!0,value:N,onChange:function(e){W(e.target.value)},variant:"standard",InputProps:{endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{disabled:0===N.length,onClick:E,children:Object(S.jsx)(Dt.a,{})})})}}),Object(S.jsx)("div",{style:{marginBottom:"2em"}}),Object(S.jsx)(p.a,{fontWeight:"bold",sx:{mb:2},children:" Comments"}),f.map((function(e,t){var n=e.user;return Object(S.jsxs)(O.a,{display:"flex",sx:{mb:2},children:[Object(S.jsx)("div",{style:{padding:"0 1.5em"},children:Object(S.jsx)(ae.a,{sx:{width:30,height:30},alt:n.fullName,src:n.profilePic})}),Object(S.jsx)(p.a,{paragraph:!0,children:e.body})]},"comment-"+t)})),r&&Object(S.jsx)(ct.a,{}),w&&Object(S.jsxs)(O.a,{style:{padding:"1em"},children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"An error occurred"}),Object(S.jsx)(m.a,{onClick:I})]})]})]})};Ie.a.extend(Se.a);var qt=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],d=i[1],u=Object(b.h)().id,h=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A(),d(!0),e.next=4,t.getVideo(u);case 4:return n=e.sent,console.log(n,"lion"),c(n),d(!1),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[s&&!n?Object(S.jsx)(rt,{}):n?Object(S.jsx)(O.a,{style:{paddingTop:"4em"},children:Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:8,sm:12,children:Object(S.jsx)(_t,{url:""+n.url,video:n})}),Object(S.jsx)(f.a,{item:!0,md:4,sm:12,children:Object(S.jsxs)(O.a,{padding:2,children:[Object(S.jsx)(p.a,{variant:"caption",children:"string"===typeof n.channel?n.channel:n.channel.name}),Object(S.jsxs)(p.a,{variant:"h4",children:[n.title," "]}),Object(S.jsx)(p.a,{variant:"body2",children:n.description}),Object(S.jsx)(p.a,{sx:{mt:1,mb:2},variant:"caption",children:Ie()(n.createdAt).fromNow()}),Object(S.jsx)(Ht,{videoId:n.id})]})})]})}):Object(S.jsx)("p",{children:"lol"}),Object(S.jsx)(De,{setLoading:d,request:h,onLoad:function(e){console.log(e),c(e),d(!1)}})]})},Rt=n(494),Ft=n(529),Mt=n(148),Gt=n(506),Kt=n(84),Ut=n.n(Kt),Yt=n(89),Jt=[{value:"nigeria",title:"Nigeria"},{value:"civ",title:"Cote'ivore"},{value:"ghana",title:"Ghana"},{value:"the_gambia",title:"The Gambia"}],Xt=function(e){var t=e.user,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1];return i?t.has_billing_card?Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Card Details"}),Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1,maxWidth:"200px"},alignItems:"center",children:["    ",Object(S.jsxs)(p.a,{style:{flex:1},children:[t.billing_card_brand||"none"," ","->"," ",t.billing_card_last4," "]}),Object(S.jsx)(je,{to:"/main/update-billing",children:"Update"})]}),Object(S.jsx)(m.a,{onClick:function(){return s(!1)},children:"Hide Card Details "})]}):Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1,maxWidth:"200px"},alignItems:"center",children:["    ",Object(S.jsx)(p.a,{style:{flex:1},children:"No Card Details "}),Object(S.jsx)(je,{to:"/main/update-billing",children:"Add"})]}):Object(S.jsx)(m.a,{variant:"contained",onClick:function(){return s(!0)},children:"Show Card Details "})},Zt=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.user),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(a.useState)(0),f=Object(j.a)(x,2),g=f[0],y=f[1],w=Object(a.useState)(""),k=Object(j.a)(w,2),C=k[0],N=k[1],W=Object(a.useState)(!1),E=Object(j.a)(W,2),I=E[0],B=E[1],z=function(e){N(e),r(!0)},A=function(e,t){"clickaway"!==t&&r(!1)},_=(Object(Yt.a)(),Object(Ye.d)({})),P=_.register,L=_.handleSubmit,D=Object(a.useState)(Jt[0].value),V=Object(j.a)(D,1)[0],H=jt(),q=Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:A,children:Object(S.jsx)(Pe.a,{fontSize:"small"})});return Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Profile Picture"}),Object(S.jsxs)(O.a,{sx:{mt:2},children:[Object(S.jsxs)(fe.a,{children:[Object(S.jsx)(Oe.a,{variant:"determinate",value:g}),Object(S.jsxs)(O.a,{padding:"2em",children:[Object(S.jsx)(ae.a,{alt:(null===o||void 0===o?void 0:o.fullName)||"None",src:(null===o||void 0===o?void 0:o.profilePic)||"/images/me.jpeg",sx:{width:100,height:100}}),Object(S.jsx)("div",{style:{marginTop:"20px"}}),Object(S.jsx)(Gt.a,{id:"file-input",type:"file",onChange:function(e){var t=e.target.files[0];h(t)},inputProps:{accept:"image/png, image/jpeg"},startAdornment:Object(S.jsx)(Vt.a,{position:"start",children:Object(S.jsx)(F.a,{onClick:function(){return function(e,t){if(b){var n=new window.XMLHttpRequest;console.log(t),n.open("POST",e),n.setRequestHeader("authorization","Bearer ".concat(window.localStorage.getItem("jwt")||"None")),n.upload.addEventListener("progress",(function(e){var t=e.loaded,n=e.total,a=Math.ceil(t/n*100);y(a)}));var a=new FormData;a.append(t,b),n.send(a),n.addEventListener("readystatechange",(function(e){if(e&&e.target&&4===e.target.readyState){var t=JSON.parse(n.response);l(t),h(void 0),y(0),alert("done")}}))}}("".concat("","/api/user/upload-profile-pic"),"profile")},children:Object(S.jsx)(Ut.a,{})})}),endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{onClick:function(){},children:Object(S.jsx)(Pe.a,{})})})})]})]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(mt.a,{variant:"middle"})," ",Object(S.jsx)(T,{space:20}),Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:L((function(e){B(!0);for(var t=Object.keys(e),n=Object(le.a)({},o),a=0,c=t;a<c.length;a++){var r=c[a];(!e[r]||n&&e[r]===n[r])&&delete e[r]}H.updateDetails(e).then((function(){B(!1),z("Details Updated successfully")})).catch((function(e){console.log(e),B(!1),z("An error occured while trying to update")}))})),children:[I&&Object(S.jsx)(Oe.a,{}),Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Contact Details"}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({defaultValue:null===o||void 0===o?void 0:o.fullName,id:"fullName",label:"Full Name",variant:"outlined",InputProps:{type:"text"}},P("fullName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({id:"email",defaultValue:null===o||void 0===o?void 0:o.email,label:"Email",variant:"outlined",InputProps:{type:"email"}},P("emailAddress")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({variant:"filled",type:"date",defaultValue:null===o||void 0===o?void 0:o.birthdate,InputProps:{inputProps:{max:"12-12-2021"}}},P("dob")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)($e.a,{id:"demo-simple-select-label",children:"Country"}),Object(S.jsxs)(Ue.a,{fullWidth:!0,children:[" ",Object(S.jsx)(et.a,Object(le.a)(Object(le.a)({labelId:"demo-simple-select-label",id:"demo-simple-select",value:V,label:"Country"},P("country")),{},{children:Jt.map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(G.a,{value:n,children:a},"country"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Update Details"})]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(mt.a,{variant:"middle"})," ",Object(S.jsx)(T,{space:20}),o&&Object(S.jsx)(Xt,{user:o})]}),Object(S.jsx)(Le.a,{open:c,autoHideDuration:6e3,onClose:A,message:C,action:q})]})},Qt=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!0),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(!1),h=Object(j.a)(b,2),x=h[0],f=h[1],g=Object(a.useState)(!1),y=Object(j.a)(g,2),w=y[0],k=y[1],T=Object(a.useState)(""),N=Object(j.a)(T,2),W=N[0],E=N[1],I=Object(a.useState)([]),B=Object(j.a)(I,2),z=B[0],A=B[1],_=Object(a.useState)(null),P=Object(j.a)(_,2),L=P[0],D=P[1];Object(a.useEffect)((function(){!i&&t&&(console.log("request two"),s(!0),jt().getFollowing().then((function(e){A(e.map((function(e){return e.channel}))),u(!1)})).catch((function(e){k(!0),E(e.message),u(!1)})))}),[i,t]);var V=function(e,t){"clickaway"!==t&&("undo"!==t&&console.log("unfollowed "+(null===L||void 0===L?void 0:L.name)),k(!1),D(null))},H=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:function(e){if(null!==L){if(x)return;var t=jt();f(!0),t.subscribe(L.id).then((function(e){A([e.channel].concat(Object(Pt.a)(z))),D(null),E("Subscribed to "+e.channel.name),f(!1),k(!0)})).catch((function(e){f(!1),E("An error occured"),k(!0)}))}},children:"UNDO"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]});return d&&0===z.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"sm",style:{paddingTop:"2em"},children:[z.map((function(e,t){return Object(S.jsxs)(O.a,{display:"flex",sx:{mb:1},children:[Object(S.jsxs)(je,{to:"/main/creator/"+e.id,style:{marginBottom:10,flex:1,display:"flex"},sx:{textTransform:"none",display:"flex",width:"100%",justifyContent:"flex-start",color:"inherit"},children:[Object(S.jsx)(ae.a,{alt:e.name,src:e.logo}),Object(S.jsxs)(O.a,{padding:"0 0 0 1em",children:[Object(S.jsx)(p.a,{fontWeight:"bold",sx:{color:"text.primary"},children:e.name}),Object(S.jsx)(p.a,{component:"p",variant:"subtitle2",color:"GrayText",align:"left",children:e.follower_count+(1===e.follower_count?" follower":" followers")})]})]}),Object(S.jsx)(m.a,{style:{display:"inline"},onClick:function(){return function(e){if(!x){var t=jt();f(!0),t.unSubscribe(e.id).then((function(t){console.log(t),E("unfollowed "+e.name),D(e),A(z.filter((function(t){return t.id!==e.id}))),f(!1),k(!0)})).catch((function(e){f(!1),E("An error occured"),k(!0)}))}}(e)},children:"Unfollow"})]},"channel-"+t)})),Object(S.jsx)(Le.a,{open:w,autoHideDuration:6e3,onClose:V,message:W,action:H})]})},$t=function(e){var t=e.showing,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!0),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),x=b[0],m=b[1];return Object(a.useEffect)((function(){!r&&t&&(console.log("request three"),jt().viewHistory().then((function(e){d(!1),m(e)})).catch((function(){d(!1)})),i(!0))}),[r,t]),l&&0===x.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(T,{space:30}),x.map((function(e,t){var n=e.video,a=e.channel,c="restricted"===n.videoType?"filled":"outlined";return Object(S.jsxs)(O.a,{sx:{mb:1},display:"flex",alignItems:"center",children:[Object(S.jsx)("div",{style:{width:"40%",maxWidth:"230px"},children:Object(S.jsx)(h.b,{to:"/main/watch/"+n.id,children:Object(S.jsx)("img",{style:{display:"block",width:"100%"},src:n.thumbnail,alt:n.title})})}),Object(S.jsxs)(O.a,{flex:1,padding:"1em",children:[Object(S.jsx)(p.a,{fontWeight:"bold",sx:{color:"text.primary"},children:n.title}),Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontSize:".85rem",children:it(n.description||"No description",100)}),Object(S.jsx)(je,{to:"/main/channel/"+a.id,sx:{mt:1,textTransform:"none",padding:0},children:Object(S.jsx)(p.a,{sx:{color:"text.primary"},variant:"subtitle2",children:a.name})}),Object(S.jsx)("div",{style:{marginTop:"0.5em"},children:Object(S.jsx)(Ce.a,{variant:c,label:n.videoType,size:"small"})})]})]},"view-history-"+t)}))]})},en=function(e){var t=e.showing,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!0),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),x=b[0],m=b[1];return Object(a.useEffect)((function(){!r&&t&&(console.log("request four"),jt().purchases().then((function(e){d(!1),m(e)})).catch((function(){d(!1)})),i(!0))}),[r,t]),l&&0===x.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):Object(S.jsxs)(v.a,{maxWidth:"md",children:[Object(S.jsx)(T,{space:30}),x.map((function(e,t){var n=e.videoPurchased,a=e.amountPaid,c=e.channel,r=e.accessCode;return Object(S.jsxs)(O.a,{sx:{mb:1},display:"flex",alignItems:"center",children:[Object(S.jsx)("div",{style:{width:"40%",maxWidth:"230px"},children:Object(S.jsx)(h.b,{to:"/main/restricted/"+r,children:Object(S.jsx)("img",{style:{display:"block",width:"100%"},src:n.thumbnail,alt:n.title})})}),Object(S.jsxs)(O.a,{flex:1,padding:"1em",children:[Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontWeight:"bold",children:n.title}),Object(S.jsx)(p.a,{sx:{color:"text.primary"},fontSize:".85rem",children:it(n.description,80)}),Object(S.jsx)(je,{to:"/main/channel/"+c.id,sx:{mt:1,textTransform:"none",padding:0},children:Object(S.jsx)(p.a,{variant:"subtitle2",children:c.name})}),Object(S.jsxs)(p.a,{sx:{color:"success.main"},fontWeight:"bold",component:"p",variant:"caption",children:[a,"(NGN)"]})]})]},"view-history-"+t)}))]})},tn=function(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(a.useState)(0),n=Object(j.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){var e=window.location.hash.slice(1);if(e){var t={};["Profile","Channels","History","Purchases"].forEach((function(e,n){t[e.toLocaleLowerCase()]=n})),t.channel=1;var n=t[e];n&&r(n)}}),[]);return Object(S.jsxs)(O.a,{style:{paddingTop:"4em",position:"relative"},children:[Object(S.jsx)(Mt.a,{children:Object(S.jsx)("title",{children:(null===e||void 0===e?void 0:e.fullName)+" / "+["Profile","Channels","History","Purchases"][c]})}),Object(S.jsx)(fe.a,{style:{padding:"1em 0 0",border:"none",boxShadow:"none"},elevation:0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(p.a,{variant:"h5",children:(null===e||void 0===e?void 0:e.fullName)||"None"})})}),Object(S.jsx)(fe.a,{style:{position:"sticky",top:64,left:0,zIndex:99,borderTop:"none"},square:!0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper",position:"sticky",top:64,left:0,zIndex:99},children:Object(S.jsxs)(Rt.a,{variant:"scrollable",scrollButtons:"auto",value:c,onChange:function(e,t){r(t)},children:[Object(S.jsx)(Ft.a,{href:"#profile",label:"Profile"}),Object(S.jsx)(Ft.a,{href:"#channel",label:"Channels"}),Object(S.jsx)(Ft.a,{href:"#history",label:"History"}),Object(S.jsx)(Ft.a,{href:"#purchases",label:"Purchases"})]})})})}),Object(S.jsx)(O.a,{style:{display:0===c?"block":"none"},children:Object(S.jsx)(Zt,{user:e})}),Object(S.jsx)(O.a,{style:{display:1===c?"block":"none"},children:Object(S.jsx)(Qt,{showing:1===c})}),Object(S.jsx)(O.a,{style:{display:2===c?"block":"none"},children:Object(S.jsx)($t,{showing:2===c})}),Object(S.jsx)(O.a,{style:{display:3===c?"block":"none"},children:Object(S.jsx)(en,{showing:3===c})}),Object(S.jsx)(T,{space:30})]})},nn=n(488);function an(e){var t=e.children,n=e.window,c=Object(nn.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return a.cloneElement(t,{elevation:c?4:0})}function cn(e){return Object(S.jsx)(O.a,{sx:{flexGrow:1},children:Object(S.jsx)(an,Object(le.a)(Object(le.a)({},e.props),{},{children:Object(S.jsx)(q.a,{children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(h.b,{to:"/",style:{display:"block",textDecoration:"none",color:"white",flex:1},children:Object(S.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Ereder"})}),Object(S.jsx)(h.b,{to:"/login",style:{display:"block",textDecoration:"none",color:"white"},children:Object(S.jsx)(m.a,{color:"inherit",children:"Login"})})]})})}))})}var rn=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"layout",children:[Object(S.jsx)(cn,{}),t,Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},sn=function(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),h=u[0],f=u[1],g=Object(x.b)(),y=A(),w=function(){l(!1)},k=Object(S.jsxs)(ce.a,{open:o,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(oe.a,{id:"alert-dialog-title",children:"Failed"}),Object(S.jsx)(ie.a,{children:Object(S.jsx)(se.a,{id:"alert-dialog-description",children:h})}),Object(S.jsx)(re.a,{children:Object(S.jsx)(m.a,{onClick:w,autoFocus:!0,children:"Close"})})]});return Object(S.jsxs)(O.a,{style:{paddingTop:"4em",minHeight:"calc(100vh - 64px)"},children:[(null===e||void 0===e?void 0:e.isCreator)&&Object(S.jsx)(b.a,{to:"/creator/dashboard"}),Object(S.jsxs)(v.a,{maxWidth:"sm",style:{height:"100%"},children:[Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(fe.a,{style:{padding:"2em",textAlign:"center"},elevation:3,children:[Object(S.jsx)("img",{style:{width:"100%",maxWidth:350},alt:"Become a creator",src:"/images/share.png"}),Object(S.jsx)(p.a,{align:"center",sx:{mt:2,mb:2},variant:"h4",children:"Become a Creator"}),Object(S.jsxs)(p.a,{align:"center",sx:{mt:2,mb:2},children:["Join over ",Object(S.jsx)(p.a,{component:"span",color:"#e770de",children:" 1000"})," creators who create everyday on Ereder"]}),Object(S.jsxs)(p.a,{fontSize:".9em",color:"GrayText",align:"center",sx:{mt:2,mb:2},children:["By becoming a creator you are required to comply with our ",Object(S.jsx)("a",{href:"/content-policy",children:"content policy"})," and follow all the ",Object(S.jsx)("a",{href:"/community-guidelines",children:"Community Guidelines"})]}),Object(S.jsx)(m.a,{onClick:function(){r(!0),y.becomeCreator().then((function(e){e.isCreator?g({type:"become_creator"}):(f("Failed to make you a creator"),l(!0))})).catch((function(e){f("Request Could not be completed at this time"),l(!0)}))},variant:"contained",style:{minWidth:103},children:c?Object(S.jsx)(ct.a,{size:30,color:"inherit"}):"Continue"})]})}),k]})]})},on=n(100),ln=n.n(on),jn=function(){function e(){Object(N.a)(this,e),this._api=void 0,this._api=I.a.create({baseURL:"/api/creator",headers:{"Content-Type":"application/json"}})}return Object(W.a)(e,[{key:"createRequest",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/requests",{amount:t},{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequests",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/requests",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWallet",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/wallet",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteItems",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/delete/".concat(t),{records:n.join(",")},{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"uploadVideo",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/video/".concat(t),n,{headers:{authorization:"Bearer ".concat(a.token)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"analytics",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,r,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/analytics/".concat(t),r=[],n&&r.push("populate="+n),a&&r.push("since="+a.getTime()),r.length>0&&(i="?"+(r.length>1?r.join("&"):r[0]),c+=i),s={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=8,this._api.get(c,{headers:{authorization:"Bearer ".concat(s.token)}});case 8:return l=e.sent,e.abrupt("return",l.data);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateBankDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/bank-details",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editChannel",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.post("/channel",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/channel",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBankDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:window.localStorage.getItem("jwt")||"NO_TOKEN"},e.next=3,this._api.get("/bank-details",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dn(){var e;return e||(e=new jn),e}var un=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(!0),h=Object(j.a)(b,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){if(!i&&t){if(console.log("load details"),d)return;dn().getBankDetails().then((function(e){u(e),m(!1)})).catch((function(e){console.log(e),m(!1)})),s(!0)}}),[i,t,d]),t?x&&!d?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):d?Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Account Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:d.bankAccountName}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Account Number"}),Object(S.jsx)(p.a,{fontSize:".9em",sx:{mb:1},children:d.bankAccountNumber}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Bank Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:d.bankName})]}):Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(je,{to:"/",doNotUseButton:!0,children:"Go Back"})]})}):Object(S.jsx)(c.a.Fragment,{})},bn=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!0),s=Object(j.a)(i,2),o=s[0],l=s[1],d=c.a.useState(!1),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(a.useState)(!1),g=Object(j.a)(x,2),y=g[0],w=g[1],k=Object(a.useState)(""),T=Object(j.a)(k,2),N=T[0],W=T[1],E=Object(a.useState)(""),I=Object(j.a)(E,2),B=I[0],z=I[1],A=Object(a.useState)(""),_=Object(j.a)(A,2),P=_[0],L=_[1];Object(a.useEffect)((function(){var e=dn();n?l(!1):e.getChannel().then((function(e){r(e),l(!1)})).catch((function(e){if(e.response){switch(l(!1),console.log(e.response),e.response.status){case 404:L(e.response.data.message);break;case 500:L("Server Error");break;default:L("Unknown Error")}l(!1)}else L(e.message),l(!1)}))}),[n]);var D=function(){h(!0)},V=function(){h(!1)},H=Object(S.jsxs)(ce.a,{open:b,onClose:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(oe.a,{id:"alert-dialog-title",children:N}),Object(S.jsx)(ie.a,{children:Object(S.jsx)(se.a,{id:"alert-dialog-description",children:B})}),Object(S.jsx)(re.a,{children:Object(S.jsx)(m.a,{onClick:V,autoFocus:!0,children:"Close"})})]});return o?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(rt,{})}):n?Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Channel Dashboard"}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(fe.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Channel Information"}),Object(S.jsx)(F.a,{color:"info",onClick:function(){W("Channel Info Help"),z("These Details would be displayed when someone navigates to your Channel page.\nPlease Note that the details here must comply with our Community Guidelines"),D()},children:Object(S.jsx)(ln.a,{})})]}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel Name"}),Object(S.jsx)(p.a,{sx:{mb:1},children:n.name}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel Description"}),Object(S.jsx)(p.a,{fontSize:".9em",sx:{mb:1},children:n.short_description||"No description provided"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Channel About Section"}),Object(S.jsx)(p.a,{paragraph:!0,fontSize:".9em",sx:{mb:1},children:n.about||"No about provided"}),Object(S.jsx)(je,{to:"/creator/edit-channel",children:"Edit Channel Info"})]})})}),Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(fe.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Channel Analytics"}),Object(S.jsx)(F.a,{color:"info",onClick:function(){W("Channel Analytics Help"),z("Analtytics on your Channel based on user interaction. \nYou can view a full summary of analytics by going to the Analytics section in the sidebar"),D()},children:Object(S.jsx)(ln.a,{})})]}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Total Followers"}),Object(S.jsx)(p.a,{variant:"h5",component:"p",sx:{mb:1},children:n.follower_count}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Videos"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:n.video_count||"0"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Views"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:n.total_views||"0"})]})})}),Object(S.jsx)(f.a,{item:!0,sm:12,md:6,children:Object(S.jsx)(fe.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{flex:1},children:"Bank Information"}),Object(S.jsx)(F.a,{color:"info",onClick:function(){W("Bank Info Help"),z("Information that we would use to pay your withdrawal requests"),D()},children:Object(S.jsx)(ln.a,{})})]}),Object(S.jsx)(un,{showing:y}),Object(S.jsxs)("div",{style:{display:"flex",maxWidth:300},children:[Object(S.jsxs)(m.a,{onClick:function(){w(!y)},children:[" ",y?"Hide Bank Details":"Show Bank Details"]}),Object(S.jsx)("div",{style:{flexGrow:1}}),Object(S.jsx)(je,{to:"/creator/edit-bank-account",children:"Edit Details "})]})]})})})]}),H]}):Object(S.jsx)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(p.a,{children:["An error occured ",P]})})})},hn=n(544),xn=n(536),On=n(500),pn=n(489),mn=n(490),fn=n(255),gn=n.n(fn),vn=n(256),yn=n.n(vn),wn=n(260),kn=n.n(wn),Sn=n(181),Cn=n.n(Sn),Tn=n(257),Nn=n.n(Tn),Wn=n(258),En=n.n(Wn),In=n(259),Bn=n.n(In),zn=200,An=[{title:"Dashboard",url:"/dashboard",Icon:gn.a},{title:"Create Video",url:"/add-video",Icon:yn.a},{title:"Edit Channel",url:"/edit-channel",Icon:Cn.a},{title:"Bank Account",url:"/edit-bank-account",Icon:Cn.a},{title:"Analytics",url:"/analytics",Icon:Nn.a},{title:"Income",url:"/income",Icon:En.a}];function _n(e){var t=Object(b.g)(),n=Object(x.b)(),c=a.useState(!1),r=Object(j.a)(c,2),i=r[0],s=r[1],o=e.window,l=a.useState(!1),d=Object(j.a)(l,2),u=d[0],h=d[1],m=a.useState(null),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Boolean(g),w=Object(S.jsx)(K.a,{anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},id:"settings-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:function(){v(null)},children:Object(S.jsxs)(G.a,{onClick:function(){n({type:"change-theme",value:!i}),s(!i)},children:[Object(S.jsx)(Z.a,{checked:i,size:"small"})," ",Object(S.jsx)("span",{children:" Dark Mode "})]})}),k=function(){h(!u)},C=Object(S.jsxs)("div",{children:[Object(S.jsx)(O.a,{padding:"0 1em"}),Object(S.jsx)(mt.a,{}),Object(S.jsxs)(xn.a,{children:[An.map((function(e,n){var a="/creator"+e.url,c=a===t.pathname;return Object(S.jsx)(je,{to:a,doNotUseButton:!0,children:Object(S.jsxs)(On.a,{selected:c,button:!0,children:[Object(S.jsx)(pn.a,{children:Object(S.jsx)(e.Icon,{})}),Object(S.jsx)(mn.a,{primary:e.title})]})},"ereder-drawer-item"+n)})),Object(S.jsx)(je,{to:"/",doNotUseButton:!0,children:Object(S.jsxs)(On.a,{button:!0,children:[Object(S.jsx)(pn.a,{children:Object(S.jsx)(Bn.a,{})}),Object(S.jsx)(mn.a,{primary:"Home"})]})})]})]}),T=void 0!==o?function(){return o().document.body}:void 0;return Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsxs)(q.a,{color:"default",elevation:0,position:"fixed",style:{top:0},sx:{width:{md:"calc(100% - ".concat(zn,"px)")},ml:{md:"".concat(zn,"px")}},children:[Object(S.jsxs)(R.a,{children:[Object(S.jsx)(F.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,sx:{mr:2,display:{md:"none"}},children:Object(S.jsx)(kn.a,{})}),Object(S.jsx)(p.a,{variant:"h6",noWrap:!0,component:"div",children:"Ereder Creator"}),Object(S.jsx)(O.a,{sx:{flexGrow:1}}),Object(S.jsx)(je,{to:"/creator/add-video",doNotUseButton:!0,children:Object(S.jsx)(ne.a,{title:"Create Video",children:Object(S.jsx)(F.a,{size:"large",edge:"end",color:"inherit",children:Object(S.jsx)($.a,{})})})}),Object(S.jsx)(ne.a,{title:"Settings",children:Object(S.jsx)(F.a,{onClick:function(e){v(e.currentTarget)},size:"large",edge:"end",color:"inherit",children:Object(S.jsx)(X.a,{})})})]}),w]}),Object(S.jsxs)(O.a,{component:"nav",sx:{width:{sm:zn},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(S.jsx)(hn.a,{container:T,variant:"temporary",open:u,onClose:k,ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:zn}},children:C}),Object(S.jsx)(hn.a,{variant:"permanent",sx:{display:{sm:"none",xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:zn}},open:!0,children:C})]}),Object(S.jsx)(O.a,{component:"main",sx:{flexGrow:1,p:3,pt:0,width:{sm:"calc(100% - ".concat(zn,"px)")}}})]})}var Pn=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"layout",children:[Object(S.jsx)(_n,{}),t,Object(S.jsx)("footer",{children:Object(S.jsx)(p.a,{align:"center",children:"\xa9 KRC media 2021 "})})]})},Ln=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(),d=Object(j.a)(l,2),u=d[0],b=d[1],h=Object(a.useState)(0),x=Object(j.a)(h,2),g=x[0],y=x[1],w=Object(a.useState)(""),k=Object(j.a)(w,2),N=k[0],W=k[1],E=Object(Ye.d)(),I=E.register,B=E.handleSubmit;Object(a.useEffect)((function(){var e=dn();n?o(!1):e.getChannel().then((function(e){c(e),o(!1)})).catch((function(e){if(e.response){switch(o(!1),console.log(e.response),e.response.status){case 404:W(e.response.data.message);break;case 500:W("Server Error");break;default:W("Unknown Error")}o(!1)}else W(e.message),o(!1)}))}),[n]);var z=function(e){var t=e.target.files[0];b(t)},A=function(e,t){if(u){var n=new window.XMLHttpRequest;n.open("POST",e),n.setRequestHeader("authorization","Bearer ".concat(window.localStorage.getItem("jwt")||"None")),n.upload.addEventListener("progress",(function(e){var t=e.loaded,n=e.total,a=Math.ceil(t/n*100);y(a)}));var a=new FormData;a.append(t,u),n.send(a),n.addEventListener("readystatechange",(function(e){if(e&&e.target&&4===e.target.readyState){var t=JSON.parse(n.response);c(t),b(void 0),y(0),alert("done")}}))}};return s?Object(S.jsx)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(rt,{})}):n?Object(S.jsxs)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsxs)("div",{style:{position:"relative"},children:[Object(S.jsx)("img",{src:n.banner||"/none.png",alt:"Channel banner",style:{width:"100%",height:"250px"}}),Object(S.jsx)(ae.a,{style:{position:"absolute",left:10,bottom:10},alt:n.name,src:n.logo,sx:{width:50,height:50}})]}),Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Edit Channel"}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsxs)(fe.a,{children:[Object(S.jsx)(Oe.a,{variant:"determinate",value:g}),Object(S.jsxs)(O.a,{style:{padding:"1em 1.2em",minWidth:"300px"},children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Edit Channel Logo"}),Object(S.jsx)(Gt.a,{id:"file-input",type:"file",onChange:z,inputProps:{accept:"image/png, image/jpeg"},startAdornment:Object(S.jsx)(Vt.a,{position:"start",children:Object(S.jsx)(F.a,{onClick:function(){return A("".concat("","/api/creator/channel/upload-logo"),"logo")},children:Object(S.jsx)(Ut.a,{})})}),endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{onClick:function(){},children:Object(S.jsx)(Pe.a,{})})})}),Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Edit Channel Banner"}),Object(S.jsx)(Gt.a,{id:"file-inpu-2t",type:"file",onChange:z,inputProps:{accept:"image/png, image/jpeg"},startAdornment:Object(S.jsx)(Vt.a,{position:"start",children:Object(S.jsx)(F.a,{onClick:function(){return A("".concat("","/api/creator/channel/upload-banner"),"banner")},children:Object(S.jsx)(Ut.a,{})})}),endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{onClick:function(){},children:Object(S.jsx)(Pe.a,{})})})})]})]})}),Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsx)(fe.a,{style:{padding:"1em 1.2em"},children:Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:B((function(e){console.log(e),o(!0),dn().editChannel(e).then((function(e){c(e),o(!1),console.log(e)})).catch((function(){alert("an error occured"),o(!1)}))})),children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Edit Channel Details"}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({defaultValue:n.name,id:"name",label:"Channel Name",variant:"outlined"},I("name")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({defaultValue:n.name||"",id:"short_description"},I("shortDescription")),{},{label:"Channel Description",variant:"outlined",multiline:!0,rows:3}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({id:"about",label:"Channel About",defaultValue:n.about||"No About",multiline:!0},I("about")),{},{rows:6,variant:"standard"}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Submit"})]})})})]}),Object(S.jsx)(T,{space:20})]}):Object(S.jsx)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(p.a,{children:["An error occured ",N]})})})},Dn=Xe.a({billingCardNumber:Xe.b().max(16).min(10).required(),cvv:Xe.b().length(3).required()}).required(),Vn=function(){var e,t,n=Object(x.c)((function(e){return e.auth.user})),c=Object(x.b)(),r=Object(a.useState)(""),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],h=Object(a.useState)(!0),f=Object(j.a)(h,2),g=f[0],y=f[1],w=Object(Ye.d)({resolver:Object(Je.a)(Dn)}),k=w.register,N=w.handleSubmit,W=w.formState.errors;return u?Object(S.jsx)(rt,{}):n?Object(S.jsx)(O.a,{style:{marginTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:N((function(e){if(console.log(e),s.length<5)y(!1);else{var t=s.split("/").map((function(e){return parseInt(e)}));console.log(t);var a=t.some((function(e){return isNaN(e)}));if(a||(a=t[0]>12||t[0]<1),!a){var r=new Date,i=parseInt(r.getFullYear().toString().slice(2));a=t[1]<i}if(a)return void y(!1);b(!0);var o=jt();e=Object(le.a)(Object(le.a)({},e),{},{billingCardBrand:"visa",billingCardExpMonth:t[0].toString(),billingCardExpYear:t[1].toString()}),o.addCard(e).then((function(e){if(console.log(e),n){var t=Object(le.a)(Object(le.a)({},n),{},{billing_card_last4:e.billingCardLast4,billing_card_brand:e.billingCardBrand});c({type:"login",user:t})}b(!1)})).catch((function(e){console.log(e),b(!1)})),console.log(e)}})),children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Billing Details"}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({placeholder:n.has_billing_card?"************"+n.billing_card_last4:"'************XXXX",id:"cardNumber",label:"Card Number",helperText:null===(e=W.billingCardNumber)||void 0===e?void 0:e.message,error:!!W.billingCardNumber,variant:"outlined",InputProps:{type:"number"}},k("billingCardNumber")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,{error:!g,helperText:g?"The expiry MM/YY on your card":"Invalid card number",value:s,id:"cardExpiry",label:"Card Expiry",variant:"outlined",InputProps:{type:"text"},name:"CardExpiry",onChange:function(e){g||y(!0);var t=e.target.value;if(!/[a-zA-Z]/.test(t)){var n=t.length;if(n<s.length)o(t);else if(!(n>=6))switch(n){case 2:o(t+"/");break;default:o(t)}}}})}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({id:"cvv",label:"CVV",helperText:null===(t=W.cvv)||void 0===t?void 0:t.message,error:!!W.billingCardNumber,variant:"outlined",InputProps:{type:"number"}},k("cvv")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{type:"submit",variant:"contained",children:"Update Details"})]})})}):Object(S.jsx)(O.a,{style:{paddingTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(je,{to:"/",doNotUseButton:!0,children:"Go Back"})]})})},Hn=Xe.a({bankAccountName:Xe.b().required(),bankName:Xe.b().required(),bankAccountNumber:Xe.b().length(10).required(),password:Xe.b().min(4).required()}).required(),qn=function(){var e,t,n,c,r=Object(a.useState)(!1),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),f=x[0],g=x[1],y=Object(Ye.d)({resolver:Object(Je.a)(Hn)}),w=y.register,k=y.handleSubmit,N=y.formState.errors,W=Object(a.useState)(),E=Object(j.a)(W,2),I=E[0],B=E[1];Object(a.useEffect)((function(){var e=dn();o(!0),e.getBankDetails().then((function(e){B(e),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]);var z=function(){g(""),b(!1)},A=Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:z,children:Object(S.jsx)(Pe.a,{fontSize:"small"})});return s&&!I?Object(S.jsx)(rt,{}):I?Object(S.jsxs)(O.a,{style:{paddingTop:"4em",position:"relative"},sx:{pt:1},children:[Object(S.jsxs)(v.a,{maxWidth:"md",sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[s&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:k((function(e){console.log(e),o(!0),b(!1),dn().updateBankDetails(e).then((function(e){B(e),g("Updated"),b(!0),o(!1)})).catch((function(e){if(console.log(e),e.response){switch(console.log(e.response),e.response.status){case 400:b(!0),g(e.response.data.problems)}o(!1)}else b(!0),g(e.message),o(!1)}))})),children:[Object(S.jsx)(p.a,{sx:{mt:2,mb:2,color:"text.primary"},fontWeight:"bold",children:"Billing Details"}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({defaultValue:I.bankAccountName,id:"bankAccountNamer",label:"Bank Account Name",helperText:null===(e=N.bankAccountName)||void 0===e?void 0:e.message,error:!!N.bankAccountName,variant:"outlined",InputProps:{type:"text"}},w("bankAccountName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({placeholder:I.bankAccountNumber,id:"bankAccountNamer",label:"Bank Account Number",helperText:null===(t=N.bankAccountNumber)||void 0===t?void 0:t.message,error:!!N.bankAccountNumber,variant:"outlined",InputProps:{type:"number"}},w("bankAccountNumber")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({defaultValue:I.bankName,id:"bankNamer",label:"Bank Name",helperText:null===(n=N.bankName)||void 0===n?void 0:n.message,error:!!N.bankName,variant:"outlined",InputProps:{type:"text"}},w("bankName")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({id:"password",error:!!N.password,helperText:null===(c=N.password)||void 0===c?void 0:c.message},w("password")),{},{label:"Password",variant:"outlined",InputProps:{type:"password"}}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{disabled:s,type:"submit",variant:"contained",children:"Update Details"})]})]}),Object(S.jsx)(Le.a,{open:u,autoHideDuration:6e3,onClose:z,message:f,action:A})]}):Object(S.jsx)(O.a,{style:{paddingTop:"4em",position:"relative"},sx:{pt:1},children:Object(S.jsxs)(C,{sx:{height:"60vh"},children:[Object(S.jsx)(p.a,{sx:{mb:1},children:"An internal error has occured"}),Object(S.jsx)(je,{to:"/",doNotUseButton:!0,children:"Go Back"})]})})},Rn=n(534),Fn=n(535),Mn=n(532),Gn=n(533),Kn=n(530),Un=n(531),Yn=n(28),Jn=n(501),Xn=n(261),Zn=n.n(Xn),Qn=n(262),$n=n.n(Qn),ea=n(497),ta=n(102),na=n.n(ta),aa=n(104),ca=n.n(aa),ra=n(103),ia=n.n(ra),sa=n(101),oa=n.n(sa),la=function(e){var t=e.numSelected,n=e.loading;return Object(S.jsxs)("div",{children:[Object(S.jsxs)(R.a,{sx:Object(le.a)({pl:{sm:2},pr:{xs:1,sm:1}},t>0&&{bgcolor:function(e){return Object(H.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[t>0?Object(S.jsxs)(p.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t," selected"]}):Object(S.jsx)(p.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Videos"}),t>0&&Object(S.jsx)(ne.a,{title:"Delete",children:Object(S.jsx)(F.a,{onClick:e.onDeleteClick,children:Object(S.jsx)(Zn.a,{})})})]}),n&&Object(S.jsx)(Oe.a,{})]})};function ja(e){var t=e.onSelectAllClick,n=e.numSelected,a=e.rowCount,c=e.headCells;return Object(S.jsx)(Kn.a,{children:Object(S.jsxs)(Un.a,{children:[Object(S.jsx)(Mn.a,{padding:"checkbox",children:Object(S.jsx)(Jn.a,{color:"primary",indeterminate:n>0&&n<a,checked:a>0&&n===a,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),c.map((function(e,t){return Object(S.jsx)(Mn.a,{align:"left",padding:"normal",children:e},"cell-"+t)}))]})})}function da(e){var t=Object(Yn.a)(),n=e.count,a=e.page,c=e.rowsPerPage,r=e.onPageChange;return Object(S.jsxs)(O.a,{sx:{flexShrink:0,ml:2.5},children:[Object(S.jsx)(F.a,{onClick:function(e){r(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===t.direction?Object(S.jsx)(oa.a,{}):Object(S.jsx)(na.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===t.direction?Object(S.jsx)(ia.a,{}):Object(S.jsx)(ca.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,a+1)},disabled:a>=Math.ceil(n/c)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(S.jsx)(ca.a,{}):Object(S.jsx)(ia.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,Math.max(0,Math.ceil(n/c)-1))},disabled:a>=Math.ceil(n/c)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(S.jsx)(na.a,{}):Object(S.jsx)(oa.a,{})})]})}var ua=function(e){var t=e.showing,n=c.a.useState(0),r=Object(j.a)(n,2),i=r[0],s=r[1],d=c.a.useState(5),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(Yn.a)(),f=c.a.useState([]),g=Object(j.a)(f,2),y=g[0],w=g[1],k=Object(a.useState)(!1),T=Object(j.a)(k,2),N=T[0],W=T[1],E=Object(a.useState)(!0),I=Object(j.a)(E,2),B=I[0],z=I[1],A=Object(a.useState)(!1),_=Object(j.a)(A,2),P=_[0],L=_[1],D=Object(a.useState)([]),V=Object(j.a)(D,2),H=V[0],q=V[1],R=Object(a.useState)(""),M=Object(j.a)(R,2),G=M[0],K=M[1],U=Object(a.useState)(!1),Y=Object(j.a)(U,2),J=Y[0],X=Y[1],Z=Object(a.useState)(0),Q=Object(j.a)(Z,2),$=Q[0],ee=Q[1],te=i>0?Math.max(0,(1+i)*b-H.length):0,ne=function(e){if(e.target.checked){var t=H.map((function(e){return e.id}));w(t)}else w([])},ae=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),console.log(y),n=y.slice(),a=dn(),e.prev=4,e.next=7,a.deleteItems("video",n);case 7:q(H.filter((function(e){return!re(e.id)}))),w([]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:L(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e,t){s(t)},re=function(e){return-1!==y.indexOf(e)},ie=function(e){h(parseInt(e.target.value,10)),s(0)},se=function(){ee($+1),W(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),N||!t){e.next=16;break}return console.log("here"),n=dn(),e.prev=4,e.next=7,n.analytics("video");case 7:a=e.sent,q(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),oe(e.t0.message||"An error occured");case 14:z(!1),W(!0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();H.length>0||e()}),[$,t,N,H]);var oe=function(e){K(e),X(!0),z(!1)},le=function(){K(""),X(!1)},de=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:se,children:"Retry"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:le,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[function(){var e=H;return B&&0===H.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===H.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"Nothing Found Here"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:se,children:"ReLoad"})]})})}):Object(S.jsx)(v.a,{maxWidth:"md",style:{padding:"1em"},children:Object(S.jsxs)(fe.a,{children:[Object(S.jsx)(la,{numSelected:y.length,onDeleteClick:ae,loading:P}),Object(S.jsx)(Gn.a,{children:Object(S.jsxs)(Rn.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(S.jsx)(ja,{numSelected:y.length,onSelectAllClick:ne,headCells:["Title","Type","Views","Likes","Watch"],rowCount:e.length}),Object(S.jsxs)(Fn.a,{children:[(b>0?e.slice(i*b,i*b+b):e).map((function(e,t){var n=re(e.id),a="enhanced-table-checkbox-".concat(t);return Object(S.jsxs)(Un.a,{selected:n,children:[Object(S.jsx)(Mn.a,{padding:"checkbox",children:Object(S.jsx)(Jn.a,{onClick:function(t){!function(e,t){var n=y.indexOf(t),a=[];-1===n?a=a.concat(y,t):0===n?a=a.concat(y.slice(1)):n===y.length-1?a=a.concat(y.slice(0,-1)):n>0&&(a=a.concat(y.slice(0,n),y.slice(n+1))),w(a)}(0,e.id)},color:"primary",checked:n,inputProps:{"aria-labelledby":a}})}),Object(S.jsx)(Mn.a,{component:"th",scope:"row",children:it(e.title,20)}),Object(S.jsx)(Mn.a,{style:{width:160},align:"left",children:e.videoType}),Object(S.jsx)(Mn.a,{style:{width:160},align:"left",children:e.viewCount}),Object(S.jsx)(Mn.a,{style:{width:160},align:"left",children:e.likeCount}),Object(S.jsx)(Mn.a,{style:{width:160},align:"left",children:Object(S.jsx)(je,{to:"/main/watch/"+e.id,doNotUseButton:!0,children:Object(S.jsx)(F.a,{children:Object(S.jsx)($n.a,{htmlColor:x.palette.primary.main})})})})]},e.id)})),te>0&&Object(S.jsx)(Un.a,{style:{height:53*te},children:Object(S.jsx)(Mn.a,{colSpan:6})})]})]})}),Object(S.jsx)(ea.a,{sx:{width:"100%",display:"block"},rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:e.length,rowsPerPage:b,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:ce,onRowsPerPageChange:ie,ActionsComponent:da})]})})}(),Object(S.jsx)(Le.a,{open:J,autoHideDuration:6e3,onClose:le,message:G,action:de})]})},ba=function(e){var t=e.showing,n=Object(a.useState)(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],d=Object(a.useState)(!0),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(a.useState)([]),f=Object(j.a)(x,2),g=f[0],y=f[1],w=Object(a.useState)(""),k=Object(j.a)(w,2),T=k[0],N=k[1],W=Object(a.useState)(!1),E=Object(j.a)(W,2),I=E[0],B=E[1],z=Object(a.useState)(0),A=Object(j.a)(z,2),_=A[0],P=A[1],L=function(){P(_+1),s(!1)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!t){e.next=14;break}return n=dn(),e.prev=2,e.next=5,n.analytics("view","video");case 5:a=e.sent,y(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),D(e.t0.message||"An error occured");case 12:h(!1),s(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();g.length>0||e()}),[_,t,i,g]);var D=function(e){N(e),B(!0),h(!1)},V=function(){N(""),B(!1)},H=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"Retry"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[b&&0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===g.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"No Views Found"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:L,children:"ReLoad"})]})})}):Object(S.jsxs)(O.a,{children:[Object(S.jsxs)(p.a,{variant:"h5",children:[" Total: ",g.length]}),Object(S.jsx)(Gn.a,{component:fe.a,style:{minHeight:"60vh"},children:Object(S.jsxs)(Rn.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(Kn.a,{children:Object(S.jsxs)(Un.a,{children:[Object(S.jsx)(Mn.a,{children:"Video"}),Object(S.jsx)(Mn.a,{align:"right",children:"Duration"}),Object(S.jsx)(Mn.a,{align:"right",children:"isPayedView"}),Object(S.jsx)(Mn.a,{align:"right",children:"Date"})]})}),Object(S.jsx)(Fn.a,{children:g.map((function(e,t){var n=e.video,a=e.duration,c=e.isPayedView,r=e.createdAt;return Object(S.jsxs)(Un.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(S.jsx)(Mn.a,{component:"th",scope:"row",children:Object(S.jsxs)(je,{doNotUseButton:!0,to:"/creator/watch/"+n.id,children:[Object(S.jsxs)(p.a,{color:"primary.main",fontWeight:"bold",children:[" ",n.title]})," "]})}),Object(S.jsxs)(Mn.a,{align:"right",children:[Object(S.jsx)(p.a,{children:st(a/1e3)})," "]}),Object(S.jsx)(Mn.a,{align:"right",children:Object(S.jsx)(p.a,{children:c.toString()})}),Object(S.jsx)(Mn.a,{align:"right",children:Object(S.jsx)(p.a,{children:Ie()(r).format("DD/MM/YYYY")})})]},"view-history"+t)}))})]})})]}),Object(S.jsx)(Le.a,{open:I,autoHideDuration:6e3,onClose:V,message:T,action:H})]})},ha=function(e){var t=e.channel;return Object(S.jsx)(f.a,{container:!0,spacing:2,children:Object(S.jsx)(f.a,{item:!0,sm:12,md:6,style:{flex:1},children:Object(S.jsx)(fe.a,{sx:{minWidth:"300px"},children:Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",children:"Total Followers"}),Object(S.jsx)(p.a,{variant:"h5",component:"p",sx:{mb:1},children:t.follower_count}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Videos"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:t.video_count||"0"}),Object(S.jsx)(p.a,{variant:"caption",color:"GrayText",style:{display:"block"},sx:{mt:1},children:"Total Views"}),Object(S.jsx)(p.a,{paragraph:!0,sx:{mb:1},children:t.total_views||"0"})]})})})})},xa=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],d=i[1],u=Object(x.c)((function(e){return e.auth.user})),b=["Overview","Views","Videos"],h=Object(a.useState)(0),m=Object(j.a)(h,2),f=m[0],g=m[1],y=function(e,t){g(t)};Object(a.useEffect)((function(){var e=window.location.hash.slice(1);if(e){var t={};["Overview","Views","Videos"].forEach((function(e,n){t[e.toLocaleLowerCase()]=n}));var n=t[e];n&&g(n)}}),[]);var w=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=dn(),e.next=3,t.getChannel();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(O.a,{style:{paddingTop:"4em",position:"relative",height:"100vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[s?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(rt,{})}):n?Object(S.jsxs)(S.Fragment,{children:["   ",Object(S.jsx)(Mt.a,{children:Object(S.jsxs)("title",{children:[n.name||"None"," "]})}),Object(S.jsx)(fe.a,{style:{padding:"1em 0 0",border:"none",boxShadow:"none"},elevation:0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsxs)(p.a,{variant:"h5",children:[(null===u||void 0===u?void 0:u.fullName)||"None"," / ",n.name]})})}),Object(S.jsx)(fe.a,{style:{position:"sticky",top:64,left:0,zIndex:99,borderTop:"none"},square:!0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper",position:"sticky",top:64,left:0,zIndex:99},children:Object(S.jsx)(Rt.a,{variant:"scrollable",scrollButtons:"auto",value:f,onChange:y,children:b.map((function(e,t){return Object(S.jsx)(Ft.a,{href:"#"+e.toLocaleLowerCase(),label:e},"ereder-tab"+t)}))})})})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:0===f?"block":"none"},children:Object(S.jsx)(ha,{channel:n})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:1===f?"block":"none"},children:Object(S.jsx)(ba,{showing:1===f})}),Object(S.jsx)(O.a,{padding:"1em",style:{display:2===f?"block":"none"},children:Object(S.jsx)(ua,{showing:2===f})})]}):Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsx)(p.a,{children:"An error occured "})})}),Object(S.jsx)(De,{setLoading:d,request:w,onLoad:function(e){console.log(e),c(e),d(!1)}})]})},Oa=Xe.a({title:Xe.b().min(6).required(),description:Xe.b().min(6).required()}).required();function pa(e){return Object(S.jsxs)(O.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(S.jsx)(ct.a,Object(le.a)({variant:"determinate"},e)),Object(S.jsx)(O.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(S.jsx)(p.a,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(e.value,"%")})})]})}var ma=function(){var e,t,n=Object(a.useState)("public"),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!0),b=Object(j.a)(u,2),h=b[0],x=b[1],g=Object(a.useState)(0),y=Object(j.a)(g,2),w=y[0],k=y[1],N=Object(a.useState)(),W=Object(j.a)(N,2),E=W[0],I=W[1],B=Object(a.useState)(""),z=Object(j.a)(B,2),A=z[0],_=z[1],P=Object(a.useState)(!0),L=Object(j.a)(P,2),D=L[0],V=L[1],H=Object(a.useState)(""),q=Object(j.a)(H,2),R=q[0],M=q[1],K=Object(a.useState)(!1),U=Object(j.a)(K,2),Y=U[0],J=U[1],X=Object(a.useState)(!1),Z=Object(j.a)(X,2),Q=Z[0],$=Z[1],ee=Object(a.useState)(0),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ce=Object(Ye.d)({resolver:Object(Je.a)(Oa)}),re=ce.register,ie=ce.handleSubmit,se=ce.formState.errors,oe=function(e){M(e),J(!0)},de=function(e){var t=e.target.files[0];I(t),console.log(t);var n=document.getElementById("video-temp");if(t&&n){var a=t.type;if(n.canPlayType(a)){var c=URL.createObjectURL(t);n.src=c}else alert("cannot play video")}},ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(E){if(!n){console.log("Uploding");var a=document.getElementById("video-temp"),c=Math.floor(a.duration);if(1e3*c<12e3)return void alert("Minimum duration is 2:00 mins");ae(1e3*c)}var r=new window.XMLHttpRequest;r.open("POST",e),r.setRequestHeader("authorization","Bearer ".concat(window.localStorage.getItem("jwt")||"None")),r.upload.addEventListener("progress",(function(e){var t=e.loaded,n=e.total,a=Math.ceil(t/n*100);k(a)}));var i=new FormData;i.append(t,E),r.send(i),r.addEventListener("readystatechange",(function(e){if(e&&e.target){if(4===e.target.readyState&&!n){var t=JSON.parse(r.response).up;console.log(t),_(t.id),I(void 0),k(0),x(!1)}V(!0)}}))}};return D&&Q&&l?Object(S.jsx)(O.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"70vh"},children:Object(S.jsxs)(fe.a,{style:{padding:"3em",minWidth:"300px"},children:[Object(S.jsx)("div",{style:{textAlign:"center"},children:Object(S.jsx)("img",{src:"/images/upload.png",alt:"done",style:{maxWidth:200,marginBottom:10}})}),Object(S.jsx)(p.a,{align:"center",color:"success.main",sx:{mt:2,mb:2},children:" Done Creating Video"}),Object(S.jsx)("div",{style:{textAlign:"center"},children:Object(S.jsx)(je,{to:"/creator/watch/".concat(A),children:"View"})})]})})}):A?Object(S.jsxs)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Add Video "}),Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsxs)(fe.a,{children:[h&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)(O.a,{style:{padding:"1em 1.2em"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{marginBottom:"20px"},children:"Step Two"}),Object(S.jsxs)("form",{style:{maxWidth:"500px"},onSubmit:ie((function(e){console.log(e),x(!0),M(""),J(!1),V(!1),document.body.scrollTop=0,document.documentElement.scrollTop=0;var t=dn();e.duration=ne,t.uploadVideo(A,e).then((function(e){console.log(e),_(e.id),d(e),$(!0),x(!1)})).catch((function(e){var t="An Error Occured";if(e.response){switch(x(!1),console.log(e.response),e.response.status){case 400:case 404:case 500:default:oe(e.response.data.problems||t)}oe(t)}else oe(t)}))})),children:[Object(S.jsx)(p.a,{style:{marginBottom:"20px"},children:"Video Details"}),Y&&Object(S.jsx)(p.a,{color:"error.main",style:{marginBottom:"20px"},children:R}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({helperText:null===(e=se.title)||void 0===e?void 0:e.message,id:"title",error:!!se.title,label:"Video Title",variant:"outlined"},re("title")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({helperText:null===(t=se.description)||void 0===t?void 0:t.message,id:"description",error:!!se.description},re("description")),{},{label:"Video Description",variant:"outlined",multiline:!0,rows:4}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)($e.a,{id:"demo-simple-select-label",children:"Video Type"}),Object(S.jsxs)(Ue.a,{fullWidth:!0,children:["  ",Object(S.jsx)(et.a,Object(le.a)(Object(le.a)({},re("videoType")),{},{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,label:"Video Type",onChange:function(e){i(e.target.value)},children:[{title:"Public Video",value:"public"},{title:"Restricted Video",value:"restricted"}].map((function(e,t){var n=e.value,a=e.title;return Object(S.jsx)(G.a,{value:n,children:a},"video-type"+t)}))}))]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)(Object(le.a)({id:"duration",label:"Video Duration(msecs)",disabled:!0,value:ne,variant:"outlined",InputProps:{type:"text"}},re("duration")),{},{helperText:st(ne/1e3)}))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(Ue.a,{fullWidth:!0,children:Object(S.jsx)(ge.a,Object(le.a)({id:"price",label:"Video Price",disabled:"public"===r,variant:"outlined",InputProps:{type:"number"}},re("price")))}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(m.a,{disabled:Q,type:"submit",variant:"contained",children:"Submit"})]})]})]})}),Object(S.jsx)(f.a,{item:!0,md:6,sm:12,style:{flex:1},children:Object(S.jsxs)(fe.a,{style:{padding:"1em 1.2em",minWidth:"300px"},children:[Object(S.jsx)(p.a,{variant:"h6",style:{marginBottom:"20px"},children:"Step Three"}),!Q&&Object(S.jsx)(p.a,{component:"small",fontSize:14,color:"GrayText",children:" You must submit video details first"}),Object(S.jsx)(T,{space:20}),Object(S.jsx)($e.a,{id:"video-thumbnail",children:"Video Thumbnail"}),Object(S.jsx)(O.a,{display:"flex",children:Object(S.jsx)(Gt.a,{id:"file-input",type:"file",disabled:!Q,inputProps:{accept:"image/png, image/jpeg"},onChange:de,startAdornment:Object(S.jsx)(Vt.a,{position:"start",children:Object(S.jsx)(F.a,{disabled:!Q,onClick:function(){ue("".concat("","/api/creator/thumbnail/")+A,"thumb",!0)},children:Object(S.jsx)(Ut.a,{})})}),endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{disabled:!Q,onClick:function(){var e=document.getElementById("file-input");I(null),e&&(e.value="")},children:Object(S.jsx)(Pe.a,{})})})})}),Object(S.jsx)("div",{style:{textAlign:"center",marginTop:"2em"},children:Object(S.jsx)(pa,{value:w})})]})})]}),Object(S.jsx)(T,{space:20})]}):Object(S.jsx)(O.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsxs)(v.a,{maxWidth:"sm",children:[Object(S.jsx)(p.a,{variant:"h5",style:{marginBottom:"20px"},children:"Upload Video "}),Object(S.jsxs)(O.a,{padding:"1em",children:[Object(S.jsx)(p.a,{variant:"h6",style:{marginBottom:"20px"},children:"Step One (Select Video File)"}),Object(S.jsxs)(fe.a,{style:{display:"flex",alignItems:"center",padding:"2em 1em"},children:[Object(S.jsx)(Gt.a,{id:"file-input",type:"file",inputProps:{accept:"video/mp4, video/ogg"},onChange:de,startAdornment:Object(S.jsx)(Vt.a,{position:"start",children:Object(S.jsx)(F.a,{onClick:function(){return ue("".concat("","/api/creator/upload"),"video")},children:Object(S.jsx)(Ut.a,{})})}),endAdornment:Object(S.jsx)(Vt.a,{position:"end",children:Object(S.jsx)(F.a,{onClick:function(){var e=document.getElementById("file-input");I(null),e&&(e.value="")},children:Object(S.jsx)(Pe.a,{})})})}),Object(S.jsx)("div",{style:{flexGrow:1}}),Object(S.jsx)("video",{id:"video-temp",style:{display:"none"}}),Object(S.jsx)("div",{style:{textAlign:"center"},children:Object(S.jsx)(pa,{value:w})})]})]})]})})};n(491);function fa(e){var t=Object(Yn.a)(),n=e.count,a=e.page,c=e.rowsPerPage,r=e.onPageChange;return Object(S.jsxs)(O.a,{sx:{flexShrink:0,ml:2.5},children:[Object(S.jsx)(F.a,{onClick:function(e){r(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===t.direction?Object(S.jsx)(oa.a,{}):Object(S.jsx)(na.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===t.direction?Object(S.jsx)(ia.a,{}):Object(S.jsx)(ca.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,a+1)},disabled:a>=Math.ceil(n/c)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(S.jsx)(ca.a,{}):Object(S.jsx)(ia.a,{})}),Object(S.jsx)(F.a,{onClick:function(e){r(e,Math.max(0,Math.ceil(n/c)-1))},disabled:a>=Math.ceil(n/c)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(S.jsx)(na.a,{}):Object(S.jsx)(oa.a,{})})]})}var ga=function(e){var t=e.wallet,n=c.a.useState(!1),r=Object(j.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(""),h=Object(j.a)(b,2),x=h[0],f=h[1],g=function(){s(!1)},v=Object(S.jsxs)(ce.a,{open:i,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(oe.a,{id:"alert-dialog-title",children:d}),Object(S.jsx)(ie.a,{children:Object(S.jsx)(se.a,{id:"alert-dialog-description",children:x})}),Object(S.jsx)(re.a,{children:Object(S.jsx)(m.a,{onClick:g,autoFocus:!0,children:"Close"})})]});return Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.a,{padding:"3em 1em",sx:{backgroundColor:"primary.main",minHeight:"calc(100vh - 164px)"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(fe.a,{style:{padding:"2em",textAlign:"center"},elevation:3,children:[Object(S.jsx)("img",{style:{width:"100%",maxWidth:350},alt:"Become a creator",src:"/images/earn.png"}),Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsxs)(p.a,{variant:"h6",style:{flex:1},children:["Total Balance (NGN)",t.income]}),Object(S.jsx)(F.a,{color:"info",onClick:function(){u("Balance Info Help"),f("We take 10% of all payments as is contained in our terms of use"),s(!0)},children:Object(S.jsx)(ln.a,{})})]})]})})}),v]})},va=function(e){var t=e.showing,n=c.a.useState(0),r=Object(j.a)(n,2),i=r[0],s=r[1],d=c.a.useState(5),u=Object(j.a)(d,2),b=u[0],h=u[1],x=Object(a.useState)(!1),f=Object(j.a)(x,2),g=f[0],y=f[1],w=Object(a.useState)(!0),k=Object(j.a)(w,2),T=k[0],N=k[1],W=Object(a.useState)([]),E=Object(j.a)(W,2),I=E[0],B=E[1],z=Object(a.useState)(""),A=Object(j.a)(z,2),_=A[0],P=A[1],L=Object(a.useState)(!1),D=Object(j.a)(L,2),V=D[0],H=D[1],q=Object(a.useState)(0),R=Object(j.a)(q,2),M=R[0],G=R[1],K=function(){G(M+1),y(!1)},U=function(e,t){s(t)},Y=function(e){h(parseInt(e.target.value,10)),s(0)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g||!t){e.next=14;break}return n=dn(),e.prev=2,e.next=5,n.analytics("purchase","videoPurchased");case 5:a=e.sent,B(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),J(e.t0.message||"An error occured");case 12:N(!1),y(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();I.length>0||e()}),[M,t,g,I]);var J=function(e){P(e),H(!0),N(!1)},X=function(){P(""),H(!1)},Z=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:K,children:"Retry"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:X,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]});return Object(S.jsxs)(O.a,{children:[T&&0===I.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===I.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"Nothing Found Here"}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:K,children:"ReLoad"})]})})}):Object(S.jsx)(v.a,{maxWidth:"md",style:{padding:"1em"},children:Object(S.jsxs)(fe.a,{children:[Object(S.jsx)(Gn.a,{style:{minHeight:"40vh"},children:Object(S.jsxs)(Rn.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(Kn.a,{children:Object(S.jsxs)(Un.a,{children:[Object(S.jsx)(Mn.a,{children:"Video"}),Object(S.jsx)(Mn.a,{align:"right",children:"Amount Paid"}),Object(S.jsx)(Mn.a,{align:"right",children:"Date"})]})}),Object(S.jsx)(Fn.a,{children:(b>0?I.slice(i*b,i*b+b):I).map((function(e,t){var n=e.videoPurchased,a=e.amountPaid,c=e.createdAt;return Object(S.jsxs)(Un.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(S.jsx)(Mn.a,{component:"th",scope:"row",children:Object(S.jsxs)(je,{doNotUseButton:!0,to:"/creator/watch/"+n.id,children:[Object(S.jsxs)(p.a,{color:"primary.main",fontWeight:"bold",children:[" ",n.title]})," "]})}),Object(S.jsxs)(Mn.a,{align:"right",children:[Object(S.jsxs)(p.a,{children:["NGN",a]})," "]}),Object(S.jsx)(Mn.a,{align:"right",children:Object(S.jsx)(p.a,{children:Ie()(c).format("DD/MM/YYYY")})})]},"purchase-"+t)}))})]})}),Object(S.jsx)(ea.a,{sx:{width:"100%",display:"block"},rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:I.length,rowsPerPage:b,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:U,onRowsPerPageChange:Y,ActionsComponent:fa})]})}),Object(S.jsx)(Le.a,{open:V,autoHideDuration:6e3,onClose:X,message:_,action:Z})]})},ya=function(e){var t=e.showing,n=e.onRequestChange,r=c.a.useState(0),i=Object(j.a)(r,2),s=i[0],d=i[1],u=c.a.useState(5),b=Object(j.a)(u,2),h=b[0],x=b[1],f=Object(a.useState)(!1),g=Object(j.a)(f,2),y=g[0],w=g[1],k=Object(a.useState)(!0),T=Object(j.a)(k,2),N=T[0],W=T[1],E=Object(a.useState)([]),I=Object(j.a)(E,2),B=I[0],z=I[1],A=Object(a.useState)(""),_=Object(j.a)(A,2),P=_[0],L=_[1],D=Object(a.useState)(!1),V=Object(j.a)(D,2),q=V[0],M=V[1],G=Object(a.useState)(0),K=Object(j.a)(G,2),U=K[0],Y=K[1],J=Object(a.useState)(!1),X=Object(j.a)(J,2),Z=X[0],Q=X[1],ee=c.a.useState(!1),te=Object(j.a)(ee,2),ae=te[0],le=te[1],je=Object(a.useState)(0),de=Object(j.a)(je,2),ue=de[0],be=de[1],he=function(){le(!0)},xe=function(){le(!1)},pe=function(){ue>0||(Y(U+1),w(!1))},me=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=dn(),0!==ue){e.next=3;break}return e.abrupt("return");case 3:return Q(!0),e.prev=4,e.next=7,t.createRequest(ue);case 7:a=e.sent,z(B.concat([a])),n(a.amount),alert("Request successful"),xe(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),e.t0.response&&400===e.t0.response.status&&(console.log(e.t0.response.data),we(ue<100?"".concat(ue," is less than minimum which is (NGN)100"):e.t0.response.data.problems));case 17:Q(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),ve=function(e,t){d(t)},ye=function(e){x(parseInt(e.target.value,10)),d(0)};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y||!t){e.next=14;break}return n=dn(),e.prev=2,e.next=5,n.getRequests();case 5:a=e.sent,z(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),we(e.t0.message||"An error occured");case 12:W(!1),w(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();B.length>0||e()}),[U,t,y,B]);var we=function(e){L(e),M(!0),W(!1)},ke=function(){L(""),M(!1)},Se=Object(S.jsx)("div",{children:Object(S.jsxs)(R.a,{sx:{pl:{sm:2},pr:{xs:1,sm:1},bgcolor:function(e){return Object(H.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[Object(S.jsxs)(p.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[B.length,"  Requests"]}),Object(S.jsx)(ne.a,{title:"Add",children:Object(S.jsx)(F.a,{onClick:he,children:Object(S.jsx)($.a,{})})})]})}),Ce=Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:pe,children:"Retry"}),Object(S.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:ke,children:Object(S.jsx)(Pe.a,{fontSize:"small"})})]}),Te=Object(S.jsxs)(ce.a,{open:ae,onClose:xe,children:[Z&&Object(S.jsx)(Oe.a,{}),Object(S.jsx)(oe.a,{children:"Request Withdrwawal"}),Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(se.a,{children:"Check that the amount entered is not more than the balance of your wallet"}),Object(S.jsx)(ge.a,{defaultValue:0,autoFocus:!0,margin:"dense",id:"name",label:"Amount",type:"number",fullWidth:!0,variant:"standard",onChange:function(e){be(parseInt(e.target.value))}})]}),Object(S.jsxs)(re.a,{children:[Object(S.jsx)(m.a,{onClick:xe,children:"Cancel"}),Object(S.jsx)(m.a,{onClick:me,children:"Send"})]})]});return Object(S.jsxs)(O.a,{children:[N&&0===B.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(ct.a,{}),Object(S.jsx)(p.a,{children:"Loading"})]})})}):0===B.length?Object(S.jsx)(v.a,{maxWidth:"sm",style:{paddingTop:"2em",height:"60vh"},children:Object(S.jsx)(C,{sx:{height:"100%",textAlign:"center"},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{sx:{mb:2},children:"Nothing Found Here"}),Object(S.jsx)(m.a,{variant:"contained",onClick:he,sx:{mr:2},children:" Create "}),Object(S.jsx)(m.a,{color:"secondary",size:"small",onClick:pe,children:"Reload"})]})})}):Object(S.jsx)(v.a,{maxWidth:"md",style:{padding:"1em"},children:Object(S.jsxs)(fe.a,{children:[Se,Object(S.jsx)(Gn.a,{style:{minHeight:"40vh"},children:Object(S.jsxs)(Rn.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(Kn.a,{children:Object(S.jsxs)(Un.a,{children:[Object(S.jsx)(Mn.a,{children:"Status"}),Object(S.jsx)(Mn.a,{align:"right",children:"Amount"}),Object(S.jsx)(Mn.a,{align:"right",children:"Date"})]})}),Object(S.jsx)(Fn.a,{children:(h>0?B.slice(s*h,s*h+h):B).map((function(e,t){var n=e.status,a=e.amount,c=e.createdAt;return Object(S.jsxs)(Un.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(S.jsx)(Mn.a,{component:"th",scope:"row",children:Object(S.jsxs)(p.a,{color:"primary.main",fontWeight:"bold",children:[" ",n]})}),Object(S.jsxs)(Mn.a,{align:"right",children:[Object(S.jsxs)(p.a,{children:["NGN",a]})," "]}),Object(S.jsx)(Mn.a,{align:"right",children:Object(S.jsx)(p.a,{children:Ie()(c).format("DD/MM/YYYY")})})]},"request-"+t)}))})]})}),Object(S.jsx)(ea.a,{sx:{width:"100%",display:"block"},rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:B.length,rowsPerPage:h,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:ve,onRowsPerPageChange:ye,ActionsComponent:fa})]})}),Te,Object(S.jsx)(Le.a,{open:q,autoHideDuration:6e3,onClose:ke,message:P,action:Ce})]})},wa=function(){var e=["Overview","Requests","Transactions","Purchases"],t=Object(a.useState)(0),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),s=Object(j.a)(i,2),d=s[0],u=s[1],b=Object(a.useState)(!1),h=Object(j.a)(b,2),m=h[0],f=h[1],g=Object(x.c)((function(e){return e.auth.user}));Object(a.useEffect)((function(){var e=window.location.hash.slice(1);if(e){var t={};["Overview","Requests","Transactions","Purchases"].forEach((function(e,n){t[e.toLocaleLowerCase()]=n}));var n=t[e];n&&r(n)}}),[]);var y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=dn(),e.next=3,t.getWallet();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){r(t)};return Object(S.jsxs)(O.a,{style:{paddingTop:"4em",position:"relative",height:"100vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:[m?Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(rt,{})}):d?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(fe.a,{style:{padding:"1em 0 0",border:"none",boxShadow:"none"},elevation:0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsxs)(p.a,{variant:"h5",children:[(null===g||void 0===g?void 0:g.fullName)||"None"," / Wallet"]})})}),Object(S.jsx)(fe.a,{style:{position:"sticky",top:64,left:0,zIndex:99,borderTop:"none"},square:!0,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper",position:"sticky",top:64,left:0,zIndex:99},children:Object(S.jsx)(Rt.a,{variant:"scrollable",scrollButtons:"auto",value:c,onChange:w,children:e.map((function(e,t){return Object(S.jsx)(Ft.a,{href:"#"+e.toLocaleLowerCase(),label:e},"ereder-tab"+t)}))})})})}),Object(S.jsx)(O.a,{style:{display:0===c?"block":"none"},children:Object(S.jsx)(ga,{wallet:d})}),Object(S.jsx)(O.a,{style:{display:1===c?"block":"none"},children:Object(S.jsx)(ya,{showing:1===c,onRequestChange:function(e){var t=Object(le.a)({},d);t.income=d.income-e,u(t)}})}),Object(S.jsx)(O.a,{style:{display:3===c?"block":"none"},children:Object(S.jsx)(va,{showing:3===c})})]}):Object(S.jsx)(v.a,{style:{marginTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsx)(p.a,{children:"An error occured "})})}),Object(S.jsx)(De,{setLoading:f,request:y,onLoad:function(e){console.log(e),u(e),f(!1)}})]})},ka=function(){var e=Object(b.h)().id,t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),d=s[0],u=s[1],h=Object(a.useState)(),x=Object(j.a)(h,2),O=x[0],f=x[1],g=Object(a.useState)(),y=Object(j.a)(g,2),w=y[0],k=y[1],T=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=jt(),e.prev=1,!O){e.next=9;break}return u(!0),e.next=6,t.purchase(O.id);case 6:n=e.sent,console.log(n),k(n.accessCode);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response&&e.t0.response.data.problems&&alert(e.t0.response.data.problems);case 14:u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=jt(),r(!0),t.prev=2,t.next=5,n.checkForAccess(e);case 5:a=t.sent,window.location.pathname="/main/restricted/"+a.accessCode,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:return t.next=13,n.getRestrictedVideo("lion",e);case 13:return c=t.sent,f(O),r(!1),t.abrupt("return",c);case 17:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(v.a,{maxWidth:"md",style:{maxHeight:"calc(100vh )",overflow:"hidden",paddingTop:"64px"},sx:{position:"relative",display:{sm:"block",md:"flex"}},children:[c?Object(S.jsx)(rt,{}):O&&!w?Object(S.jsx)(C,{sx:{height:"100vh",width:"100%"},children:Object(S.jsxs)(fe.a,{style:{textAlign:"center",minWidth:"270px"},elevation:3,children:[d&&Object(S.jsx)(Oe.a,{}),Object(S.jsxs)("div",{style:{padding:"2em"},children:[Object(S.jsx)("img",{style:{width:"100%",maxWidth:350},alt:"Become a creator",src:O.thumbnail}),Object(S.jsx)(p.a,{align:"center",sx:{mt:2,mb:2},variant:"h6",children:"Purchas Video"}),Object(S.jsxs)(p.a,{align:"center",sx:{mt:2,mb:2},color:"GrayText",children:["(NGN)",O.price]}),Object(S.jsx)(m.a,{onClick:T,variant:"contained",children:"Purchase"})]})]})}):w?Object(S.jsx)(b.a,{to:"/main/restricted/".concat(w)}):Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(fe.a,{style:{padding:"2em",textAlign:"center"},elevation:3,children:[Object(S.jsx)("img",{style:{width:"100%",maxWidth:350},alt:"Become a creator",src:"/images/share.png"}),Object(S.jsx)(p.a,{align:"center",sx:{mt:2,mb:2},children:"An Error occurred          "})]})}),Object(S.jsx)(De,{setLoading:r,request:N,onLoad:function(e){console.log(e),f(e),r(!1)}})]})};Ie.a.extend(Se.a);var Sa=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],d=i[1],u=Object(b.h)().accessCode,h=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=jt(),d(!0),e.next=4,t.getRestrictedVideo(u);case 4:return n=e.sent,console.log(n,"lion"),c(n),d(!1),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[s&&!n?Object(S.jsx)(rt,{}):n?Object(S.jsx)(O.a,{style:{paddingTop:"4em"},children:Object(S.jsxs)(f.a,{container:!0,spacing:2,children:[Object(S.jsx)(f.a,{item:!0,md:8,sm:12,children:Object(S.jsx)(_t,{url:""+n.url,video:n,accessToken:u})}),Object(S.jsx)(f.a,{item:!0,md:4,sm:12,children:Object(S.jsxs)(O.a,{padding:2,children:[Object(S.jsx)(p.a,{variant:"caption",children:"string"===typeof n.channel?n.channel:n.channel.name}),Object(S.jsxs)(p.a,{variant:"h4",children:[n.title," "]}),Object(S.jsx)(p.a,{variant:"body2",children:n.description}),Object(S.jsx)(p.a,{sx:{mt:1,mb:2},variant:"caption",children:Ie()(n.createdAt).fromNow()}),Object(S.jsx)(Ht,{videoId:n.id})]})})]})}):Object(S.jsx)("p",{children:"lol"}),Object(S.jsx)(De,{setLoading:d,request:h,onLoad:function(e){console.log(e),c(e),d(!1)}})]})},Ca=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),g=f[0],v=f[1];return Object(a.useEffect)((function(){A().getChannels().then((function(e){c(e),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),b(!0),o(!1)):(v("An error occured "+e.message),b(!0),o(!1))}))}),[]),s?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(rt,{height:"80vh"})}):u?Object(S.jsx)(O.a,{padding:"0",sx:{display:{md:"block",sm:"none"},width:{md:"250px",sm:"90vw"}},children:Object(S.jsx)(dt,{errorMessage:g,retry:function(){n.length>0||A().getChannels().then((function(e){c(e),o(!1)})).catch((function(e){console.log(e),e.response?(v(e.response.data.problems||e.response.data.message),b(!0),o(!1)):(v("An error occured "+e.message),b(!0),o(!1))}))},height:"80vh"})}):Object(S.jsx)(O.a,{style:{padding:"1em 0 0"},children:Object(S.jsx)(fe.a,{elevation:0,style:{height:"95%",overflowY:"scroll"},children:n.map((function(e,t){return Object(S.jsx)(h.b,{to:"/main/creator/"+e.id,style:{display:"block",textDecoration:"none",color:"inherit",marginBottom:10},children:Object(S.jsxs)(m.a,{style:{textTransform:"none",display:"flex",width:"100%",justifyContent:"flex-start",color:"inherit"},children:[Object(S.jsx)(ae.a,{alt:e.name,src:e.logo}),Object(S.jsx)(p.a,{style:{marginLeft:15},children:e.name})]})},"creator"+t)}))})})},Ta=function(){return Object(S.jsx)(O.a,{children:Object(S.jsx)(O.a,{style:{maxHeight:"calc(100vh )",overflow:"hidden",paddingTop:"64px"},sx:{position:"relative",display:{sm:"block",md:"flex"}},children:Object(S.jsx)(O.a,{style:{overflowY:"scroll",height:"100vh"},flex:1,children:Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(Ca,{})})})})})},Na=function(){var e=Object(b.h)().id,t=Object(a.useState)(),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),s=Object(j.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(j.a)(d,2),h=u[0],x=u[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),y=g[0],w=g[1];Object(a.useEffect)((function(){var t=A();c?l(!1):t.getChannel(e).then((function(e){r(e),l(!1)})).catch((function(e){if(e.response){switch(l(!1),console.log(e.response),e.response.status){case 404:w(e.response.data.message);break;case 500:w("Server Error");break;default:w("Unknown Error")}l(!1)}else w(e.message),l(!1)}))}),[c]);return o?Object(S.jsx)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(rt,{})}):c?Object(S.jsxs)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},children:[Object(S.jsxs)("div",{style:{position:"relative",minHeight:"150px"},children:[Object(S.jsx)("img",{src:c.banner||"/none.png",alt:"Channel banner",style:{width:"100%",height:"250px"}}),Object(S.jsx)(ae.a,{style:{position:"absolute",left:10,bottom:10},alt:c.name,src:c.logo,sx:{width:50,height:50}})]}),Object(S.jsxs)(O.a,{display:"flex",style:{marginBottom:"20px"},children:[Object(S.jsx)(p.a,{variant:"h5",style:{flex:1},children:c.name}),Object(S.jsx)(m.a,{onClick:function(){x(!0);var e=jt();c&&e.subscribe(c.id).then((function(){alert("success"),x(!1)})).catch((function(e){e.response&&e.response.data&&alert(e.response.data.problems),x(!1)}))},children:h?Object(S.jsx)(ct.a,{}):"Subscribe"})]}),Object(S.jsx)(T,{space:20}),Object(S.jsx)(v.a,{maxWidth:"md",children:Object(S.jsx)(Ve,{videoPlaceholderCount:24,channelId:c.id,lg:4,md:4,prefix:"/main"})})]}):Object(S.jsx)(v.a,{style:{paddingTop:"64px",minHeight:"80vh"},sx:{marginLeft:{sm:0,md:"200px"},maxWidth:{md:"calc(100vw - 200px)",sm:"auto"}},children:Object(S.jsx)(C,{sx:{height:"100%"},children:Object(S.jsxs)(p.a,{children:["An error occured ",y]})})})},Wa=Object(d.a)({palette:{primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}}),Ea=Object(d.a)({palette:{mode:"dark",primary:{main:"#5352ab"},secondary:{main:"rgb(36, 186, 248)"}}});function Ia(){var e=Object(b.i)().path;return Object(S.jsx)(Pn,{children:Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/dashboard"),children:Object(S.jsx)(bn,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/edit-channel"),children:Object(S.jsx)(Ln,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/edit-bank-account"),children:Object(S.jsx)(qn,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/analytics"),children:Object(S.jsx)(xa,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/add-video"),children:Object(S.jsx)(ma,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/income"),children:Object(S.jsx)(wa,{})})]})})}function Ba(){var e=Object(b.i)().path;return Object(S.jsx)(ye,{children:Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:e,children:Object(S.jsx)(bt,{})}),Object(S.jsx)(b.b,{path:"".concat(e,"/my-dashboard"),children:Object(S.jsx)(tn,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/purchase/:id"),children:Object(S.jsx)(ka,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/restricted/:accessCode"),children:Object(S.jsx)(Sa,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/all-creators"),children:Object(S.jsx)(Ta,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/watch/:id"),children:Object(S.jsx)(qt,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/become-creator"),children:Object(S.jsx)(sn,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/creator/:id"),children:Object(S.jsx)(Na,{})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/update-billing"),children:Object(S.jsx)(Vn,{})})]})})}function za(){var e=Object(b.i)().path;return Object(S.jsx)(rn,{children:Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:e,children:Object(S.jsx)("p",{children:"lion"})}),Object(S.jsx)(b.b,{exact:!0,path:"".concat(e,"/watch/:id"),children:Object(S.jsx)(qt,{})})]})})}function Aa(){var e=Object(x.c)((function(e){return e.auth.user})),t=Object(x.c)((function(e){return e.settings.darkMode})),n=c.a.useState(!0),a=Object(j.a)(n,2),r=a[0],i=a[1],s=Object(x.b)(),d=Object(b.g)(),h=A(),p=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return i(!1),t.abrupt("return");case 3:return t.next=5,h.me();case 5:(n=t.sent)&&n.email&&s({type:"login",user:n}),i(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(console.log("darkMode"),e&&("/login"===d.pathname||"/"===d.pathname||"/signup"===d.pathname||"/explore"===d.pathname))return console.log(d.pathname),Object(S.jsx)(b.a,{to:"/main"});if(!e&&!r&&(d.pathname.startsWith("/main")||d.pathname.startsWith("/creator")))return Object(S.jsx)(b.a,{to:"/login"});var m=Object(S.jsx)("div",{children:Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:"/",children:Object(S.jsx)(rn,{children:Object(S.jsx)(L,{})})}),Object(S.jsx)(b.b,{exact:!0,path:"/login",children:Object(S.jsx)(Qe,{})}),Object(S.jsx)(b.b,{exact:!0,path:"/signup",children:Object(S.jsx)(at,{})}),Object(S.jsx)(b.b,{exact:!0,path:"/explore",children:Object(S.jsx)(rn,{children:Object(S.jsx)(He,{})})}),Object(S.jsx)(b.b,{path:"/main",children:Object(S.jsx)(Ba,{})}),Object(S.jsx)(b.b,{path:"/creator",children:Object(S.jsx)(Ia,{})}),Object(S.jsx)(b.b,{path:"/open",children:Object(S.jsx)(za,{})}),Object(S.jsx)(b.b,{path:"/creator",children:Object(S.jsx)("p",{children:"lol"})})]})});return Object(S.jsx)(u.a,{theme:t?Ea:Wa,children:Object(S.jsxs)(O.a,{sx:{bgcolor:"background.default",minHeight:"100vh",color:"text.primary"},children:[r?Object(S.jsx)(rt,{}):m,Object(S.jsx)(De,{setLoading:i,request:p,onLoad:function(){return console.log("loaded")}})]})})}var _a=function(){return console.log(Wa),Object(S.jsx)("main",{className:"App",children:Object(S.jsx)(x.a,{store:Me,children:Object(S.jsx)(h.a,{children:Object(S.jsx)(Aa,{})})})})},Pa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,545)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(_a,{})}),document.getElementById("root")),Pa()}},[[435,1,2]]]);
//# sourceMappingURL=main.9680b302.chunk.js.map